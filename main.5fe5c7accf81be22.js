(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1944:(tn,Qe,A)=>{"use strict";A.d(Qe,{$:()=>ko,A:()=>Y,G:()=>Le,K:()=>Bt,L:()=>qt,N:()=>Eo,P:()=>ur,R:()=>fl,U:()=>Nn,V:()=>Co,W:()=>Sr,X:()=>xr,Y:()=>Es,Z:()=>as,_:()=>Cs,a:()=>Ws,a0:()=>ea,a1:()=>oo,a2:()=>Ts,a3:()=>ul,a4:()=>Ka,a5:()=>Ji,a6:()=>Ur,a7:()=>Wl,a8:()=>qa,a9:()=>na,aA:()=>Qn,aB:()=>Ke,aC:()=>$,aD:()=>ci,aE:()=>wt,aF:()=>Wn,aG:()=>Zr,aH:()=>xa,aI:()=>vc,aJ:()=>$n,aN:()=>wa,aQ:()=>Ko,aa:()=>hc,ab:()=>Lo,ac:()=>xi,ad:()=>ya,ae:()=>To,af:()=>fc,ag:()=>Gs,ah:()=>Ca,ak:()=>Su,al:()=>Qo,am:()=>dl,ap:()=>ta,aq:()=>ve,as:()=>mi,at:()=>Or,au:()=>Ue,av:()=>In,aw:()=>St,ax:()=>fe,ay:()=>Ns,az:()=>Ki,b:()=>Hl,c:()=>$i,d:()=>Ra,e:()=>po,f:()=>_c,g:()=>Bh,h:()=>yd,i:()=>_,j:()=>Id,k:()=>Ql,l:()=>gc,m:()=>Zl,o:()=>Jl,p:()=>de,r:()=>aa,s:()=>Ru,u:()=>Qa});var l=A(1528),F=A(7144),B=A(9360),K=A(5976),ye=A(1316),he=A(4920);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new F.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new K.YJ("@firebase/auth");function rt(y,...f){Ne.logLevel<=K.Ge.ERROR&&Ne.error(`Auth (${B.SDK_VERSION}): ${y}`,...f)}function fe(y,...f){throw ge(y,...f)}function Ke(y,...f){return ge(y,...f)}function Ye(y,f,m){const w=Object.assign(Object.assign({},Fe()),{[f]:m});return new F.UR("auth","Firebase",w).create(f,{appName:y.name})}function Xe(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&fe(y,"argument-error"),Ye(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(y,...f){if("string"!=typeof y){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return tt.create(y,...f)}function $(y,f,...m){if(!y)throw ge(f,...m)}function be(y){const f="INTERNAL ASSERTION FAILED: "+y;throw rt(f),new Error(f)}function Ue(y,f){y||be(f)}function ze(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function et(){return"http:"===dt()||"https:"===dt()}function dt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class jt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ue(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.AV)()||(0,F.AL)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,F.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(y,f){Ue(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Re{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new jt(3e4,6e4);function me(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function je(y,f,m,w){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.c)(function*(y,f,m,w,H={}){return Tt(y,H,(0,l.c)(function*(){let ce={},at={};w&&("GET"===f?at=w:ce={body:JSON.stringify(w)});const Pt=(0,F.ik)(Object.assign({key:y.config.apiKey},at)).slice(1),sn=yield y._getAdditionalHeaders();return sn["Content-Type"]="application/json",y.languageCode&&(sn["X-Firebase-Locale"]=y.languageCode),Re.fetch()(nn(y,y.config.apiHost,m,Pt),Object.assign({method:f,headers:sn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Tt(y,f,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.c)(function*(y,f,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ie),f);try{const H=new Tn(y),ce=yield Promise.race([m(),H.promise]);H.clearNetworkTimeout();const at=yield ce.json();if("needConfirmation"in at)throw Ct(y,"account-exists-with-different-credential",at);if(ce.ok&&!("errorMessage"in at))return at;{const Pt=ce.ok?at.errorMessage:at.error.message,[sn,Hn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw Ct(y,"credential-already-in-use",at);if("EMAIL_EXISTS"===sn)throw Ct(y,"email-already-in-use",at);if("USER_DISABLED"===sn)throw Ct(y,"user-disabled",at);const er=w[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw Ye(y,er,Hn);fe(y,er)}}catch(H){if(H instanceof F.kx)throw H;fe(y,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Ft(y,f,m,w){return It.apply(this,arguments)}function It(){return(It=(0,l.c)(function*(y,f,m,w,H={}){const ce=yield je(y,f,m,w,H);return"mfaPendingCredential"in ce&&fe(y,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function nn(y,f,m,w){const H=`${f}${m}?${w}`;return y.config.emulator?lt(y.config,H):`${y.config.apiScheme}://${H}`}function Dn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ke(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ct(y,f,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const H=Ke(y,f,w);return H.customData._tokenResponse=m,H}function gt(y){return void 0!==y&&void 0!==y.getResponse}function ht(y){return void 0!==y&&void 0!==y.enterprise}class Wt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Dn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Ot(){return(Ot=(0,l.c)(function*(y){return(yield je(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gn(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.c)(function*(y,f){return je(y,"GET","/v2/recaptchaConfig",me(y,f))})).apply(this,arguments)}function nr(){return(nr=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function qn(){return(qn=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pn(){return(Pn=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function pr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Bn(){return(Bn=(0,l.c)(function*(y,f=!1){const m=(0,F.Yj)(y),w=yield m.getIdToken(f),H=kt(w);$(H&&H.exp&&H.auth_time&&H.iat,m.auth,"internal-error");const ce="object"==typeof H.firebase?H.firebase:void 0,at=null==ce?void 0:ce.sign_in_provider;return{claims:H,token:w,authTime:pr(dr(H.auth_time)),issuedAtTime:pr(dr(H.iat)),expirationTime:pr(dr(H.exp)),signInProvider:at||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function dr(y){return 1e3*Number(y)}function kt(y){const[f,m,w]=y.split(".");if(void 0===f||void 0===m||void 0===w)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,F.WW)(m);return H?JSON.parse(H):(rt("Failed to decode base64 JWT payload"),null)}catch(H){return rt("Caught error parsing JWT payload as JSON",null==H?void 0:H.toString()),null}}function ln(y,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.c)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof F.kx&&function Cn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class zn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const H=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,l.c)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,l.c)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Mn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(y){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,l.c)(function*(y){var f;const m=y.auth,w=yield y.getIdToken(),H=yield ln(y,function fn(y,f){return Pn.apply(this,arguments)}(m,{idToken:w}));$(null==H?void 0:H.users.length,m,"internal-error");const ce=H.users[0];y._notifyReloadListener(ce);const at=null!==(f=ce.providerUserInfo)&&void 0!==f&&f.length?function Ae(y){return y.map(f=>{var{providerId:m}=f,w=(0,ye.sX)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(ce.providerUserInfo):[],Pt=function pe(y,f){return[...y.filter(w=>!f.some(H=>H.providerId===w.providerId)),...f]}(y.providerData,at),er=!!y.isAnonymous&&!(y.email&&ce.passwordHash||null!=Pt&&Pt.length),Rr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Pt,metadata:new Mn(ce.createdAt,ce.lastLoginAt),isAnonymous:er};Object.assign(y,Rr)}),Lt.apply(this,arguments)}function Ge(){return(Ge=(0,l.c)(function*(y){const f=(0,F.Yj)(y);yield Sn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function qe(){return(qe=(0,l.c)(function*(y,f){const m=yield Tt(y,{},(0,l.c)(function*(){const w=(0,F.ik)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:H,apiKey:ce}=y.config,at=nn(y,H,"/v1/token",`key=${ce}`),Pt=yield y._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(at,{method:"POST",headers:Pt,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function ae(){return(ae=(0,l.c)(function*(y,f){return je(y,"POST","/v2/accounts:revokeToken",me(y,f))})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){$(f.idToken,"internal-error"),$(typeof f.idToken<"u","internal-error"),$(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function bt(y){const f=kt(y);return $(f,"internal-error"),$(typeof f.exp<"u","internal-error"),$(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,l.c)(function*(){return $(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,l.c)(function*(){const{accessToken:H,refreshToken:ce,expiresIn:at}=yield function ot(y,f){return qe.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(H,ce,Number(at))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:H,expirationTime:ce}=m,at=new z;return w&&($("string"==typeof w,"internal-error",{appName:f}),at.refreshToken=w),H&&($("string"==typeof H,"internal-error",{appName:f}),at.accessToken=H),ce&&($("number"==typeof ce,"internal-error",{appName:f}),at.expirationTime=ce),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return be("not implemented")}}function X(y,f){$("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class q{constructor(f){var{uid:m,auth:w,stsTokenManager:H}=f,ce=(0,ye.sX)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Mn(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.c)(function*(){const w=yield ln(m,m.stsTokenManager.getToken(m.auth,f));return $(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function or(y){return Bn.apply(this,arguments)}(this,f)}reload(){return function ie(y){return Ge.apply(this,arguments)}(this)}_assign(f){this!==f&&($(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new q(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,l.c)(function*(){let H=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),H=!0),m&&(yield Sn(w)),yield w.auth._persistUserIfCurrent(w),H&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,l.c)(function*(){const m=yield f.getIdToken();return yield ln(f,function An(y,f){return nr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,H,ce,at,Pt,sn,Hn,er;const Rr=null!==(w=m.displayName)&&void 0!==w?w:void 0,no=null!==(H=m.email)&&void 0!==H?H:void 0,Bo=null!==(ce=m.phoneNumber)&&void 0!==ce?ce:void 0,eu=null!==(at=m.photoURL)&&void 0!==at?at:void 0,La=null!==(Pt=m.tenantId)&&void 0!==Pt?Pt:void 0,Uu=null!==(sn=m._redirectEventId)&&void 0!==sn?sn:void 0,wl=null!==(Hn=m.createdAt)&&void 0!==Hn?Hn:void 0,tu=null!==(er=m.lastLoginAt)&&void 0!==er?er:void 0,{uid:fa,emailVerified:nu,isAnonymous:Pd,providerData:bc,stsTokenManager:ti}=m;$(fa&&ti,f,"internal-error");const Va=z.fromJSON(this.name,ti);$("string"==typeof fa,f,"internal-error"),X(Rr,f.name),X(no,f.name),$("boolean"==typeof nu,f,"internal-error"),$("boolean"==typeof Pd,f,"internal-error"),X(Bo,f.name),X(eu,f.name),X(La,f.name),X(Uu,f.name),X(wl,f.name),X(tu,f.name);const Ii=new q({uid:fa,auth:f,email:no,emailVerified:nu,displayName:Rr,isAnonymous:Pd,photoURL:eu,phoneNumber:Bo,tenantId:La,stsTokenManager:Va,createdAt:wl,lastLoginAt:tu});return bc&&Array.isArray(bc)&&(Ii.providerData=bc.map(Kh=>Object.assign({},Kh))),Uu&&(Ii._redirectEventId=Uu),Ii}static _fromIdTokenResponse(f,m,w=!1){return(0,l.c)(function*(){const H=new z;H.updateFromServerResponse(m);const ce=new q({uid:m.localId,auth:f,stsTokenManager:H,isAnonymous:w});return yield Sn(ce),ce})()}}const Ze=new Map;function wt(y){Ue(y instanceof Function,"Expected a class definition");let f=Ze.get(y);return f?(Ue(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Ze.set(y,f),f)}const Nn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.c)(function*(){return!0})()}_set(m,w){var H=this;return(0,l.c)(function*(){H.storage[m]=w})()}_get(m){var w=this;return(0,l.c)(function*(){const H=w.storage[m];return void 0===H?null:H})()}_remove(m){var w=this;return(0,l.c)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function Wn(y,f,m){return`firebase:${y}:${f}:${m}`}class hr{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:H,name:ce}=this.auth;this.fullUserKey=Wn(this.userKey,H.apiKey,ce),this.fullPersistenceKey=Wn("persistence",H.apiKey,ce),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.c)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?q._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.c)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,l.c)(function*(){if(!m.length)return new hr(wt(Nn),f,w);const H=(yield Promise.all(m.map(function(){var Hn=(0,l.c)(function*(er){if(yield er._isAvailable())return er});return function(er){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let ce=H[0]||wt(Nn);const at=Wn(w,f.config.apiKey,f.name);let Pt=null;for(const Hn of m)try{const er=yield Hn._get(at);if(er){const Rr=q._fromJSON(f,er);Hn!==ce&&(Pt=Rr),ce=Hn;break}}catch{}const sn=H.filter(Hn=>Hn._shouldAllowMigration);return ce._shouldAllowMigration&&sn.length?(ce=sn[0],Pt&&(yield ce._set(at,Pt.toJSON())),yield Promise.all(m.map(function(){var Hn=(0,l.c)(function*(er){if(er!==ce)try{yield er._remove(at)}catch{}});return function(er){return Hn.apply(this,arguments)}}())),new hr(ce,f,w)):new hr(ce,f,w)})()}}function On(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(zr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(yt(f))return"Blackberry";if(Mt(f))return"Webos";if(Xn(f))return"Safari";if((f.includes("chrome/")||fr(f))&&!f.includes("edge/"))return"Chrome";if(St(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function mn(y=(0,F.Su)()){return/firefox\//i.test(y)}function Xn(y=(0,F.Su)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function fr(y=(0,F.Su)()){return/crios\//i.test(y)}function zr(y=(0,F.Su)()){return/iemobile/i.test(y)}function St(y=(0,F.Su)()){return/android/i.test(y)}function yt(y=(0,F.Su)()){return/blackberry/i.test(y)}function Mt(y=(0,F.Su)()){return/webos/i.test(y)}function In(y=(0,F.Su)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Qn(y=(0,F.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Pr(y=(0,F.Su)()){return In(y)||St(y)||Mt(y)||yt(y)||/windows phone/i.test(y)||zr(y)}function Ar(y,f=[]){let m;switch(y){case"Browser":m=On((0,F.Su)());break;case"Worker":m=`${On((0,F.Su)())}-${y}`;break;default:m=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${B.SDK_VERSION}/${w}`}class ni{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=ce=>new Promise((at,Pt)=>{try{at(f(ce))}catch(sn){Pt(sn)}});w.onAbort=m,this.queue.push(w);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.c)(function*(){if(m.auth.currentUser===f)return;const w=[];try{for(const H of m.queue)yield H(f),H.onAbort&&w.push(H.onAbort)}catch(H){w.reverse();for(const ce of w)try{ce()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==H?void 0:H.message})}})()}}function sr(){return(sr=(0,l.c)(function*(y,f={}){return je(y,"GET","/v2/passwordPolicy",me(y,f))})).apply(this,arguments)}class Yn{constructor(f){var m,w,H,ce;const at=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=at.minPasswordLength)&&void 0!==m?m:6,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),void 0!==at.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),void 0!==at.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),void 0!==at.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),void 0!==at.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(w=f.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ce=f.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,w,H,ce,at,Pt;const sn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,sn),this.validatePasswordCharacterOptions(f,sn),sn.isValid&&(sn.isValid=null===(m=sn.meetsMinPasswordLength)||void 0===m||m),sn.isValid&&(sn.isValid=null===(w=sn.meetsMaxPasswordLength)||void 0===w||w),sn.isValid&&(sn.isValid=null===(H=sn.containsLowercaseLetter)||void 0===H||H),sn.isValid&&(sn.isValid=null===(ce=sn.containsUppercaseLetter)||void 0===ce||ce),sn.isValid&&(sn.isValid=null===(at=sn.containsNumericCharacter)||void 0===at||at),sn.isValid&&(sn.isValid=null===(Pt=sn.containsNonAlphanumericCharacter)||void 0===Pt||Pt),sn}validatePasswordLengthOptions(f,m){const w=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;w&&(m.meetsMinPasswordLength=f.length>=w),H&&(m.meetsMaxPasswordLength=f.length<=H)}validatePasswordCharacterOptions(f,m){let w;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let H=0;H<f.length;H++)w=f.charAt(H),this.updatePasswordCharacterOptionsStatuses(m,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(f,m,w,H,ce){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ce))}}class Cr{constructor(f,m,w,H){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=wt(m)),this._initializationPromise=this.queue((0,l.c)(function*(){var H,ce;if(!w._deleted&&(w.persistenceManager=yield hr.create(w,f),!w._deleted)){if(null!==(H=w._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(ce=w.currentUser)||void 0===ce?void 0:ce.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.c)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.c)(function*(){var w;const H=yield m.assertedPersistence.getCurrentUser();let ce=H,at=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Pt=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,sn=null==ce?void 0:ce._redirectEventId,Hn=yield m.tryRedirectSignIn(f);(!Pt||Pt===sn)&&null!=Hn&&Hn.user&&(ce=Hn.user,at=!0)}if(!ce)return m.directlySetCurrentUser(null);if(!ce._redirectEventId){if(at)try{yield m.beforeStateQueue.runMiddleware(ce)}catch(Pt){ce=H,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Pt))}return ce?m.reloadAndSetCurrentUserOrClear(ce):m.directlySetCurrentUser(null)}return $(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ce._redirectEventId?m.directlySetCurrentUser(ce):m.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(f){var m=this;return(0,l.c)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.c)(function*(){try{yield Sn(f)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function cn(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,l.c)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.c)(function*(){const w=f?(0,F.Yj)(f):null;return w&&$(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,l.c)(function*(){if(!w._deleted)return f&&$(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,l.c)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.c)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.c)(function*(){yield m.assertedPersistence.setPersistence(wt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,l.c)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const w=m._getPasswordPolicyInternal();return w.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.c)(function*(){const m=yield function Ci(y){return sr.apply(this,arguments)}(f),w=new Yn(m);null===f.tenantId?f._projectPasswordPolicy=w:f._tenantPasswordPolicies[f.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.UR("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const w=this.onAuthStateChanged(()=>{w(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,l.c)(function*(){if(m.currentUser){const w=yield m.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:w};null!=m.tenantId&&(H.tenantId=m.tenantId),yield function J(y,f){return ae.apply(this,arguments)}(m,H)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,l.c)(function*(){const H=yield w.getOrInitRedirectPersistenceManager(m);return null===f?H.removeCurrentUser():H.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.c)(function*(){if(!m.redirectPersistenceManager){const w=f&&wt(f)||m._popupRedirectResolver;$(w,m,"argument-error"),m.redirectPersistenceManager=yield hr.create(m,[wt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.c)(function*(){var w,H;return m._isInitialized&&(yield m.queue((0,l.c)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(H=m.redirectUser)||void 0===H?void 0:H._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.c)(function*(){if(f===m.currentUser)return m.queue((0,l.c)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,H){if(this._deleted)return()=>{};const ce="function"==typeof m?m:m.next.bind(m);let at=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if($(Pt,this,"internal-error"),Pt.then(()=>{at||ce(this.currentUser)}),"function"==typeof m){const sn=f.addObserver(m,w,H);return()=>{at=!0,sn()}}{const sn=f.addObserver(m);return()=>{at=!0,sn()}}}directlySetCurrentUser(f){var m=this;return(0,l.c)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.c)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const H=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();H&&(w["X-Firebase-Client"]=H);const ce=yield f._getAppCheckToken();return ce&&(w["X-Firebase-AppCheck"]=ce),w})()}_getAppCheckToken(){var f=this;return(0,l.c)(function*(){var m;const w=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=w&&w.error&&function Ve(y,...f){Ne.logLevel<=K.Ge.WARN&&Ne.warn(`Auth (${B.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function $n(y){return(0,F.Yj)(y)}class Gi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.my)(m=>this.observer=m)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let we={loadJS:()=>(0,l.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W(y){return we.loadJS(y)}function Kt(y){return`__${y}${Math.floor(1e6*Math.random())}`}class kn{constructor(f){this.type="recaptcha-enterprise",this.auth=$n(f)}verify(f="verify",m=!1){var w=this;return(0,l.c)(function*(){function ce(){return ce=(0,l.c)(function*(Pt){if(!m){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var sn=(0,l.c)(function*(Hn,er){gn(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rr=>{if(void 0!==Rr.recaptchaKey){const no=new Wt(Rr);return null==Pt.tenantId?Pt._agentRecaptchaConfig=no:Pt._tenantRecaptchaConfigs[Pt.tenantId]=no,Hn(no.siteKey)}er(new Error("recaptcha Enterprise site key undefined"))}).catch(Rr=>{er(Rr)})});return function(Hn,er){return sn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function at(Pt,sn,Hn){const er=window.grecaptcha;ht(er)?er.enterprise.ready(()=>{er.enterprise.execute(Pt,{action:f}).then(Rr=>{sn(Rr)}).catch(()=>{sn("NO_RECAPTCHA")})}):Hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,sn)=>{(function H(Pt){return ce.apply(this,arguments)})(w.auth).then(Hn=>{if(!m&&ht(window.grecaptcha))at(Hn,Pt,sn);else{if(typeof window>"u")return void sn(new Error("RecaptchaVerifier is only supported in browser"));let er=function ct(){return we.recaptchaEnterpriseScript}();0!==er.length&&(er+=Hn),W(er).then(()=>{at(Hn,Pt,sn)}).catch(Rr=>{sn(Rr)})}}).catch(Hn=>{sn(Hn)})})})()}}function Wr(y,f,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.c)(function*(y,f,m,w=!1){const H=new kn(y);let ce;try{ce=yield H.verify(m)}catch{ce=yield H.verify(m,!0)}const at=Object.assign({},f);return Object.assign(at,w?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at})).apply(this,arguments)}function U(y,f,m,w){return Q.apply(this,arguments)}function Q(){return Q=(0,l.c)(function*(y,f,m,w){var H;if(null!==(H=y._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield Wr(y,f,m,"getOobCode"===m);return w(y,ce)}return w(y,f).catch(function(){var ce=(0,l.c)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Wr(y,f,m,"getOobCode"===m);return w(y,Pt)}return Promise.reject(at)});return function(at){return ce.apply(this,arguments)}}())}),Q.apply(this,arguments)}function Bt(y,f,m){const w=$n(y);$(w._canInitEmulator,w,"emulator-config-failed"),$(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const H=!(null==m||!m.disableWarnings),ce=on(f),{host:at,port:Pt}=function Qt(y){const f=on(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(w);if(H){const ce=H[1];return{host:ce,port:Xt(w.substr(ce.length+1))}}{const[ce,at]=w.split(":");return{host:ce,port:Xt(at)}}}(f);w.config.emulator={url:`${ce}//${at}${null===Pt?"":`:${Pt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:at,port:Pt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function vn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function on(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Xt(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class qt{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function Vn(y,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:resetPassword",me(y,f))})).apply(this,arguments)}function Vr(){return(Vr=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function C(y,f){return oe.apply(this,arguments)}function oe(){return(oe=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function ue(){return(ue=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:update",me(y,f))})).apply(this,arguments)}function it(y,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithPassword",me(y,f))})).apply(this,arguments)}function Xr(y,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:sendOobCode",me(y,f))})).apply(this,arguments)}function Ri(){return(Ri=(0,l.c)(function*(y,f){return Xr(y,f)})).apply(this,arguments)}function Ls(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.c)(function*(y,f){return Xr(y,f)})).apply(this,arguments)}function ma(y,f){return di.apply(this,arguments)}function di(){return(di=(0,l.c)(function*(y,f){return Xr(y,f)})).apply(this,arguments)}function Jn(){return(Jn=(0,l.c)(function*(y,f){return Xr(y,f)})).apply(this,arguments)}function _s(){return(_s=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithEmailLink",me(y,f))})).apply(this,arguments)}function Ho(){return(Ho=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithEmailLink",me(y,f))})).apply(this,arguments)}class Xi extends qt{constructor(f,m,w,H=null){super("password",w),this._email=f,this._password=m,this._tenantId=H}static _fromEmailAndPassword(f,m){return new Xi(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Xi(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.c)(function*(){switch(m.signInMethod){case"password":return U(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",it);case"emailLink":return function Qi(y,f){return _s.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:fe(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,l.c)(function*(){switch(w.signInMethod){case"password":return U(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C);case"emailLink":return function rs(y,f){return Ho.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:fe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function No(y,f){return is.apply(this,arguments)}function is(){return(is=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithIdp",me(y,f))})).apply(this,arguments)}class Eo extends qt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Eo(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):fe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:H}=m,ce=(0,ye.sX)(m,["providerId","signInMethod"]);if(!w||!H)return null;const at=new Eo(w,H);return at.idToken=ce.idToken||void 0,at.accessToken=ce.accessToken||void 0,at.secret=ce.secret,at.nonce=ce.nonce,at.pendingToken=ce.pendingToken||null,at}_getIdTokenResponse(f){return No(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,No(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,No(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,F.ik)(m)}return f}}function ys(){return(ys=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:sendVerificationCode",me(y,f))})).apply(this,arguments)}function Is(){return(Is=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithPhoneNumber",me(y,f))})).apply(this,arguments)}function Pi(){return(Pi=(0,l.c)(function*(y,f){const m=yield Ft(y,"POST","/v1/accounts:signInWithPhoneNumber",me(y,f));if(m.temporaryProof)throw Ct(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wa={USER_NOT_FOUND:"user-not-found"};function Js(){return(Js=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithPhoneNumber",me(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wa)})).apply(this,arguments)}class Zi extends qt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Zi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Zi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Oo(y,f){return Is.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function wi(y,f){return Pi.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Vs(y,f){return Js.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:H}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:H}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:H,temporaryProof:ce}=f;return w||m||H||ce?new Zi({verificationId:m,verificationCode:w,phoneNumber:H,temporaryProof:ce}):null}}class zo{constructor(f){var m,w,H,ce,at,Pt;const sn=(0,F.aw)((0,F.kF)(f)),Hn=null!==(m=sn.apiKey)&&void 0!==m?m:null,er=null!==(w=sn.oobCode)&&void 0!==w?w:null,Rr=function ll(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=sn.mode)&&void 0!==H?H:null);$(Hn&&er&&Rr,"argument-error"),this.apiKey=Hn,this.operation=Rr,this.code=er,this.continueUrl=null!==(ce=sn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(at=sn.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(Pt=sn.tenantId)&&void 0!==Pt?Pt:null}static parseLink(f){const m=function ss(y){const f=(0,F.aw)((0,F.kF)(y)).link,m=f?(0,F.aw)((0,F.kF)(f)).deep_link_id:null,w=(0,F.aw)((0,F.kF)(y)).deep_link_id;return(w?(0,F.aw)((0,F.kF)(w)).link:null)||w||m||f||y}(f);try{return new zo(m)}catch{return null}}}let Co=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Xi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const H=zo.parseLink(w);return $(H,"argument-error"),Xi._fromEmailAndCode(m,H.code,H.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class si{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ti extends si{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class as extends Ti{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return $("providerId"in m&&"signInMethod"in m,"argument-error"),Eo._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return $(f.idToken||f.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return as.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return as.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:H,pendingToken:ce,nonce:at,providerId:Pt}=f;if(!w&&!H&&!m&&!ce||!Pt)return null;try{return new as(Pt)._credential({idToken:m,accessToken:w,nonce:at,pendingToken:ce})}catch{return null}}}let Sr=(()=>{class y extends Ti{constructor(){super("facebook.com")}static credential(m){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),xr=(()=>{class y extends Ti{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:H}=m;if(!w&&!H)return null;try{return y.credential(w,H)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Es=(()=>{class y extends Ti{constructor(){super("github.com")}static credential(m){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ko extends qt{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return No(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,No(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,No(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:H,pendingToken:ce}=m;return w&&H&&ce&&w===H?new Ko(w,ce):null}static _create(f,m){return new Ko(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cs extends si{constructor(f){$(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Cs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Cs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ko.fromJSON(f);return $(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Ko._create(w,m)}catch{return null}}}let ko=(()=>{class y extends Ti{constructor(){super("twitter.com")}static credential(m,w){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:H}=m;if(!w||!H)return null;try{return y.credential(w,H)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function bi(y,f){return us.apply(this,arguments)}function us(){return(us=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signUp",me(y,f))})).apply(this,arguments)}class ai{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,H=!1){return(0,l.c)(function*(){const ce=yield q._fromIdTokenResponse(f,w,H),at=Ha(w);return new ai({user:ce,providerId:at,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,l.c)(function*(){yield f._updateTokensIfNecessary(w,!0);const H=Ha(w);return new ai({user:f,providerId:H,_tokenResponse:w,operationType:m})})()}}function Ha(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ea(y){return co.apply(this,arguments)}function co(){return(co=(0,l.c)(function*(y){var f;const m=$n(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new ai({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield bi(m,{returnSecureToken:!0}),H=yield ai._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ds extends F.kx{constructor(f,m,w,H){var ce;super(m.code,m.message),this.operationType=w,this.user=H,Object.setPrototypeOf(this,Ds.prototype),this.customData={appName:f.name,tenantId:null!==(ce=f.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,H){return new Ds(f,m,w,H)}}function ws(y,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Ds._fromErrorAndOperation(y,ce,f,w):ce})}function za(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function ta(y,f){return V.apply(this,arguments)}function V(){return V=(0,l.c)(function*(y,f){const m=(0,F.Yj)(y);yield L(!0,m,f);const{providerUserInfo:w}=yield function Ln(y,f){return qn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),H=za(w||[]);return m.providerData=m.providerData.filter(ce=>H.has(ce.providerId)),H.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),V.apply(this,arguments)}function P(y,f){return le.apply(this,arguments)}function le(){return(le=(0,l.c)(function*(y,f,m=!1){const w=yield ln(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ai._forOperation(y,"link",w)})).apply(this,arguments)}function L(y,f,m){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.c)(function*(y,f,m){yield Sn(f);const H=!1===y?"provider-already-linked":"no-such-provider";$(za(f.providerData).has(m)===y,f.auth,H)})).apply(this,arguments)}function Zt(y,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.c)(function*(y,f,m=!1){const{auth:w}=y,H="reauthenticate";try{const ce=yield ln(y,ws(w,H,f,y),m);$(ce.idToken,w,"internal-error");const at=kt(ce.idToken);$(at,w,"internal-error");const{sub:Pt}=at;return $(y.uid===Pt,w,"user-mismatch"),ai._forOperation(y,H,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&fe(w,"user-mismatch"),ce}})).apply(this,arguments)}function ri(y,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.c)(function*(y,f,m=!1){const w="signIn",H=yield ws(y,w,f),ce=yield ai._fromIdTokenResponse(y,w,H);return m||(yield y._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function oo(y,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.c)(function*(y,f){return ri($n(y),f)})).apply(this,arguments)}function Ts(y,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.c)(function*(y,f){const m=(0,F.Yj)(y);return yield L(!1,m,f.providerId),P(m,f)})).apply(this,arguments)}function ul(y,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.c)(function*(y,f){return Zt((0,F.Yj)(y),f)})).apply(this,arguments)}function Us(){return(Us=(0,l.c)(function*(y,f){return Ft(y,"POST","/v1/accounts:signInWithCustomToken",me(y,f))})).apply(this,arguments)}function Ka(y,f){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,l.c)(function*(y,f){const m=$n(y),w=yield function bu(y,f){return Us.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),H=yield ai._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(H.user),H}),Fo.apply(this,arguments)}class bs{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?rr._fromServerResponse(f,m):"totpInfo"in m?li._fromServerResponse(f,m):fe(f,"internal-error")}}class rr extends bs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new rr(m)}}class li extends bs{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new li(m)}}function ii(y,f,m){var w;$((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),$(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&($(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ji(y){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.c)(function*(y){const f=$n(y);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Ji(y,f,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.c)(function*(y,f,m){const w=$n(y),H={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&ii(w,H,m),yield U(w,H,"getOobCode",Ls)})).apply(this,arguments)}function Ur(y,f,m){return jl.apply(this,arguments)}function jl(){return jl=(0,l.c)(function*(y,f,m){yield Vn((0,F.Yj)(y),{oobCode:f,newPassword:m}).catch(function(){var w=(0,l.c)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&ji(y),H});return function(H){return w.apply(this,arguments)}}())}),jl.apply(this,arguments)}function Wl(y,f){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,l.c)(function*(y,f){yield function x(y,f){return ue.apply(this,arguments)}((0,F.Yj)(y),{oobCode:f})}),Vi.apply(this,arguments)}function qa(y,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.c)(function*(y,f){const m=(0,F.Yj)(y),w=yield Vn(m,{oobCode:f}),H=w.requestType;switch($(H,m,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(w.mfaInfo,m,"internal-error");default:$(w.email,m,"internal-error")}let ce=null;return w.mfaInfo&&(ce=bs._fromServerResponse($n(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ce},operation:H}})).apply(this,arguments)}function na(y,f){return $s.apply(this,arguments)}function $s(){return($s=(0,l.c)(function*(y,f){const{data:m}=yield qa((0,F.Yj)(y),f);return m.email})).apply(this,arguments)}function hc(y,f,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.c)(function*(y,f,m){const w=$n(y),at=yield U(w,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bi).catch(sn=>{throw"auth/password-does-not-meet-requirements"===sn.code&&ji(y),sn}),Pt=yield ai._fromIdTokenResponse(w,"signIn",at);return yield w._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function Lo(y,f,m){return oo((0,F.Yj)(y),Co.credential(f,m)).catch(function(){var w=(0,l.c)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&ji(y),H});return function(H){return w.apply(this,arguments)}}())}function xi(y,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.c)(function*(y,f,m){const w=$n(y),H={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ce(at,Pt){$(Pt.handleCodeInApp,w,"argument-error"),Pt&&ii(w,at,Pt)})(H,m),yield U(w,H,"getOobCode",ma)})).apply(this,arguments)}function ya(y,f){const m=zo.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function To(y,f,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y),H=Co.credentialWithLink(f,m||ze());return $(H._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),oo(w,H)})).apply(this,arguments)}function Vo(){return(Vo=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:createAuthUri",me(y,f))})).apply(this,arguments)}function fc(y,f){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,l.c)(function*(y,f){const w={identifier:f,continueUri:et()?ze():"http://localhost"},{signinMethods:H}=yield function cl(y,f){return Vo.apply(this,arguments)}((0,F.Yj)(y),w);return H||[]}),Ea.apply(this,arguments)}function Gs(y,f){return bo.apply(this,arguments)}function bo(){return bo=(0,l.c)(function*(y,f){const m=(0,F.Yj)(y),H={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ii(m.auth,H,f);const{email:ce}=yield function yi(y,f){return Ri.apply(this,arguments)}(m.auth,H);ce!==y.email&&(yield y.reload())}),bo.apply(this,arguments)}function Ca(y,f,m){return Da.apply(this,arguments)}function Da(){return Da=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&ii(w.auth,ce,m);const{email:at}=yield function ns(y,f){return Jn.apply(this,arguments)}(w.auth,ce);at!==y.email&&(yield y.reload())}),Da.apply(this,arguments)}function ia(){return(ia=(0,l.c)(function*(y,f){return je(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Su(y,f){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,l.c)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,F.Yj)(y),ce={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},at=yield ln(w,function Au(y,f){return ia.apply(this,arguments)}(w.auth,ce));w.displayName=at.displayName||null,w.photoURL=at.photoUrl||null;const Pt=w.providerData.find(({providerId:sn})=>"password"===sn);Pt&&(Pt.displayName=w.displayName,Pt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(at)}),Ao.apply(this,arguments)}function Qo(y,f){return Ni((0,F.Yj)(y),f,null)}function dl(y,f){return Ni((0,F.Yj)(y),null,f)}function Ni(y,f,m){return ho.apply(this,arguments)}function ho(){return ho=(0,l.c)(function*(y,f,m){const{auth:w}=y,ce={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(ce.email=f),m&&(ce.password=m);const at=yield ln(y,function yr(y,f){return Vr.apply(this,arguments)}(w,ce));yield y._updateTokensIfNecessary(at,!0)}),ho.apply(this,arguments)}class fo{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class E extends fo{constructor(f,m,w,H){super(f,m,w),this.username=H}}class S extends fo{constructor(f,m){super(f,"facebook.com",m)}}class Ee extends E{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class k extends fo{constructor(f,m){super(f,"google.com",m)}}class re extends E{constructor(f,m,w){super(f,"twitter.com",m,w)}}function ve(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Xo(y){var f,m;if(!y)return null;const{providerId:w}=y,H=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ce=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&null!=y&&y.idToken){const at=null===(m=null===(f=kt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(at)return new fo(ce,"anonymous"!==at&&"custom"!==at?at:null)}if(!w)return null;switch(w){case"facebook.com":return new S(ce,H);case"github.com":return new Ee(ce,H);case"google.com":return new k(ce,H);case"twitter.com":return new re(ce,H,y.screenName||null);case"custom":case"anonymous":return new fo(ce,null);default:return new fo(ce,w,H)}}(m)}class Fr{constructor(f,m,w){this.type=f,this.credential=m,this.user=w}static _fromIdtoken(f,m){return new Fr("enroll",f,m)}static _fromMfaPendingCredential(f){return new Fr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(null!=f&&f.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Fr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Fr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class hi{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=$n(f),H=m.customData._serverResponse,ce=(H.mfaInfo||[]).map(Pt=>bs._fromServerResponse(w,Pt));$(H.mfaPendingCredential,w,"internal-error");const at=Fr._fromMfaPendingCredential(H.mfaPendingCredential);return new hi(at,ce,function(){var Pt=(0,l.c)(function*(sn){const Hn=yield sn._process(w,at);delete H.mfaInfo,delete H.mfaPendingCredential;const er=Object.assign(Object.assign({},H),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(m.operationType){case"signIn":const Rr=yield ai._fromIdTokenResponse(w,m.operationType,er);return yield w._updateCurrentUser(Rr.user),Rr;case"reauthenticate":return $(m.user,w,"internal-error"),ai._forOperation(m.user,m.operationType,er);default:fe(w,"internal-error")}});return function(sn){return Pt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.c)(function*(){return m.signInResolver(f)})()}}function mi(y,f){var m;const w=(0,F.Yj)(y),H=f;return $(f.customData.operationType,w,"argument-error"),$(null===(m=H.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),hi._fromError(w,H)}class en{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>bs._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new en(f)}getSession(){var f=this;return(0,l.c)(function*(){return Fr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var w=this;return(0,l.c)(function*(){const H=f,ce=yield w.getSession(),at=yield ln(w.user,H._process(w.user.auth,ce,m));return yield w.user._updateTokensIfNecessary(at),w.user.reload()})()}unenroll(f){var m=this;return(0,l.c)(function*(){const w="string"==typeof f?f:f.uid,H=yield m.user.getIdToken();try{const ce=yield ln(m.user,function Gr(y,f){return je(y,"POST","/v2/accounts/mfaEnrollment:withdraw",me(y,f))}(m.user.auth,{idToken:H,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:at})=>at!==w),yield m.user._updateTokensIfNecessary(ce),yield m.user.reload()}catch(ce){throw ce}})()}}const Jo=new WeakMap;function Or(y){const f=(0,F.Yj)(y);return Jo.has(f)||Jo.set(f,en._fromUser(f)),Jo.get(f)}const As="__sak";class tr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(As,"1"),this.storage.removeItem(As),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hl=(()=>{class y extends tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bn(){const y=(0,F.Su)();return Xn(y)||In(y)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const H=this.storage.getItem(w),ce=this.localCache[w];H!==ce&&m(w,ce,H)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Pt,sn,Hn)=>{this.notifyListeners(Pt,Hn)});const H=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem(H);if(m.newValue!==Pt)null!==m.newValue?this.storage.setItem(H,m.newValue):this.storage.removeItem(H);else if(this.localCache[H]===m.newValue&&!w)return}const ce=()=>{const Pt=this.storage.getItem(H);!w&&this.localCache[H]===Pt||this.notifyListeners(H,Pt)},at=this.storage.getItem(H);!function Zn(){return(0,F.Uv)()&&10===document.documentMode}()||at===m.newValue||m.newValue===m.oldValue?ce():setTimeout(ce,10)}notifyListeners(m,w){this.localCache[m]=w;const H=this.listeners[m];if(H)for(const ce of Array.from(H))ce(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var H=()=>super._set,ce=this;return(0,l.c)(function*(){yield H().call(ce,m,w),ce.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,H=this;return(0,l.c)(function*(){const ce=yield w().call(H,m);return H.localCache[m]=JSON.stringify(ce),ce})()}_remove(m){var w=()=>super._remove,H=this;return(0,l.c)(function*(){yield w().call(H,m),delete H.localCache[m]})()}}return y.type="LOCAL",y})(),Ws=(()=>{class y extends tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let gr=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(ce=>ce.isListeningto(m));if(w)return w;const H=new y(m);return this.receivers.push(H),H}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.c)(function*(){const H=m,{eventId:ce,eventType:at,data:Pt}=H.data,sn=w.handlersMap[at];if(null==sn||!sn.size)return;H.ports[0].postMessage({status:"ack",eventId:ce,eventType:at});const Hn=Array.from(sn).map(function(){var Rr=(0,l.c)(function*(no){return no(H.origin,Pt)});return function(no){return Rr.apply(this,arguments)}}()),er=yield function es(y){return Promise.all(y.map(function(){var f=(0,l.c)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Hn);H.ports[0].postMessage({status:"done",eventId:ce,eventType:at,response:er})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function wa(y="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return y+m}class Hi{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var H=this;return(0,l.c)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let at,Pt;return new Promise((sn,Hn)=>{const er=wa("",20);ce.port1.start();const Rr=setTimeout(()=>{Hn(new Error("unsupported_event"))},w);Pt={messageChannel:ce,onMessage(no){const Bo=no;if(Bo.data.eventId===er)switch(Bo.data.status){case"ack":clearTimeout(Rr),at=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),sn(Bo.data.response);break;default:clearTimeout(Rr),clearTimeout(at),Hn(new Error("invalid_response"))}}},H.handlers.add(Pt),ce.port1.addEventListener("message",Pt.onMessage),H.target.postMessage({eventType:f,eventId:er,data:m},[ce.port2])}).finally(()=>{Pt&&H.removeMessageHandler(Pt)})})()}}function Kr(){return window}function oa(){return typeof Kr().WorkerGlobalScope<"u"&&"function"==typeof Kr().importScripts}function Ta(){return(Ta=(0,l.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const so="firebaseLocalStorageDb",ds="firebaseLocalStorage",Ui="fbase_key";class Aa{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ms(y,f){return y.transaction([ds],f?"readwrite":"readonly").objectStore(ds)}function Sa(){const y=indexedDB.open(so,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ds,{keyPath:Ui})}catch(H){m(H)}}),y.addEventListener("success",(0,l.c)(function*(){const w=y.result;w.objectStoreNames.contains(ds)?f(w):(w.close(),yield function pc(){const y=indexedDB.deleteDatabase(so);return new Aa(y).toPromise()}(),f(yield Sa()))}))})}function Kl(y,f,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.c)(function*(y,f,m){const w=Ms(y,!0).put({[Ui]:f,value:m});return new Aa(w).toPromise()})).apply(this,arguments)}function hl(){return(hl=(0,l.c)(function*(y,f){const m=Ms(y,!1).get(f),w=yield new Aa(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ql(y,f){const m=Ms(y,!0).delete(f);return new Aa(m).toPromise()}const _=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.c)(function*(){return m.db||(m.db=yield Sa()),m.db})()}_withRetries(m){var w=this;return(0,l.c)(function*(){let H=0;for(;;)try{const ce=yield w._openDb();return yield m(ce)}catch(ce){if(H++>3)throw ce;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.c)(function*(){return oa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.c)(function*(){m.receiver=gr._getInstance(function zi(){return oa()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.c)(function*(H,ce){return{keyProcessed:(yield m._poll()).includes(ce.key)}});return function(H,ce){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.c)(function*(H,ce){return["keyChanged"]});return function(H,ce){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.c)(function*(){var w,H;if(m.activeServiceWorker=yield function oi(){return Ta.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Hi(m.activeServiceWorker);const ce=yield m.sender._send("ping",{},800);ce&&null!==(w=ce[0])&&void 0!==w&&w.fulfilled&&null!==(H=ce[0])&&void 0!==H&&H.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.c)(function*(){if(w.sender&&w.activeServiceWorker&&function pt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.c)(function*(){try{if(!indexedDB)return!1;const m=yield Sa();return yield Kl(m,As,"1"),yield ql(m,As),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.c)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var H=this;return(0,l.c)(function*(){return H._withPendingWrite((0,l.c)(function*(){return yield H._withRetries(ce=>Kl(ce,m,w)),H.localCache[m]=w,H.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.c)(function*(){const H=yield w._withRetries(ce=>function Mo(y,f){return hl.apply(this,arguments)}(ce,m));return w.localCache[m]=H,H})()}_remove(m){var w=this;return(0,l.c)(function*(){return w._withPendingWrite((0,l.c)(function*(){return yield w._withRetries(H=>ql(H,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.c)(function*(){const w=yield m._withRetries(at=>{const Pt=Ms(at,!1).getAll();return new Aa(Pt).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const H=[],ce=new Set;if(0!==w.length)for(const{fbase_key:at,value:Pt}of w)ce.add(at),JSON.stringify(m.localCache[at])!==JSON.stringify(Pt)&&(m.notifyListeners(at,Pt),H.push(at));for(const at of Object.keys(m.localCache))m.localCache[at]&&!ce.has(at)&&(m.notifyListeners(at,null),H.push(at));return H})()}notifyListeners(m,w){this.localCache[m]=w;const H=this.listeners[m];if(H)for(const ce of Array.from(H))ce(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.c)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),_e=1e12;class _t{constructor(f){this.auth=f,this.counter=_e,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Jt(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||_e;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||_e))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.c)(function*(){var w;return null===(w=m._widgets.get(f||_e))||void 0===w||w.execute(),""})()}}class Jt{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof f?document.getElementById(f):f;$(H,"argument-error",{appName:m}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Et(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xn=Kt("rcb"),mr=new jt(3e4,6e4);class vi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Kr().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return $(function qr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&gt(Kr().grecaptcha)?Promise.resolve(Kr().grecaptcha):new Promise((w,H)=>{const ce=Kr().setTimeout(()=>{H(Ke(f,"network-request-failed"))},mr.get());Kr()[xn]=()=>{Kr().clearTimeout(ce),delete Kr()[xn];const Pt=Kr().grecaptcha;if(!Pt||!gt(Pt))return void H(Ke(f,"internal-error"));const sn=Pt.render;Pt.render=(Hn,er)=>{const Rr=sn(Hn,er);return this.counter++,Rr},this.hostLanguage=m,w(Pt)},W(`${function De(){return we.recaptchaV2Script}()}?${(0,F.ik)({onload:xn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ce),H(Ke(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Kr().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class to{load(f){return(0,l.c)(function*(){return new _t(f)})()}clearedOneInstance(){}}const Rs="recaptcha",Ya={theme:"light",type:"image"};class fl{constructor(f,m,w=Object.assign({},Ya)){this.parameters=w,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(f),this.isInvisible="invisible"===this.parameters.size,$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof m?document.getElementById(m):m;$(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new to:new vi,this.validateStartingState()}verify(){var f=this;return(0,l.c)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(ce=>{const at=Pt=>{Pt&&(f.tokenChangeListeners.delete(at),ce(Pt))};f.tokenChangeListeners.add(at),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=Kr()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.c)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.c)(function*(){$(et()&&!oa(),f.auth,"internal-error"),yield function pl(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function yn(y){return Ot.apply(this,arguments)}(f.auth);$(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sa{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Zi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Ru(y,f,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.c)(function*(y,f,m){const w=$n(y),H=yield Oi(w,f,(0,F.Yj)(m));return new sa(H,ce=>oo(w,ce))})).apply(this,arguments)}function gc(y,f,m){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y);yield L(!1,w,"phone");const H=yield Oi(w.auth,f,(0,F.Yj)(m));return new sa(H,ce=>Ts(w,ce))})).apply(this,arguments)}function aa(y,f,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y),H=yield Oi(w.auth,f,(0,F.Yj)(m));return new sa(H,ce=>ul(w,ce))})).apply(this,arguments)}function Oi(y,f,m){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,l.c)(function*(y,f,m){var w;const H=yield m.verify();try{let ce;if($("string"==typeof H,y,"argument-error"),$(m.type===Rs,y,"argument-error"),ce="string"==typeof f?{phoneNumber:f}:f,"session"in ce){const at=ce.session;if("phoneNumber"in ce)return $("enroll"===at.type,y,"internal-error"),(yield function Wi(y,f){return je(y,"POST","/v2/accounts/mfaEnrollment:start",me(y,f))}(y,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{$("signin"===at.type,y,"internal-error");const Pt=(null===(w=ce.multiFactorHint)||void 0===w?void 0:w.uid)||ce.multiFactorUid;return $(Pt,y,"missing-multi-factor-info"),(yield function T(y,f){return je(y,"POST","/v2/accounts/mfaSignIn:start",me(y,f))}(y,{mfaPendingCredential:at.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield function Zs(y,f){return ys.apply(this,arguments)}(y,{phoneNumber:ce.phoneNumber,recaptchaToken:H});return at}}finally{m._reset()}}),Pu.apply(this,arguments)}function Qa(y,f){return md.apply(this,arguments)}function md(){return(md=(0,l.c)(function*(y,f){yield P((0,F.Yj)(y),f)})).apply(this,arguments)}let ur=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=$n(m)}verifyPhoneNumber(m,w){return Oi(this.auth,m,(0,F.Yj)(w))}static credential(m,w){return Zi._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:H}=m;return w&&H?Zi._fromTokenResponse(w,H):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ps(y,f){return f?wt(f):($(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Si extends qt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return No(f,this._buildIdpRequest())}_linkToIdToken(f,m){return No(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return No(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function wr(y){return ri(y.auth,new Si(y),y.bypassAuthState)}function Uh(y){const{auth:f,user:m}=y;return $(m,f,"internal-error"),Zt(m,new Si(y),y.bypassAuthState)}function la(y){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.c)(function*(y){const{auth:f,user:m}=y;return $(m,f,"internal-error"),P(m,new Si(y),y.bypassAuthState)})).apply(this,arguments)}class Uo{constructor(f,m,w,H,ce=!1){this.auth=f,this.resolver=w,this.user=H,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.c)(function*(w,H){f.pendingPromise={resolve:w,reject:H};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ce){f.reject(ce)}});return function(w,H){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.c)(function*(){const{urlResponse:w,sessionId:H,postBody:ce,tenantId:at,error:Pt,type:sn}=f;if(Pt)return void m.reject(Pt);const Hn={auth:m.auth,requestUri:w,sessionId:H,tenantId:at||void 0,postBody:ce||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(sn)(Hn))}catch(er){m.reject(er)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return wr;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return Uh;default:fe(this.auth,"internal-error")}}resolve(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rp=new jt(2e3,1e4);function $i(y,f,m){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.c)(function*(y,f,m){const w=$n(y);Xe(y,f,si);const H=Ps(w,m);return new Xa(w,"signInViaPopup",f,H).executeNotNull()})).apply(this,arguments)}function po(y,f,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y);Xe(w.auth,f,si);const H=Ps(w.auth,m);return new Xa(w.auth,"reauthViaPopup",f,H,w).executeNotNull()})).apply(this,arguments)}function Ra(y,f,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y);Xe(w.auth,f,si);const H=Ps(w.auth,m);return new Xa(w.auth,"linkViaPopup",f,H,w).executeNotNull()})).apply(this,arguments)}let Xa=(()=>{class y extends Uo{constructor(m,w,H,ce,at){super(m,w,ce,at),this.provider=H,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.c)(function*(){const w=yield m.execute();return $(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.c)(function*(){Ue(1===m.filter.length,"Popup operations only handle one event");const w=wa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(H=>{m.reject(H)}),m.resolver._isIframeWebStorageSupported(m.auth,H=>{H||m.reject(Ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,H;this.pollId=null!==(H=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Rp.get())};m()}}return y.currentPopupAction=null,y})();const ml="pendingRedirect",Pa=new Map;class Hs extends Uo{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.c)(function*(){let w=Pa.get(m.auth._key());if(!w){try{const ce=(yield function ua(y,f){return xs.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(ce)}catch(H){w=()=>Promise.reject(H)}Pa.set(m.auth._key(),w)}return m.bypassAuthState||Pa.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,l.c)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const H=yield w.auth._redirectUserForId(f.eventId);if(H)return w.user=H,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.c)(function*(){})()}cleanUp(){}}function xs(){return(xs=(0,l.c)(function*(y,f){const m=vl(f),w=_d(y);if(!(yield w._isAvailable()))return!1;const H="true"===(yield w._get(m));return yield w._remove(m),H})).apply(this,arguments)}function ir(y,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.c)(function*(y,f){return _d(y)._set(vl(f),"true")})).apply(this,arguments)}function vc(){Pa.clear()}function xa(y,f){Pa.set(y._key(),f)}function _d(y){return wt(y._redirectPersistence)}function vl(y){return Wn(ml,y.config.apiKey,y.name)}function _c(y,f,m){return function Na(y,f,m){return Oa.apply(this,arguments)}(y,f,m)}function Oa(){return(Oa=(0,l.c)(function*(y,f,m){const w=$n(y);Xe(y,f,si),yield w._initializationPromise;const H=Ps(w,m);return yield ir(H,w),H._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function yd(y,f,m){return function xu(y,f,m){return yc.apply(this,arguments)}(y,f,m)}function yc(){return(yc=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y);Xe(w.auth,f,si),yield w.auth._initializationPromise;const H=Ps(w.auth,m);yield ir(H,w.auth);const ce=yield _l(w);return H._openRedirect(w.auth,f,"reauthViaRedirect",ce)})).apply(this,arguments)}function Bh(y,f,m){return function $t(y,f,m){return Dr.apply(this,arguments)}(y,f,m)}function Dr(){return(Dr=(0,l.c)(function*(y,f,m){const w=(0,F.Yj)(y);Xe(w.auth,f,si),yield w.auth._initializationPromise;const H=Ps(w.auth,m);yield L(!1,w,f.providerId),yield ir(H,w.auth);const ce=yield _l(w);return H._openRedirect(w.auth,f,"linkViaRedirect",ce)})).apply(this,arguments)}function Id(y,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.c)(function*(y,f){return yield $n(y)._initializationPromise,Zr(y,f,!1)})).apply(this,arguments)}function Zr(y,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.c)(function*(y,f,m=!1){const w=$n(y),H=Ps(w,f),at=yield new Hs(w,H,m).execute();return at&&!m&&(delete at.user._redirectEventId,yield w._persistUserIfCurrent(at.user),yield w._setRedirectUser(null,f)),at})).apply(this,arguments)}function _l(y){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.c)(function*(y){const f=wa(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ci{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ed(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $h(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!$h(f)){const H=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ke(this.auth,H))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ka(f))}saveEventToCache(f){this.cachedEventUids.add(ka(f)),this.lastProcessedEventTime=Date.now()}}function ka(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function $h({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ki(y){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.c)(function*(y,f={}){return je(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ir=/^https?/;function Za(){return(Za=(0,l.c)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ki(y);for(const m of f)try{if(Cc(m))return}catch{}fe(y,"unauthorized-domain")})).apply(this,arguments)}function Cc(y){const f=ze(),{protocol:m,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const at=new URL(y);return""===at.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&at.hostname===w}if(!Ir.test(m))return!1;if(Cd.test(y))return w===y;const H=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(w)}const Dd=new jt(3e4,6e4);function wd(){const y=Kr().___jsl;if(null!=y&&y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let yl=null;const ku=new jt(5e3,15e3),Pp="__/auth/iframe",Gh="emulator/auth/iframe",Td={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jh(y){const f=y.config;$(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?lt(f,Gh):`https://${y.config.authDomain}/${Pp}`,w={apiKey:f.apiKey,appName:y.name,v:B.SDK_VERSION},H=bd.get(y.config.apiHost);H&&(w.eid=H);const ce=y._getFrameworks();return ce.length&&(w.fw=ce.join(",")),`${m}?${(0,F.ik)(w).slice(1)}`}function wc(){return wc=(0,l.c)(function*(y){const f=yield function Dc(y){return yl=yl||function Ou(y){return new Promise((f,m)=>{var w,H,ce;function at(){wd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{wd(),m(Ke(y,"network-request-failed"))},timeout:Dd.get()})}if(null!==(H=null===(w=Kr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==H&&H.Iframe)f(gapi.iframes.getContext());else{if(null===(ce=Kr().gapi)||void 0===ce||!ce.load){const Pt=Kt("iframefcb");return Kr()[Pt]=()=>{gapi.load?at():m(Ke(y,"network-request-failed"))},W(`${function At(){return we.gapiScript}()}?onload=${Pt}`).catch(sn=>m(sn))}at()}}).catch(f=>{throw yl=null,f})}(y),yl}(y),m=Kr().gapi;return $(m,y,"internal-error"),f.open({where:document.body,url:jh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Td,dontclear:!0},w=>new Promise(function(){var H=(0,l.c)(function*(ce,at){yield w.restyle({setHideOnLeave:!1});const Pt=Ke(y,"network-request-failed"),sn=Kr().setTimeout(()=>{at(Pt)},ku.get());function Hn(){Kr().clearTimeout(sn),ce(w)}w.ping(Hn).then(Hn,()=>{at(Pt)})});return function(ce,at){return H.apply(this,arguments)}}()))}),wc.apply(this,arguments)}const Sd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hh="__/auth/handler",ca="emulator/auth/handler",Md=encodeURIComponent("fac");function Ns(y,f,m,w,H,ce){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.c)(function*(y,f,m,w,H,ce){$(y.config.authDomain,y,"auth-domain-config-required"),$(y.config.apiKey,y,"invalid-api-key");const at={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:B.SDK_VERSION,eventId:H};if(f instanceof si){f.setDefaultLanguage(y.languageCode),at.providerId=f.providerId||"",(0,F.t7)(f.getCustomParameters())||(at.customParameters=JSON.stringify(f.getCustomParameters()));for(const[er,Rr]of Object.entries(ce||{}))at[er]=Rr}if(f instanceof Ti){const er=f.getScopes().filter(Rr=>""!==Rr);er.length>0&&(at.scopes=er.join(","))}y.tenantId&&(at.tid=y.tenantId);const Pt=at;for(const er of Object.keys(Pt))void 0===Pt[er]&&delete Pt[er];const sn=yield y._getAppCheckToken(),Hn=sn?`#${Md}=${encodeURIComponent(sn)}`:"";return`${function Rd({config:y}){return y.emulator?lt(y,ca):`https://${y.authDomain}/${Hh}`}(y)}?${(0,F.ik)(Pt).slice(1)}${Hn}`})).apply(this,arguments)}const Ks="webStorageSupport",Ql=class lo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=Zr,this._overrideRedirectResult=xa}_openPopup(f,m,w,H){var ce=this;return(0,l.c)(function*(){var at;Ue(null===(at=ce.eventManagers[f._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const Pt=yield Ns(f,m,w,ze(),H);return function Tc(y,f,m,w=500,H=600){const ce=Math.max((window.screen.availHeight-H)/2,0).toString(),at=Math.max((window.screen.availWidth-w)/2,0).toString();let Pt="";const sn=Object.assign(Object.assign({},Sd),{width:w.toString(),height:H.toString(),top:ce,left:at}),Hn=(0,F.Su)().toLowerCase();m&&(Pt=fr(Hn)?"_blank":m),mn(Hn)&&(f=f||"http://localhost",sn.scrollbars="yes");const er=Object.entries(sn).reduce((no,[Bo,eu])=>`${no}${Bo}=${eu},`,"");if(function Gn(y=(0,F.Su)()){var f;return In(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Hn)&&"_self"!==Pt)return function Wh(y,f){const m=document.createElement("a");m.href=y,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",Pt),new Fu(null);const Rr=window.open(f||"",Pt,er);$(Rr,y,"popup-blocked");try{Rr.focus()}catch{}return new Fu(Rr)}(f,Pt,wa())})()}_openRedirect(f,m,w,H){var ce=this;return(0,l.c)(function*(){return yield ce._originValidation(f),function zl(y){Kr().location.href=y}(yield Ns(f,m,w,ze(),H)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:H,promise:ce}=this.eventManagers[m];return H?Promise.resolve(H):(Ue(ce,"If manager is not set, promise should be"),ce)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,l.c)(function*(){const w=yield function Ad(y){return wc.apply(this,arguments)}(f),H=new ci(f);return w.register("authEvent",ce=>($(null==ce?void 0:ce.authEvent,f,"invalid-auth-event"),{status:H.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:H},m.iframes[f._key()]=w,H})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ks,{type:Ks},H=>{var ce;const at=null===(ce=null==H?void 0:H[0])||void 0===ce?void 0:ce[Ks];void 0!==at&&m(!!at),fe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lr(y){return Za.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Pr()||Xn()||In()}};class Xl{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}class Il extends Xl{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Il(f)}_finalizeEnroll(f,m,w){return function ar(y,f){return je(y,"POST","/v2/accounts/mfaEnrollment:finalize",me(y,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function M(y,f){return je(y,"POST","/v2/accounts/mfaSignIn:finalize",me(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zl=(()=>{class y{constructor(){}static assertion(m){return Il._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Vu="@firebase/auth";class Fa{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.c)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{f((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const El=(0,F.sX)("authIdTokenMaxAge")||300;let Cl=null;const ha=y=>function(){var f=(0,l.c)(function*(m){const w=m&&(yield m.getIdTokenResult()),H=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(H&&H>El)return;const ce=null==w?void 0:w.token;Cl!==ce&&(Cl=ce,yield fetch(y,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Jl(y=(0,B.getApp)()){const f=(0,B._getProvider)(y,"auth");if(f.isInitialized())return f.getImmediate();const m=function st(y,f){const m=(0,B._getProvider)(y,"auth");if(m.isInitialized()){const H=m.getImmediate(),ce=m.getOptions();if((0,F.IN)(ce,null!=f?f:{}))return H;fe(H,"already-initialized")}return m.initialize({options:f})}(y,{popupRedirectResolver:Ql,persistence:[_,Hl,Ws]}),w=(0,F.sX)("authTokenSyncURL");if(w){const ce=ha(w);(function Kn(y,f,m){(0,F.Yj)(y).beforeAuthStateChanged(f,m)})(m,ce,()=>ce(m.currentUser)),function Nt(y,f,m,w){(0,F.Yj)(y).onIdTokenChanged(f,m,w)}(m,at=>ce(at))}const H=(0,F.EB)("auth");return H&&Bt(m,`http://${H}`),m}(function Se(y){we=y})({loadJS:y=>new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=H=>{const ce=Ke("internal-error");ce.customData=H,m(ce)},w.type="text/javascript",w.charset="UTF-8",function Dl(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ms(y){(0,B._registerComponent)(new he.Yl("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),H=f.getProvider("heartbeat"),ce=f.getProvider("app-check-internal"),{apiKey:at,authDomain:Pt}=w.options;$(at&&!at.includes(":"),"invalid-api-key",{appName:w.name});const sn={apiKey:at,authDomain:Pt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(y)},Hn=new Cr(w,H,ce,sn);return function Rt(y,f){const m=(null==f?void 0:f.persistence)||[],w=(Array.isArray(m)?m:[m]).map(wt);null!=f&&f.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Hn,m),Hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new he.Yl("auth-internal",f=>{const m=$n(f.getProvider("auth").getImmediate());return new Fa(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Vu,"1.6.0",function Op(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,B.registerVersion)(Vu,"1.6.0","esm2017")}("Browser")},5718:(tn,Qe,A)=>{"use strict";A.d(Qe,{wP:()=>rp,Km:()=>gu,Om:()=>iI,YD:()=>qi,E3:()=>ol,UD:()=>rl,Mm:()=>Nt,Ez:()=>uc,EL:()=>dd,uI:()=>Iu,kR:()=>Gr,k5:()=>y_,K2:()=>Hs,o1:()=>bn,gH:()=>tr,YX:()=>Nr,K4:()=>un,Qj:()=>Rp,ss:()=>k,k1:()=>Gf,sB:()=>DI,AX:()=>C_,cT:()=>E_,y0:()=>yh,oV:()=>c0,c7:()=>nI,Cw:()=>vh,oh:()=>op,cr:()=>mm,Mp:()=>Zv,UN:()=>qv,_Q:()=>_h,Ej:()=>Yv,If:()=>oI,eg:()=>u_,Ar:()=>l_,Ws:()=>Mi,_M:()=>dc,i4:()=>bh,yS:()=>mI,cb:()=>vI,uY:()=>_I,MP:()=>yI,aC:()=>II,gZ:()=>nm,AF:()=>D_,Yf:()=>dI,_6:()=>hI,uG:()=>Wf,ee:()=>sI,ag:()=>wI,oX:()=>h_,k$:()=>s_,kt:()=>io,C:()=>em,G6:()=>d0,k9:()=>I_,S:()=>vm,Sm:()=>EI,QN:()=>E,iW:()=>gI,SQ:()=>dm,kf:()=>a_,gD:()=>CI,cl:()=>Xv,A9:()=>cm});var de,l=A(1528),F=A(9360),B=A(4920),K=A(5976),ye=A(7144),he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={},$e=$e||{},se=he||self;function Y(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function xe(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Le="closure_uid_"+(1e9*Math.random()>>>0),Fe=0;function tt(o,e,r){return o.call.apply(o.bind,arguments)}function We(o,e,r){if(!o)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),o.apply(e,c)}}return function(){return o.apply(e,arguments)}}function Ne(o,e,r){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:We).apply(null,arguments)}function Ve(o,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),o.apply(this,s)}}function rt(o,e){function r(){}r.prototype=e.prototype,o.$=e.prototype,o.prototype=new r,o.prototype.constructor=o,o.ac=function(s,c,d){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[c].apply(s,p)}}function fe(){this.s=this.s,this.o=this.o}fe.prototype.s=!1,fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Me(o){Object.prototype.hasOwnProperty.call(o,Le)&&o[Le]||(o[Le]=++Fe)}(this)},fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ye=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let r=0;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1};function Xe(o){const e=o.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=o[s];return r}return[]}function ge(o,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(Y(s)){const c=o.length||0,d=s.length||0;o.length=c+d;for(let p=0;p<d;p++)o[c+p]=s[p]}else o.push(s)}}function $(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const r=()=>{};se.addEventListener("test",r,e),se.removeEventListener("test",r,e)}catch{}return o}();function Ue(o){return/^[\s\xa0]*$/.test(o)}function ze(){var o=se.navigator;return o&&(o=o.userAgent)?o:""}function et(o){return-1!=ze().indexOf(o)}function dt(o){return dt[" "](o),o}dt[" "]=function(){};var je,o,cn=et("Opera"),jt=et("Trident")||et("MSIE"),lt=et("Edge"),Re=lt||jt,Ie=et("Gecko")&&!(-1!=ze().toLowerCase().indexOf("webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),ke=-1!=ze().toLowerCase().indexOf("webkit")&&!et("Edge");function me(){var o=se.document;return o?o.documentMode:void 0}e:{var Te="",Tt=(o=ze(),Ie?/rv:([^\);]+)(\)|;)/.exec(o):lt?/Edge\/([\d\.]+)/.exec(o):jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):ke?/WebKit\/(\S+)/.exec(o):cn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(Tt&&(Te=Tt?Tt[1]:""),jt){var Gt=me();if(null!=Gt&&Gt>parseFloat(Te)){je=String(Gt);break e}}je=Te}var nn=se.document&&jt&&(me()||parseInt(je,10))||void 0;function Dn(o,e){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,s=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(Ie){e:{try{dt(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==r?e=o.fromElement:"mouseout"==r&&(e=o.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:Tn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dn.$.h.call(this)}}rt(Dn,$);var Tn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),gt=0;function ht(o,e,r,s,c){this.listener=o,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=c,this.key=++gt,this.fa=this.ia=!1}function Wt(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function yn(o,e,r){for(const s in o)e.call(r,o[s],s,o)}function gn(o){const e={};for(const r in o)e[r]=o[r];return e}const hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function An(o,e){let r,s;for(let c=1;c<arguments.length;c++){for(r in s=arguments[c],s)o[r]=s[r];for(let d=0;d<hn.length;d++)r=hn[d],Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}}function nr(o){this.src=o,this.g={},this.h=0}function Ln(o,e){var r=e.type;if(r in o.g){var d,s=o.g[r],c=Ye(s,e);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(Wt(e),0==o.g[r].length&&(delete o.g[r],o.h--))}}function qn(o,e,r,s){for(var c=0;c<o.length;++c){var d=o[c];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return c}return-1}nr.prototype.add=function(o,e,r,s,c){var d=o.toString();(o=this.g[d])||(o=this.g[d]=[],this.h++);var p=qn(o,e,s,c);return-1<p?(e=o[p],r||(e.ia=!1)):((e=new ht(e,this.src,d,!!s,c)).ia=r,o.push(e)),e};var fn="closure_lm_"+(1e6*Math.random()|0),Pn={};function pr(o,e,r,s,c){if(s&&s.once)return Bn(o,e,r,s,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)pr(o,e[d],r,s,c);return null}return r=zn(r),o&&o[Ct]?o.O(e,r,xe(s)?!!s.capture:!!s,c):br(o,e,r,!1,s,c)}function br(o,e,r,s,c,d){if(!e)throw Error("Invalid event type");var p=xe(c)?!!c.capture:!!c,b=xt(o);if(b||(o[fn]=b=new nr(o)),(r=b.add(e,r,s,p,d)).proxy)return r;if(s=function or(){const e=ln;return function o(r){return e.call(o.src,o.listener,r)}}(),r.proxy=s,s.src=o,s.listener=r,o.addEventListener)be||(c=p),void 0===c&&(c=!1),o.addEventListener(e.toString(),s,c);else if(o.attachEvent)o.attachEvent(bt(e.toString()),s);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(s)}return r}function Bn(o,e,r,s,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Bn(o,e[d],r,s,c);return null}return r=zn(r),o&&o[Ct]?o.P(e,r,xe(s)?!!s.capture:!!s,c):br(o,e,r,!0,s,c)}function dr(o,e,r,s,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)dr(o,e[d],r,s,c);else s=xe(s)?!!s.capture:!!s,r=zn(r),o&&o[Ct]?(o=o.i,(e=String(e).toString())in o.g&&-1<(r=qn(d=o.g[e],r,s,c))&&(Wt(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete o.g[e],o.h--))):o&&(o=xt(o))&&(e=o.g[e.toString()],o=-1,e&&(o=qn(e,r,s,c)),(r=-1<o?e[o]:null)&&kt(r))}function kt(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Ct])Ln(e.i,o);else{var r=o.type,s=o.proxy;e.removeEventListener?e.removeEventListener(r,s,o.capture):e.detachEvent?e.detachEvent(bt(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=xt(e))?(Ln(r,o),0==r.h&&(r.src=null,e[fn]=null)):Wt(o)}}}function bt(o){return o in Pn?Pn[o]:Pn[o]="on"+o}function ln(o,e){if(o.fa)o=!0;else{e=new Dn(e,this);var r=o.listener,s=o.la||o.src;o.ia&&kt(o),o=r.call(s,e)}return o}function xt(o){return(o=o[fn])instanceof nr?o:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(o){return"function"==typeof o?o:(o[Cn]||(o[Cn]=function(e){return o.handleEvent(e)}),o[Cn])}function Mn(){fe.call(this),this.i=new nr(this),this.S=this,this.J=null}function Sn(o,e){var r,s=o.J;if(s)for(r=[];s;s=s.J)r.push(s);if(o=o.S,s=e.type||e,"string"==typeof e)e=new $(e,o);else if(e instanceof $)e.target=e.target||o;else{var c=e;An(e=new $(s,o),c)}if(c=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];c=Lt(p,s,!0,e)&&c}if(c=Lt(p=e.g=o,s,!0,e)&&c,c=Lt(p,s,!1,e)&&c,r)for(d=0;d<r.length;d++)c=Lt(p=e.g=r[d],s,!1,e)&&c}function Lt(o,e,r,s){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var b=p.listener,R=p.la||p.src;p.ia&&Ln(o.i,p),c=!1!==b.call(R,s)&&c}}return c&&!s.defaultPrevented}rt(Mn,fe),Mn.prototype[Ct]=!0,Mn.prototype.removeEventListener=function(o,e,r,s){dr(this,o,e,r,s)},Mn.prototype.N=function(){if(Mn.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var r=o.g[e],s=0;s<r.length;s++)Wt(r[s]);delete o.g[e],o.h--}}this.J=null},Mn.prototype.O=function(o,e,r,s){return this.i.add(String(o),e,!1,r,s)},Mn.prototype.P=function(o,e,r,s){return this.i.add(String(o),e,!0,r,s)};var ie=se.JSON.stringify;function pe(){var o=q;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var ot=new class Ge{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qe,o=>o.reset());class qe{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function J(o){var e=1;o=o.split(":");const r=[];for(;0<e&&o.length;)r.push(o.shift()),e--;return o.length&&r.push(o.join(":")),r}function ae(o){se.setTimeout(()=>{throw o},0)}let z,X=!1,q=new class Ae{constructor(){this.h=this.g=null}add(e,r){const s=ot.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Ze=()=>{const o=se.Promise.resolve(void 0);z=()=>{o.then(wt)}};var wt=()=>{for(var o;o=pe();){try{o.h.call(o.g)}catch(r){ae(r)}var e=ot;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}X=!1};function pn(o,e){Mn.call(this),this.h=o||1,this.g=e||se,this.j=Ne(this.qb,this),this.l=Date.now()}function Nn(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function Wn(o,e,r){if("function"==typeof o)r&&(o=Ne(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Ne(o.handleEvent,o)}return 2147483647<Number(e)?-1:se.setTimeout(o,e||0)}function hr(o){o.g=Wn(()=>{o.g=null,o.i&&(o.i=!1,hr(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}rt(pn,Mn),(de=pn.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sn(this,"tick"),this.ga&&(Nn(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){pn.$.N.call(this),Nn(this),delete this.g};class On extends fe{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(o){fe.call(this),this.h=o,this.g={}}rt(mn,fe);var Xn=[];function fr(o,e,r,s){Array.isArray(r)||(r&&(Xn[0]=r.toString()),r=Xn);for(var c=0;c<r.length;c++){var d=pr(e,r[c],s||o.handleEvent,!1,o.h||o);if(!d)break;o.g[d.key]=d}}function zr(o){yn(o.g,function(e,r){this.g.hasOwnProperty(r)&&kt(e)},o),o.g={}}function St(){this.g=!0}function In(o,e,r,s){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gn(o,e){if(!o.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var s=r[o];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return ie(r)}catch{return e}}(o,r)+(s?" "+s:"")})}mn.prototype.N=function(){mn.$.N.call(this),zr(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},St.prototype.Ea=function(){this.g=!1},St.prototype.info=function(){};var Zn={},Pr=null;function Er(){return Pr=Pr||new Mn}function Ar(o){$.call(this,Zn.Ta,o)}function ni(o){const e=Er();Sn(e,new Ar(e))}function Ci(o,e){$.call(this,Zn.STAT_EVENT,o),this.stat=e}function sr(o){const e=Er();Sn(e,new Ci(e,o))}function Di(o,e){$.call(this,Zn.Ua,o),this.size=e}function Yn(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){o()},e)}Zn.Ta="serverreachability",rt(Ar,$),Zn.STAT_EVENT="statevent",rt(Ci,$),Zn.Ua="timingevent",rt(Di,$);var Cr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$n={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gi(){}function Se(){}Gi.prototype.h=null;var At,W={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function De(){$.call(this,"d")}function ct(){$.call(this,"c")}function Kt(){}function rn(o,e,r,s){this.l=o,this.j=e,this.m=r,this.W=s||1,this.U=new mn(this),this.P=kn,this.V=new pn(o=Re?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yt}function Yt(){this.i=null,this.g="",this.h=!1}rt(De,$),rt(ct,$),rt(Kt,Gi),Kt.prototype.g=function(){return new XMLHttpRequest},Kt.prototype.i=function(){return{}},At=new Kt;var kn=45e3,Wr={},vt={};function U(o,e,r){o.L=1,o.A=Xr(oe(e)),o.u=r,o.S=!0,Q(o,null)}function Q(o,e){o.G=Date.now(),Rt(o),o.B=oe(o.A);var r=o.B,s=o.W;Array.isArray(s)||(s=[String(s)]),Ho(r.i,"t",s),o.o=0,r=o.l.J,o.h=new Yt,o.g=Ka(o.l,r?e:null,!o.u),0<o.O&&(o.M=new On(Ne(o.Pa,o,o.g),o.O)),fr(o.U,o.g,"readystatechange",o.nb),e=o.I?gn(o.I):{},o.u?(o.v||(o.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,e)):(o.v="GET",o.g.ha(o.B,o.v,null,e)),ni(),function yt(o,e,r,s,c,d){o.info(function(){if(o.g)if(d)for(var p="",b=d.split("&"),R=0;R<b.length;R++){var G=b[R].split("=");if(1<G.length){var ne=G[0];G=G[1];var Pe=ne.split("_");p=2<=Pe.length&&"type"==Pe[1]?p+(ne+"=")+G+"&":p+(ne+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+r+"\n"+p})}(o.j,o.v,o.B,o.m,o.W,o.u)}function He(o){return!!o.g&&"GET"==o.v&&2!=o.L&&o.l.Ha}function Be(o,e,r){let c,s=!0;for(;!o.J&&o.o<r.length;){if(c=st(o,r),c==vt){4==e&&(o.s=4,sr(14),s=!1),In(o.j,o.m,null,"[Incomplete Response]");break}if(c==Wr){o.s=4,sr(15),In(o.j,o.m,r,"[Invalid Chunk]"),s=!1;break}In(o.j,o.m,c,null),vn(o,c)}He(o)&&0!=o.o&&(o.h.g=o.h.g.slice(o.o),o.o=0),4!=e||0!=r.length||o.h.h||(o.s=1,sr(16),s=!1),o.i=o.i&&s,s?0<r.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),oo(e),e.M=!0,sr(11))):(In(o.j,o.m,r,"[Invalid Chunked Response]"),Xt(o),Qt(o))}function st(o,e){var r=o.o,s=e.indexOf("\n",r);return-1==s?vt:(r=Number(e.substring(r,s)),isNaN(r)?Wr:(s+=1)+r>e.length?vt:(e=e.slice(s,s+r),o.o=s+r,e))}function Rt(o){o.Y=Date.now()+o.P,Bt(o,o.P)}function Bt(o,e){if(null!=o.C)throw Error("WatchDog timer not null");o.C=Yn(Ne(o.lb,o),e)}function on(o){o.C&&(se.clearTimeout(o.C),o.C=null)}function Qt(o){0==o.l.H||o.J||_a(o.l,o)}function Xt(o){on(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,Nn(o.V),zr(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function vn(o,e){try{var r=o.l;if(0!=r.H&&(r.g==o||Oo(r.i,o)))if(!o.K&&Oo(r.i,o)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<o.G))break e;Ts(r),V(r)}Fi(r),sr(18)}}else r.Fa=c[1],0<r.Fa-r.V&&37500>c[2]&&r.G&&0==r.A&&!r.v&&(r.v=Yn(Ne(r.ib,r),6e3));if(1>=ys(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else qo(r,11)}else if((o.K||r.g==o)&&Ts(r),!Ue(e))for(c=r.Ja.g.parse(e),e=0;e<c.length;e++){let G=c[e];if(r.V=G[0],G=G[1],2==r.H)if("c"==G[0]){r.K=G[1],r.pa=G[2];const ne=G[3];null!=ne&&(r.ra=ne,r.l.info("VER="+r.ra));const Pe=G[4];null!=Pe&&(r.Ga=Pe,r.l.info("SVER="+r.Ga));const nt=G[5];null!=nt&&"number"==typeof nt&&0<nt&&(r.L=s=1.5*nt,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Dt=o.g;if(Dt){const En=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(En){var d=s.i;d.g||-1==En.indexOf("spdy")&&-1==En.indexOf("quic")&&-1==En.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Is(d,d.h),d.h=null))}if(s.F){const Fn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(s.Da=Fn,Un(s.I,s.F,Fn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-o.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=o;if((s=r).wa=Us(s,s.J?s.pa:null,s.Y),p.K){wi(s.i,p);var b=p,R=s.L;R&&b.setTimeout(R),b.C&&(on(b),Rt(b)),s.g=p}else ri(s);0<r.j.length&&le(r)}else"stop"!=G[0]&&"close"!=G[0]||qo(r,7);else 3==r.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?qo(r,7):ta(r):"noop"!=G[0]&&r.h&&r.h.Aa(G),r.A=0)}ni()}catch{}}function _r(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(Y(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var r=function Vn(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(Y(o)||"string"==typeof o){var e=[];o=o.length;for(var r=0;r<o;r++)e.push(r);return e}e=[],r=0;for(const s in o)e[r++]=s;return e}}}(o),s=function qt(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(Y(o)){for(var e=[],r=o.length,s=0;s<r;s++)e.push(o[s]);return e}for(s in e=[],r=0,o)e[r++]=o[s];return e}(o),c=s.length,d=0;d<c;d++)e.call(void 0,s[d],r&&r[d],o)}(de=rn.prototype).setTimeout=function(o){this.P=o},de.nb=function(o){o=o.target;const e=this.M;e&&3==ai(o)?e.l():this.Pa(o)},de.Pa=function(o){try{if(o==this.g)e:{const ne=ai(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||Re||this.g&&(this.h.h||this.g.ja()||Ha(this.g)))){this.J||4!=ne||7==e||ni(),on(this);var r=this.g.da();this.ca=r;t:if(He(this)){var s=Ha(this.g);o="";var c=s.length,d=4==ai(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Qt(this);var p="";break t}this.h.i=new se.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,o+=this.h.i.decode(s[e],{stream:d&&e==c-1});s.length=0,this.h.g+=o,this.o=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function Mt(o,e,r,s,c,d,p){o.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.v,this.B,this.m,this.W,ne,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,R=this.g;if((b=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(b)){var G=b;break t}}G=null}if(!(r=G)){this.i=!1,this.s=3,sr(12),Xt(this),Qt(this);break e}In(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,r)}this.S?(Be(this,ne,p),Re&&this.i&&3==ne&&(fr(this.U,this.V,"tick",this.mb),this.V.start())):(In(this.j,this.m,p,null),vn(this,p)),4==ne&&Xt(this),this.i&&!this.J&&(4==ne?_a(this.l,this):(this.i=!1,Rt(this)))}else(function ea(o){const e={};o=(o.g&&2<=ai(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<o.length;s++){if(Ue(o[s]))continue;var r=J(o[s]);const c=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[c]||[];e[c]=d,d.push(r)}!function Ot(o,e){for(const r in o)e.call(void 0,o[r],r,o)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),Xt(this),Qt(this)}}}catch{}},de.mb=function(){if(this.g){var o=ai(this.g),e=this.g.ja();this.o<e.length&&(on(this),Be(this,o,e),this.i&&4!=o&&Rt(this))}},de.cancel=function(){this.J=!0,Xt(this)},de.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(function Qn(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ni(),sr(17)),Xt(this),this.s=2,Qt(this)):Bt(this,this.Y-o)};var yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof C){this.h=o.h,x(this,o.j),this.s=o.s,this.g=o.g,ue(this,o.m),this.l=o.l;var e=o.i,r=new Jn;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),it(this,r),this.o=o.o}else o&&(e=String(o).match(yr))?(this.h=!1,x(this,e[1]||"",!0),this.s=gi(e[2]||""),this.g=gi(e[3]||"",!0),ue(this,e[4]),this.l=gi(e[5]||"",!0),it(this,e[6]||"",!0),this.o=gi(e[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}function oe(o){return new C(o)}function x(o,e,r){o.j=r?gi(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function ue(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function it(o,e,r){e instanceof Jn?(o.i=e,function No(o,e){e&&!o.j&&(Qi(o),o.i=null,o.g.forEach(function(r,s){var c=s.toLowerCase();s!=c&&(_s(this,s),Ho(this,c,r))},o)),o.j=e}(o.i,o.h)):(r||(e=yi(e,di)),o.i=new Jn(e,o.h))}function Un(o,e,r){o.i.set(e,r)}function Xr(o){return Un(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function gi(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yi(o,e,r){return"string"==typeof o?(o=encodeURI(o).replace(e,Ri),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ri(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}C.prototype.toString=function(){var o=[],e=this.j;e&&o.push(yi(e,Ls,!0),":");var r=this.g;return(r||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(yi(e,Ls,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&o.push("/"),o.push(yi(r,"/"==r.charAt(0)?ma:Yi,!0))),(r=this.i.toString())&&o.push("?",r),(r=this.o)&&o.push("#",yi(r,ns)),o.join("")};var Ls=/[#\/\?@]/g,Yi=/[#\?:]/g,ma=/[#\?]/g,di=/[#\?@]/g,ns=/#/g;function Jn(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Qi(o){o.g||(o.g=new Map,o.h=0,o.i&&function Vr(o,e){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var s=o[r].indexOf("="),c=null;if(0<=s){var d=o[r].substring(0,s);c=o[r].substring(s+1)}else d=o[r];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(o.i,function(e,r){o.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function _s(o,e){Qi(o),e=Xi(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function rs(o,e){return Qi(o),e=Xi(o,e),o.g.has(e)}function Ho(o,e,r){_s(o,e),0<r.length&&(o.i=null,o.g.set(Xi(o,e),Xe(r)),o.h+=r.length)}function Xi(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(de=Jn.prototype).add=function(o,e){Qi(this),this.i=null,o=Xi(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(e),this.h+=1,this},de.forEach=function(o,e){Qi(this),this.g.forEach(function(r,s){r.forEach(function(c){o.call(e,c,s,this)},this)},this)},de.ta=function(){Qi(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const c=o[s];for(let d=0;d<c.length;d++)r.push(e[s])}return r},de.Z=function(o){Qi(this);let e=[];if("string"==typeof o)rs(this,o)&&(e=e.concat(this.g.get(Xi(this,o))));else{o=Array.from(this.g.values());for(let r=0;r<o.length;r++)e=e.concat(o[r])}return e},de.set=function(o,e){return Qi(this),this.i=null,rs(this,o=Xi(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},de.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=d;""!==p[s]&&(c+="="+encodeURIComponent(String(p[s]))),o.push(c)}}return this.i=o.join("&")};var is=class{constructor(o,e){this.g=o,this.map=e}};function os(o){this.l=o||Eo,o=se.PerformanceNavigationTiming?0<(o=se.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Eo=10;function Zs(o){return!!o.h||!!o.g&&o.g.size>=o.j}function ys(o){return o.h?1:o.g?o.g.size:0}function Oo(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Is(o,e){o.g?o.g.add(e):o.h=e}function wi(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Pi(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const r of o.g.values())e=e.concat(r.F);return e}return Xe(o.i)}os.prototype.cancel=function(){if(this.i=Pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}};var Wa=class{stringify(o){return se.JSON.stringify(o,void 0)}parse(o){return se.JSON.parse(o,void 0)}};function Vs(){this.g=new Wa}function Js(o,e,r){const s=r||"";try{_r(o,function(c,d){let p=c;xe(c)&&(p=ie(c)),e.push(s+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function ll(o,e,r,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function ss(o){this.l=o.ec||null,this.j=o.ob||!1}function zo(o,e){Mn.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(ss,Gi),ss.prototype.g=function(){return new zo(this.l,this.j)},ss.prototype.i=function(o){return function(){return o}}({}),rt(zo,Mn);var ki=0;function Co(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function si(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Ti(o)}function Ti(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(de=zo.prototype).open=function(o,e){if(this.readyState!=ki)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,Ti(this)},de.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,si(this)),this.readyState=ki},de.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Co(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?si(this):Ti(this),3==this.readyState&&Co(this)}},de.Za=function(o){this.g&&(this.response=this.responseText=o,si(this))},de.Ya=function(o){this.g&&(this.response=o,si(this))},de.ka=function(){this.g&&si(this)},de.setRequestHeader=function(o,e){this.v.append(o,e)},de.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var r=e.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=e.next();return o.join("\r\n")},Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var as=se.JSON.parse;function Sr(o){Mn.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xr,this.L=this.M=!1}rt(Sr,Mn);var xr="",Es=/^https?$/i,va=["POST","PUT"];function ls(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Cs(o),bi(o)}function Cs(o){o.F||(o.F=!0,Sn(o,"complete"),Sn(o,"error"))}function ko(o){if(o.h&&typeof $e<"u"&&(!o.C[1]||4!=ai(o)||2!=o.da()))if(o.v&&4==ai(o))Wn(o.La,0,o);else if(Sn(o,"readystatechange"),4==ai(o)){o.h=!1;try{const p=o.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var c=String(o.I).match(yr)[1]||null;!c&&se.self&&se.self.location&&(c=se.self.location.protocol.slice(0,-1)),s=!Es.test(c?c.toLowerCase():"")}r=s}if(r)Sn(o,"complete"),Sn(o,"success");else{o.m=6;try{var d=2<ai(o)?o.g.statusText:""}catch{d=""}o.j=d+" ["+o.da()+"]",Cs(o)}}finally{bi(o)}}}function bi(o,e){if(o.g){us(o);const r=o.g,s=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||Sn(o,"ready");try{r.onreadystatechange=s}catch{}}}function us(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(se.clearTimeout(o.A),o.A=null)}function ai(o){return o.g?o.g.readyState:0}function Ha(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case xr:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function co(o){let e="";return yn(o,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Ds(o,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=co(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):Un(o,e,r))}function ws(o,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||e}function za(o){this.Ga=0,this.j=[],this.l=new St,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ws("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ws("baseRetryDelayMs",5e3,o),this.hb=ws("retryDelaySeedMs",1e4,o),this.eb=ws("forwardChannelMaxRetries",2,o),this.xa=ws("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new os(o&&o.concurrentRequestLimit),this.Ja=new Vs,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ta(o){if(P(o),3==o.H){var e=o.W++,r=oe(o.I);if(Un(r,"SID",o.K),Un(r,"RID",e),Un(r,"TYPE","terminate"),Zt(o,r),(e=new rn(o,o.l,e)).L=2,e.A=Xr(oe(r)),r=!1,se.navigator&&se.navigator.sendBeacon)try{r=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&se.Image&&((new Image).src=e.A,r=!0),r||(e.g=Ka(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Rt(e)}bu(o)}function V(o){o.g&&(oo(o),o.g.cancel(),o.g=null)}function P(o){V(o),o.u&&(se.clearTimeout(o.u),o.u=null),Ts(o),o.i.cancel(),o.m&&("number"==typeof o.m&&se.clearTimeout(o.m),o.m=null)}function le(o){if(!Zs(o.i)&&!o.m){o.m=!0;var e=o.Na;z||Ze(),X||(z(),X=!0),q.add(e,o),o.C=0}}function Ce(o,e){var r;r=e?e.m:o.W++;const s=oe(o.I);Un(s,"SID",o.K),Un(s,"RID",r),Un(s,"AID",o.V),Zt(o,s),o.o&&o.s&&Ds(s,o.o,o.s),r=new rn(o,o.l,r,o.C+1),null===o.o&&(r.I=o.s),e&&(o.j=e.F.concat(o.j)),e=wn(o,r,1e3),r.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),Is(o.i,r),U(r,s,e)}function Zt(o,e){o.na&&yn(o.na,function(r,s){Un(e,s,r)}),o.h&&_r({},function(r,s){Un(e,s,r)})}function wn(o,e,r){r=Math.min(o.j.length,r);var s=o.h?Ne(o.h.Va,o.h,o):null;e:{var c=o.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=c[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let b=!0;for(let R=0;R<r;R++){let G=c[R].g;const ne=c[R].map;if(G-=d,0>G)d=Math.max(0,c[R].g-100),b=!1;else try{Js(ne,p,"req"+G+"_")}catch{s&&s(ne)}}if(b){s=p.join("&");break e}}}return o=o.j.splice(0,r),e.F=o,s}function ri(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;z||Ze(),X||(z(),X=!0),q.add(e,o),o.A=0}}function Fi(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=Yn(Ne(o.Ma,o),ul(o,o.A)),o.A++,0))}function oo(o){null!=o.B&&(se.clearTimeout(o.B),o.B=null)}function Do(o){o.g=new rn(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=oe(o.wa);Un(e,"RID","rpc"),Un(e,"SID",o.K),Un(e,"AID",o.V),Un(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&Un(e,"TO",o.qa),Un(e,"TYPE","xmlhttp"),Zt(o,e),o.o&&o.s&&Ds(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var r=o.g;o=o.pa,r.L=1,r.A=Xr(oe(e)),r.u=null,r.S=!0,Q(r,o)}function Ts(o){null!=o.v&&(se.clearTimeout(o.v),o.v=null)}function _a(o,e){var r=null;if(o.g==e){Ts(o),oo(o),o.g=null;var s=2}else{if(!Oo(o.i,e))return;r=e.F,wi(o.i,e),s=1}if(0!=o.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var c=o.C;Sn(s=Er(),new Di(s,r)),le(o)}else ri(o);else if(3==(c=e.s)||0==c&&0<e.ca||!(1==s&&function L(o,e){return!(ys(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=Yn(Ne(o.Na,o,e),ul(o,o.C)),o.C++,0)))}(o,e)||2==s&&Fi(o)))switch(r&&0<r.length&&(e=o.i,e.i=e.i.concat(r)),c){case 1:qo(o,5);break;case 4:qo(o,10);break;case 3:qo(o,6);break;default:qo(o,2)}}function ul(o,e){let r=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(r*=2),r*e}function qo(o,e){if(o.l.info("Error code "+e),2==e){var r=null;o.h&&(r=null);var s=Ne(o.pb,o);r||(r=new C("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||x(r,"https"),Xr(r)),function Zi(o,e){const r=new St;if(se.Image){const s=new Image;s.onload=Ve(ll,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Ve(ll,r,s,"TestLoadImage: error",!1,e),s.onabort=Ve(ll,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ve(ll,r,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=o}else e(!1)}(r.toString(),s)}else sr(2);o.H=0,o.h&&o.h.za(e),bu(o),P(o)}function bu(o){if(o.H=0,o.ma=[],o.h){const e=Pi(o.i);(0!=e.length||0!=o.j.length)&&(ge(o.ma,e),ge(o.ma,o.j),o.i.i.length=0,Xe(o.j),o.j.length=0),o.h.ya()}}function Us(o,e,r){var s=r instanceof C?oe(r):new C(r);if(""!=s.g)e&&(s.g=e+"."+s.g),ue(s,s.m);else{var c=se.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new C(null);s&&x(d,s),e&&(d.g=e),c&&ue(d,c),r&&(d.l=r),s=d}return e=o.Da,(r=o.F)&&e&&Un(s,r,e),Un(s,"VER",o.ra),Zt(o,s),s}function Ka(o,e,r){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sr(o.Ha&&!o.va?new ss({ob:r}):o.va)).Oa(o.J),e}function Fo(){}function bs(){if(jt&&!(10<=Number(nn)))throw Error("Environmental error: no available transport.")}function rr(o,e){Mn.call(this),this.g=new za(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!Ue(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new ji(this)}function li(o){De.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const r in e){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function ii(){ct.call(this),this.status=1}function ji(o){this.g=o}function Ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bs(o,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(c=0;16>c;++c)s[c]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=o.g[3],p=(e=o.g[0])+(d^(r=o.g[1])&((c=o.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^d&(r^c))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^c^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(c^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(c^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((c=d+((p=c+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,o.g[2]=o.g[2]+c&4294967295,o.g[3]=o.g[3]+d&4294967295}function Ur(o,e){this.h=e;for(var r=[],s=!0,c=o.length-1;0<=c;c--){var d=0|o[c];s&&d==e||(r[c]=d,s=!1)}this.g=r}(de=Sr.prototype).Oa=function(o){this.M=o},de.ha=function(o,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():At.g(),this.C=function we(o){return o.h||(o.h=o.i())}(this.u?this.u:At),this.g.onreadystatechange=Ne(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(d){return void ls(this,d)}if(o=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)r.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),c=se.FormData&&o instanceof se.FormData,!(0<=Ye(va,e))||s||c||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{us(this),0<this.B&&((this.L=function Ko(o){return jt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.ua,this)):this.A=Wn(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(d){ls(this,d)}},de.ua=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sn(this,"timeout"),this.abort(8))},de.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Sn(this,"complete"),Sn(this,"abort"),bi(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bi(this,!0)),Sr.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?ko(this):this.kb())},de.kb=function(){ko(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),as(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=za.prototype).ra=8,de.H=1,de.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const c=new rn(this,this.l,o);let d=this.s;if(this.U&&(d?(d=gn(d),An(d,this.U)):d=this.U),null!==this.o||this.O||(c.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=wn(this,c,e),Un(r=oe(this.I),"RID",o),Un(r,"CVER",22),this.F&&Un(r,"X-HTTP-Session-Id",this.F),Zt(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(co(d)))+"&"+e:this.o&&Ds(r,this.o,d)),Is(this.i,c),this.bb&&Un(r,"TYPE","init"),this.P?(Un(r,"$req",e),Un(r,"SID","null"),c.aa=!0,U(c,r,null)):U(c,r,e),this.H=2}}else 3==this.H&&(o?Ce(this,o):0==this.j.length||Zs(this.i)||Ce(this))},de.Ma=function(){if(this.u=null,Do(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Yn(Ne(this.jb,this),o)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),V(this),Do(this))},de.ib=function(){null!=this.v&&(this.v=null,V(this),Fi(this),sr(19))},de.pb=function(o){o?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=Fo.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},bs.prototype.g=function(o,e){return new rr(o,e)},rt(rr,Mn),rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,r=this.h||void 0;sr(0),o.Y=e,o.na=r||{},o.G=o.aa,o.I=Us(o,null,o.Y),le(o)},rr.prototype.close=function(){ta(this.g)},rr.prototype.u=function(o){var e=this.g;if("string"==typeof o){var r={};r.__data__=o,o=r}else this.v&&((r={}).__data__=ie(o),o=r);e.j.push(new is(e.fb++,o)),3==e.H&&le(e)},rr.prototype.N=function(){this.g.h=null,delete this.j,ta(this.g),delete this.g,rr.$.N.call(this)},rt(li,De),rt(ii,ct),rt(ji,Fo),ji.prototype.Ba=function(){Sn(this.g,"a")},ji.prototype.Aa=function(o){Sn(this.g,new li(o))},ji.prototype.za=function(o){Sn(this.g,new ii)},ji.prototype.ya=function(){Sn(this.g,"b")},rt(Ji,function Li(){this.blockSize=-1}),Ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ji.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var r=e-this.blockSize,s=this.m,c=this.h,d=0;d<e;){if(0==c)for(;d<=r;)Bs(this,o,d),d+=this.blockSize;if("string"==typeof o){for(;d<e;)if(s[c++]=o.charCodeAt(d++),c==this.blockSize){Bs(this,s),c=0;break}}else for(;d<e;)if(s[c++]=o[d++],c==this.blockSize){Bs(this,s),c=0;break}}this.h=c,this.i+=e},Ji.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var r=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&r,r/=256;for(this.j(o),o=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)o[r++]=this.g[e]>>>s&255;return o};var jl={};function Wl(o){return-128<=o&&128>o?function Ut(o,e){var r=jl;return Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]=e(o)}(o,function(e){return new Ur([0|e],0>e?-1:0)}):new Ur([0|o],0>o?-1:0)}function Vi(o){if(isNaN(o)||!isFinite(o))return na;if(0>o)return xi(Vi(-o));for(var e=[],r=1,s=0;o>=r;s++)e[s]=o/r|0,r*=Yo;return new Ur(e,0)}var Yo=4294967296,na=Wl(0),$s=Wl(1),hc=Wl(16777216);function wo(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function Lo(o){return-1==o.h}function xi(o){for(var e=o.g.length,r=[],s=0;s<e;s++)r[s]=~o.g[s];return new Ur(r,~o.h).add($s)}function ra(o,e){return o.add(xi(e))}function ya(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function To(o,e){this.g=o,this.h=e}function Ia(o,e){if(wo(e))throw Error("division by zero");if(wo(o))return new To(na,na);if(Lo(o))return e=Ia(xi(o),e),new To(xi(e.g),xi(e.h));if(Lo(e))return e=Ia(o,xi(e)),new To(xi(e.g),e.h);if(30<o.g.length){if(Lo(o)||Lo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=$s,s=e;0>=s.X(o);)r=cl(r),s=cl(s);var c=Vo(r,1),d=Vo(s,1);for(s=Vo(s,2),r=Vo(r,2);!wo(s);){var p=d.add(s);0>=p.X(o)&&(c=c.add(r),d=p),s=Vo(s,1),r=Vo(r,1)}return e=ra(o,c.R(e)),new To(c,e)}for(c=na;0<=o.X(e);){for(r=Math.max(1,Math.floor(o.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=Vi(r)).R(e);Lo(p)||0<p.X(o);)p=(d=Vi(r-=s)).R(e);wo(d)&&(d=$s),c=c.add(d),o=ra(o,p)}return new To(c,o)}function cl(o){for(var e=o.g.length+1,r=[],s=0;s<e;s++)r[s]=o.D(s)<<1|o.D(s-1)>>>31;return new Ur(r,o.h)}function Vo(o,e){var r=e>>5;e%=32;for(var s=o.g.length-r,c=[],d=0;d<s;d++)c[d]=0<e?o.D(d+r)>>>e|o.D(d+r+1)<<32-e:o.D(d+r);return new Ur(c,o.h)}(de=Ur.prototype).ea=function(){if(Lo(this))return-xi(this).ea();for(var o=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);o+=(0<=s?s:Yo+s)*e,e*=Yo}return o},de.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(wo(this))return"0";if(Lo(this))return"-"+xi(this).toString(o);for(var e=Vi(Math.pow(o,6)),r=this,s="";;){var c=Ia(r,e).g,d=((0<(r=ra(r,c.R(e))).g.length?r.g[0]:r.h)>>>0).toString(o);if(wo(r=c))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},de.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},de.X=function(o){return Lo(o=ra(this,o))?-1:wo(o)?0:1},de.abs=function(){return Lo(this)?xi(this):this},de.add=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0,c=0;c<=e;c++){var d=s+(65535&this.D(c))+(65535&o.D(c)),p=(d>>>16)+(this.D(c)>>>16)+(o.D(c)>>>16);s=p>>>16,r[c]=(p&=65535)<<16|(d&=65535)}return new Ur(r,-2147483648&r[r.length-1]?-1:0)},de.R=function(o){if(wo(this)||wo(o))return na;if(Lo(this))return Lo(o)?xi(this).R(xi(o)):xi(xi(this).R(o));if(Lo(o))return xi(this.R(xi(o)));if(0>this.X(hc)&&0>o.X(hc))return Vi(this.ea()*o.ea());for(var e=this.g.length+o.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<o.g.length;c++){var d=this.D(s)>>>16,p=65535&this.D(s),b=o.D(c)>>>16,R=65535&o.D(c);r[2*s+2*c]+=p*R,ya(r,2*s+2*c),r[2*s+2*c+1]+=d*R,ya(r,2*s+2*c+1),r[2*s+2*c+1]+=p*b,ya(r,2*s+2*c+1),r[2*s+2*c+2]+=d*b,ya(r,2*s+2*c+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Ur(r,0)},de.gb=function(o){return Ia(this,o).h},de.and=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&o.D(s);return new Ur(r,this.h&o.h)},de.or=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|o.D(s);return new Ur(r,this.h|o.h)},de.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^o.D(s);return new Ur(r,this.h^o.h)},bs.prototype.createWebChannel=bs.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,$n.COMPLETE="complete",Se.EventType=W,W.OPEN="a",W.CLOSE="b",W.ERROR="c",W.MESSAGE="d",Mn.prototype.listen=Mn.prototype.O,Sr.prototype.listenOnce=Sr.prototype.P,Sr.prototype.getLastError=Sr.prototype.Sa,Sr.prototype.getLastErrorCode=Sr.prototype.Ia,Sr.prototype.getStatus=Sr.prototype.da,Sr.prototype.getResponseJson=Sr.prototype.Wa,Sr.prototype.getResponseText=Sr.prototype.ja,Sr.prototype.send=Sr.prototype.ha,Sr.prototype.setWithCredentials=Sr.prototype.Oa,Ji.prototype.digest=Ji.prototype.l,Ji.prototype.reset=Ji.prototype.reset,Ji.prototype.update=Ji.prototype.j,Ur.prototype.add=Ur.prototype.add,Ur.prototype.multiply=Ur.prototype.R,Ur.prototype.modulo=Ur.prototype.gb,Ur.prototype.compare=Ur.prototype.X,Ur.prototype.toNumber=Ur.prototype.ea,Ur.prototype.toString=Ur.prototype.toString,Ur.prototype.getBits=Ur.prototype.D,Ur.fromNumber=Vi,Ur.fromString=function qa(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return xi(qa(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Vi(Math.pow(e,8)),s=na,c=0;c<o.length;c+=8){var d=Math.min(8,o.length-c),p=parseInt(o.substring(c,c+d),e);8>d?(d=Vi(Math.pow(e,d)),s=s.R(d).add(Vi(p))):s=(s=s.R(r)).add(Vi(p))}return s};var fc=te.createWebChannelTransport=function(){return new bs},Ea=te.getStatEventTarget=function(){return Er()},Gs=te.ErrorCode=Cr,bo=te.EventType=$n,Ca=te.Event=Zn,Da=te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ia=(te.FetchXmlHttpFactory=ss,te.WebChannel=Se),Su=te.XhrIo=Sr,Ao=te.Md5=Ji,Qo=te.Integer=Ur;const dl="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let ho="10.8.0";const Xo=new K.YJ("@firebase/firestore");function fo(){return Xo.logLevel}function E(o){Xo.setLogLevel(o)}function S(o,...e){if(Xo.logLevel<=K.Ge.DEBUG){const r=e.map(re);Xo.debug(`Firestore (${ho}): ${o}`,...r)}}function Ee(o,...e){if(Xo.logLevel<=K.Ge.ERROR){const r=e.map(re);Xo.error(`Firestore (${ho}): ${o}`,...r)}}function k(o,...e){if(Xo.logLevel<=K.Ge.WARN){const r=e.map(re);Xo.warn(`Firestore (${ho}): ${o}`,...r)}}function re(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function ve(o="Unexpected state"){const e=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+o;throw Ee(e),new Error(e)}function ut(o,e){o||ve()}function un(o,e){o||ve()}function Ht(o,e){return o}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ye.kx{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Br{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ni.UNAUTHENTICATED))}shutdown(){}}class Ai{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Zo{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let c=this.i;const d=G=>this.i!==c?(c=this.i,r(G)):Promise.resolve();let p=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Kn,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const G=p;e.enqueueRetryable((0,l.c)(function*(){yield G.promise,yield d(s.currentUser)}))},R=G=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(G=>R(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?R(G):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Kn)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut("string"==typeof s.accessToken),new Br(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Ni(e)}}class $r{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class an{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new $r(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,S("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const c=d=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ut("string"==typeof r.token),this.R=r.token,new jn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mi(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<o;s++)r[s]=Math.floor(256*Math.random());return r}class Wi{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=mi(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return s}}function ar(o,e){return o<e?-1:o>e?1:0}function Yr(o,e,r){return o.length===e.length&&o.every((s,c)=>r(s,e[c]))}function eo(o){return o+"\0"}class Gr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Gr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ar(this.nanoseconds,e.nanoseconds):ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new Gr(0,0))}static max(){return new en(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jo{constructor(e,r,s){void 0===r?r=0:r>e.length&&ve(),void 0===s?s=e.length-r:s>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Jo.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let c=0;c<s;c++){const d=e.get(c),p=r.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Or extends Jo{construct(e,r,s){return new Or(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Nt(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new Or(r)}static emptyPath(){return new Or([])}}const As=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Jo{construct(e,r,s){return new tr(e,r,s)}static isValidIdentifier(e){return As.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const r=[];let s="",c=0;const d=()=>{if(0===s.length)throw new Nt(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;c<e.length;){const b=e[c];if("\\"===b){if(c+1===e.length)throw new Nt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[c+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Nt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,c+=2}else"`"===b?(p=!p,c++):"."!==b||p?(s+=b,c++):(d(),c++)}if(d(),p)throw new Nt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(r)}static emptyPath(){return new tr([])}}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(Or.fromString(e))}static fromName(e){return new bn(Or.fromString(e).popFirst(5))}static empty(){return new bn(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Or.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new Or(e.slice()))}}class Ss{constructor(e,r,s,c){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=c}}function cs(o){return o.fields.find(e=>2===e.kind)}function js(o){return o.fields.filter(e=>2!==e.kind)}Ss.UNKNOWN_ID=-1;class So{constructor(e,r){this.fieldPath=e,this.kind=r}}class es{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new es(0,Hi.min())}}function gr(o,e){const r=o.toTimestamp().seconds,s=o.toTimestamp().nanoseconds+1,c=en.fromTimestamp(1e9===s?new Gr(r+1,0):new Gr(r,s));return new Hi(c,bn.empty(),e)}function wa(o){return new Hi(o.readTime,o.key,-1)}class Hi{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Hi(en.min(),bn.empty(),-1)}static max(){return new Hi(en.max(),bn.empty(),-1)}}function Kr(o,e){let r=o.readTime.compareTo(e.readTime);return 0!==r?r:(r=bn.comparator(o.documentKey,e.documentKey),0!==r?r:ar(o.largestBatchId,e.largestBatchId))}const zl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oi(o){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,l.c)(function*(o){if(o.code!==ft.FAILED_PRECONDITION||o.message!==zl)throw o;S("LocalStore","Unexpectedly lost primary lease")}),Ta.apply(this,arguments)}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pt((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pt?r:pt.resolve(r)}catch(r){return pt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pt.reject(r)}static resolve(e){return new pt((r,s)=>{r(e)})}static reject(e){return new pt((r,s)=>{s(e)})}static waitFor(e){return new pt((r,s)=>{let c=0,d=0,p=!1;e.forEach(b=>{++c,b.next(()=>{++d,p&&d===c&&r()},R=>s(R))}),p=!0,d===c&&r()})}static or(e){let r=pt.resolve(!1);for(const s of e)r=r.next(c=>c?pt.resolve(c):s());return r}static forEach(e,r){const s=[];return e.forEach((c,d)=>{s.push(r.call(this,c,d))}),this.waitFor(s)}static mapArray(e,r){return new pt((s,c)=>{const d=e.length,p=new Array(d);let b=0;for(let R=0;R<d;R++){const G=R;r(e[G]).next(ne=>{p[G]=ne,++b,b===d&&s(p)},ne=>c(ne))}})}static doWhile(e,r){return new pt((s,c)=>{const d=()=>{!0===e()?r().next(()=>{d()},c):s()};d()})}}class zi{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ds(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=Sa(s.target.error);this.V.reject(new ds(e,c))}}static open(e,r,s,c){try{return new zi(r,e.transaction(c,s))}catch(d){throw new ds(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Aa(r)}}class so{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===so.S((0,ye.Su)())&&Ee("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return S("SimpleDb","Removing database:",e),Ms(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.yy)())return!1;if(so.C())return!0;const e=(0,ye.Su)(),r=so.S(e),s=0<r&&r<10,c=so.v(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,l.c)(function*(){return r.db||(S("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{c(new ds(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const b=p.target.error;c("VersionError"===b.name?new Nt(ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Nt(ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new ds(e,b))},d.onupgradeneeded=p=>{S("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{S("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,c){var d=this;return(0,l.c)(function*(){const p="readonly"===r;let b=0;for(;;){++b;try{d.db=yield d.O(e);const R=zi.open(d.db,e,p?"readonly":"readwrite",s),G=c(R).next(ne=>(R.g(),ne)).catch(ne=>(R.abort(ne),pt.reject(ne))).toPromise();return G.catch(()=>{}),yield R.m,G}catch(R){const G=R,ne="FirebaseError"!==G.name&&b<3;if(S("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ba{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ms(this.k.delete())}}class ds extends Nt{constructor(e,r){super(ft.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ui(o){return"IndexedDbTransactionError"===o.name}class Aa{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(S("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ms(s)}add(e){return S("SimpleDb","ADD",this.store.name,e,e),Ms(this.store.add(e))}get(e){return Ms(this.store.get(e)).next(r=>(void 0===r&&(r=null),S("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return S("SimpleDb","DELETE",this.store.name,e),Ms(this.store.delete(e))}count(){return S("SimpleDb","COUNT",this.store.name),Ms(this.store.count())}W(e,r){const s=this.options(e,r),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const d=c.getAll(s.range);return new pt((p,b)=>{d.onerror=R=>{b(R.target.error)},d.onsuccess=R=>{p(R.target.result)}})}{const d=this.cursor(s),p=[];return this.G(d,(b,R)=>{p.push(R)}).next(()=>p)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new pt((c,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{c(p.target.result)}})}H(e,r){S("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const c=this.cursor(s);return this.G(c,(d,p,b)=>b.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const c=this.cursor(s);return this.G(c,r)}Z(e){const r=this.cursor({});return new pt((s,c)=>{r.onerror=d=>{const p=Sa(d.target.error);c(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():s()}):s()}})}G(e,r){const s=[];return new pt((c,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void c();const R=new ba(b),G=r(b.primaryKey,b.value,R);if(G instanceof pt){const ne=G.catch(Pe=>(R.done(),pt.reject(Pe)));s.push(ne)}R.isDone?c():null===R.$?b.continue():b.continue(R.$)}}).next(()=>pt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ms(o){return new pt((e,r)=>{o.onsuccess=s=>{e(s.target.result)},o.onerror=s=>{const c=Sa(s.target.error);r(c)}})}let pc=!1;function Sa(o){const e=so.S((0,ye.Su)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const s=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pc||(pc=!0,setTimeout(()=>{throw s},0)),s}}return o}class Kl{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;S("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.c)(function*(){r.task=null;try{S("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Ui(s)?S("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield oi(s)}yield r.ee(6e4)}))}}class Mu{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,l.c)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let c=r,d=!0;return pt.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return S("IndexBackfiller",`Processing collection: ${p}`),this.re(e,p,c).next(b=>{c-=b,s.add(p)});d=!1})).next(()=>r-c)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(c,d)).next(b=>(S("IndexBackfiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,r,b))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((c,d)=>{const p=wa(d);Kr(p,s)>0&&(s=p)}),new Hi(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Mo=(()=>{class o{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.se(c),this.oe=c=>s.writeSequenceNumber(c))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return o._e=-1,o})();function hl(o){return null==o}function ql(o){return 0===o&&1/o==-1/0}function Vh(o){return"number"==typeof o&&Number.isInteger(o)&&!ql(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function Ro(o){let e="";for(let r=0;r<o.length;r++)e.length>0&&(e=_(e)),e=Um(o.get(r),e);return _(e)}function Um(o,e){let r=e;const s=o.length;for(let c=0;c<s;c++){const d=o.charAt(c);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function _(o){return o+"\x01\x01"}function T(o){const e=o.length;if(ut(e>=2),2===e)return ut("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Or.emptyPath();const r=e-2,s=[];let c="";for(let d=0;d<e;){const p=o.indexOf("\x01",d);switch((p<0||p>r)&&ve(),o.charAt(p+1)){case"\x01":const b=o.substring(d,p);let R;0===c.length?R=b:(c+=b,R=c,c=""),s.push(R);break;case"\x10":c+=o.substring(d,p),c+="\0";break;case"\x11":c+=o.substring(d,p+1);break;default:ve()}d=p+2}return new Or(s)}const M=["userId","batchId"];function D(o,e){return[o,Ro(e)]}function N(o,e,r){return[o,Ro(e),r]}const ee={},_e=["prefixPath","collectionGroup","readTime","documentId"],_t=["prefixPath","collectionGroup","documentId"],Jt=["collectionGroup","readTime","prefixPath","documentId"],Et=["canonicalId","targetId"],xn=["targetId","path"],mr=["path","targetId"],vi=["collectionId","parent"],qr=["indexId","uid"],to=["uid","sequenceNumber"],Rs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ya=["indexId","uid","orderedDocumentKey"],fl=["userId","collectionPath","documentId"],pl=["userId","collectionPath","largestBatchId"],sa=["userId","collectionGroup","largestBatchId"],Ru=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ma=[...Ru,"documentOverlays"],gc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mc=gc,aa=[...mc,"indexConfiguration","indexState","indexEntries"];class Yl extends oa{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function Oi(o,e){const r=Ht(o);return so.M(r.ae,e)}function Pu(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function Qa(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function md(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class ur{constructor(e,r){this.comparator=e,this.root=r||Si.EMPTY}insert(e,r){return new ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}}class Ps{constructor(e,r,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,r,s,c,d){this.key=e,this.value=r,this.color=null!=s?s:Si.RED,this.left=null!=c?c:Si.EMPTY,this.right=null!=d?d:Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,c,d){return new Si(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return Si.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,s,c,d){return this}insert(e,r,s){return new Si(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class Uh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function la(o){return o.hasNext()?o.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new wr(tr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Yr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Uo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Rp(){return typeof atob<"u"}class $i{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Uo("Invalid base64 string: "+d):d}}(e);return new $i(r)}static fromUint8Array(e){const r=function(c){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);return d}(e);return new $i(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const vd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(o){if(ut(!!o),"string"==typeof o){let e=0;const r=vd.exec(o);if(ut(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_i(o.seconds),nanos:_i(o.nanos)}}function _i(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Ra(o){return"string"==typeof o?$i.fromBase64String(o):$i.fromUint8Array(o)}function gl(o){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Xa(o){const e=o.mapValue.fields.__previous_value__;return gl(e)?Xa(e):e}function ml(o){const e=po(o.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}class Pa{constructor(e,r,s,c,d,p,b,R,G){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=R,this.useFetchStreams=G}}class Hs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hs&&e.projectId===this.projectId&&e.database===this.database}}const ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xs={nullValue:"NULL_VALUE"};function ir(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?gl(o)?4:Id(o)?9007199254740991:10:ve()}function hs(o,e){if(o===e)return!0;const r=ir(o);if(r!==ir(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return ml(o).isEqual(ml(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const p=po(c.timestampValue),b=po(d.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return d=e,Ra(o.bytesValue).isEqual(Ra(d.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(c,d){return _i(c.geoPointValue.latitude)===_i(d.geoPointValue.latitude)&&_i(c.geoPointValue.longitude)===_i(d.geoPointValue.longitude)}(o,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return _i(c.integerValue)===_i(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const p=_i(c.doubleValue),b=_i(d.doubleValue);return p===b?ql(p)===ql(b):isNaN(p)&&isNaN(b)}return!1}(o,e);case 9:return Yr(o.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:return function(c,d){const p=c.mapValue.fields||{},b=d.mapValue.fields||{};if(Pu(p)!==Pu(b))return!1;for(const R in p)if(p.hasOwnProperty(R)&&(void 0===b[R]||!hs(p[R],b[R])))return!1;return!0}(o,e);default:return ve()}var d}function vc(o,e){return void 0!==(o.values||[]).find(r=>hs(r,e))}function xa(o,e){if(o===e)return 0;const r=ir(o),s=ir(e);if(r!==s)return ar(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return ar(o.booleanValue,e.booleanValue);case 2:return function(d,p){const b=_i(d.integerValue||d.doubleValue),R=_i(p.integerValue||p.doubleValue);return b<R?-1:b>R?1:b===R?0:isNaN(b)?isNaN(R)?0:-1:1}(o,e);case 3:return _d(o.timestampValue,e.timestampValue);case 4:return _d(ml(o),ml(e));case 5:return ar(o.stringValue,e.stringValue);case 6:return function(d,p){const b=Ra(d),R=Ra(p);return b.compareTo(R)}(o.bytesValue,e.bytesValue);case 7:return function(d,p){const b=d.split("/"),R=p.split("/");for(let G=0;G<b.length&&G<R.length;G++){const ne=ar(b[G],R[G]);if(0!==ne)return ne}return ar(b.length,R.length)}(o.referenceValue,e.referenceValue);case 8:return function(d,p){const b=ar(_i(d.latitude),_i(p.latitude));return 0!==b?b:ar(_i(d.longitude),_i(p.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(d,p){const b=d.values||[],R=p.values||[];for(let G=0;G<b.length&&G<R.length;++G){const ne=xa(b[G],R[G]);if(ne)return ne}return ar(b.length,R.length)}(o.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===ua.mapValue&&p===ua.mapValue)return 0;if(d===ua.mapValue)return 1;if(p===ua.mapValue)return-1;const b=d.fields||{},R=Object.keys(b),G=p.fields||{},ne=Object.keys(G);R.sort(),ne.sort();for(let Pe=0;Pe<R.length&&Pe<ne.length;++Pe){const nt=ar(R[Pe],ne[Pe]);if(0!==nt)return nt;const Dt=xa(b[R[Pe]],G[ne[Pe]]);if(0!==Dt)return Dt}return ar(R.length,ne.length)}(o.mapValue,e.mapValue);default:throw ve()}}function _d(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return ar(o,e);const r=po(o),s=po(e),c=ar(r.seconds,s.seconds);return 0!==c?c:ar(r.nanos,s.nanos)}function vl(o){return _c(o)}function _c(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const s=po(r);return`time(${s.seconds},${s.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?Ra(o.bytesValue).toBase64():"referenceValue"in o?bn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let s="[",c=!0;for(const d of r.values||[])c?c=!1:s+=",",s+=_c(d);return s+"]"}(o.arrayValue):"mapValue"in o?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const p of s)d?d=!1:c+=",",c+=`${p}:${_c(r.fields[p])}`;return c+"}"}(o.mapValue):ve()}function Oa(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function yd(o){return!!o&&"integerValue"in o}function xu(o){return!!o&&"arrayValue"in o}function yc(o){return!!o&&"nullValue"in o}function Bh(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function $t(o){return!!o&&"mapValue"in o}function Dr(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Qa(o.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Dr(s)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dr(o.arrayValue.values[r]);return e}return Object.assign({},o)}function Id(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ic(o){return"nullValue"in o?xs:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Oa(Hs.empty(),bn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:ve()}function Zr(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Oa(Hs.empty(),bn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?ua:ve()}function Nu(o,e){const r=xa(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function _l(o,e){const r=xa(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!$t(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dr(r)}setAll(e){let r=tr.emptyPath(),s={},c=[];e.forEach((p,b)=>{if(!r.isImmediateParentOf(b)){const R=this.getFieldsMap(r);this.applyChanges(R,s,c),s={},c=[],r=b.popLast()}p?s[b.lastSegment()]=Dr(p):c.push(b.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,c)}delete(e){const r=this.field(e.popLast());$t(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=r.mapValue.fields[e.get(s)];$t(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,s){Qa(r,(c,d)=>e[c]=d);for(const c of s)delete e[c]}clone(){return new ui(Dr(this.value))}}function Ec(o){const e=[];return Qa(o.fields,(r,s)=>{const c=new tr([r]);if($t(s)){const d=Ec(s.mapValue).fields;if(0===d.length)e.push(c);else for(const p of d)e.push(c.child(p))}else e.push(c)}),new Bi(e)}class ci{constructor(e,r,s,c,d,p,b){this.key=e,this.documentType=r,this.version=s,this.readTime=c,this.createTime=d,this.data=p,this.documentState=b}static newInvalidDocument(e){return new ci(e,0,en.min(),en.min(),en.min(),ui.empty(),0)}static newFoundDocument(e,r,s,c){return new ci(e,1,r,en.min(),s,c,0)}static newNoDocument(e,r){return new ci(e,2,r,en.min(),en.min(),ui.empty(),0)}static newUnknownDocument(e,r){return new ci(e,3,r,en.min(),en.min(),ui.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(en.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,r){this.position=e,this.inclusive=r}}function $h(o,e,r){let s=0;for(let c=0;c<o.position.length;c++){const d=e[c],p=o.position[c];if(s=d.field.isKeyField()?bn.comparator(bn.fromName(p.referenceValue),r.key):xa(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Ed(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!hs(o.position[r],e.position[r]))return!1;return!0}class Ki{constructor(e,r="asc"){this.field=e,this.dir=r}}function zs(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Cd{}class Ir extends Cd{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Pp(e,r,s):"array-contains"===r?new jh(e,s):"in"===r?new Ad(e,s):"not-in"===r?new wc(e,s):"array-contains-any"===r?new Sd(e,s):new Ir(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Gh(e,s):new Td(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(xa(r,this.value)):null!==r&&ir(this.value)===ir(r)&&this.matchesComparison(xa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends Cd{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new Lr(e,r)}matches(e){return Za(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Za(o){return"and"===o.op}function Cc(o){return"or"===o.op}function Dd(o){return wd(o)&&Za(o)}function wd(o){for(const e of o.filters)if(e instanceof Lr)return!1;return!0}function Ou(o){if(o instanceof Ir)return o.field.canonicalString()+o.op.toString()+vl(o.value);if(Dd(o))return o.filters.map(e=>Ou(e)).join(",");{const e=o.filters.map(r=>Ou(r)).join(",");return`${o.op}(${e})`}}function yl(o,e){return o instanceof Ir?(s=o,(c=e)instanceof Ir&&s.op===c.op&&s.field.isEqual(c.field)&&hs(s.value,c.value)):o instanceof Lr?function(s,c){return c instanceof Lr&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((d,p,b)=>d&&yl(p,c.filters[b]),!0)}(o,e):void ve();var s,c}function Dc(o,e){const r=o.filters.concat(e);return Lr.create(r,o.op)}function ku(o){return o instanceof Ir?`${(r=o).field.canonicalString()} ${r.op} ${vl(r.value)}`:o instanceof Lr?function(r){return r.op.toString()+" {"+r.getFilters().map(ku).join(" ,")+"}"}(o):"Filter";var r}class Pp extends Ir{constructor(e,r,s){super(e,r,s),this.key=bn.fromName(s.referenceValue)}matches(e){const r=bn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Gh extends Ir{constructor(e,r){super(e,"in",r),this.keys=bd(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Td extends Ir{constructor(e,r){super(e,"not-in",r),this.keys=bd(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bd(o,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>bn.fromName(s.referenceValue))}class jh extends Ir{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xu(r)&&vc(r.arrayValue,this.value)}}class Ad extends Ir{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&vc(this.value.arrayValue,r)}}class wc extends Ir{constructor(e,r){super(e,"not-in",r)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!vc(this.value.arrayValue,r)}}class Sd extends Ir{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xu(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>vc(this.value.arrayValue,s))}}class xp{constructor(e,r=null,s=[],c=[],d=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=p,this.endAt=b,this.ce=null}}function ao(o,e=null,r=[],s=[],c=null,d=null,p=null){return new xp(o,e,r,s,c,d,p)}function fs(o){const e=Ht(o);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ou(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),hl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>vl(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>vl(s)).join(",")),e.ce=r}return e.ce}function ei(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!zs(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!yl(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!Ed(o.startAt,e.startAt)&&Ed(o.endAt,e.endAt)}function Fu(o){return bn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Tc(o,e){return o.filters.filter(r=>r instanceof Ir&&r.field.isEqual(e))}function Wh(o,e,r){let s=xs,c=!0;for(const d of Tc(o,e)){let p=xs,b=!0;switch(d.op){case"<":case"<=":p=Ic(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,b=!1;break;case"!=":case"not-in":p=xs}Nu({value:s,inclusive:c},{value:p,inclusive:b})<0&&(s=p,c=b)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];Nu({value:s,inclusive:c},{value:p,inclusive:r.inclusive})<0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}function Hh(o,e,r){let s=ua,c=!0;for(const d of Tc(o,e)){let p=ua,b=!0;switch(d.op){case">=":case">":p=Zr(d.value),b=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,b=!1;break;case"!=":case"not-in":p=ua}_l({value:s,inclusive:c},{value:p,inclusive:b})>0&&(s=p,c=b)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];_l({value:s,inclusive:c},{value:p,inclusive:r.inclusive})>0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}class ca{constructor(e,r=null,s=[],c=[],d=null,p="F",b=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=p,this.startAt=b,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Md(o,e,r,s,c,d,p,b){return new ca(o,e,r,s,c,d,p,b)}function Ns(o){return new ca(o)}function ps(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Rd(o){return null!==o.collectionGroup}function Ks(o){const e=Ht(o);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new wr(tr.comparator);return p.filters.forEach(R=>{R.getFlattenedFilters().forEach(G=>{G.isInequality()&&(b=b.add(G.field))})}),b})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Ki(d,s))}),r.has(tr.keyField().canonicalString())||e.le.push(new Ki(tr.keyField(),s))}return e.le}function lo(o){const e=Ht(o);return e.he||(e.he=function Ql(o,e){if("F"===o.limitType)return ao(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(c=>new Ki(c.field,"desc"===c.dir?"asc":"desc"));const r=o.endAt?new ka(o.endAt.position,o.endAt.inclusive):null,s=o.startAt?new ka(o.startAt.position,o.startAt.inclusive):null;return ao(o.path,o.collectionGroup,e,o.filters,o.limit,r,s)}}(e,Ks(o))),e.he}function Xl(o,e){const r=o.filters.concat([e]);return new ca(o.path,o.collectionGroup,o.explicitOrderBy.slice(),r,o.limit,o.limitType,o.startAt,o.endAt)}function Il(o,e,r){return new ca(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function Zl(o,e){return ei(lo(o),lo(e))&&o.limitType===e.limitType}function Np(o){return`${fs(lo(o))}|lt:${o.limitType}`}function gs(o){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>ku(c)).join(", ")}]`),hl(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>vl(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>vl(c)).join(",")),`Target(${s})`}(lo(o))}; limitType=${o.limitType})`}function da(o,e){return e.isFoundDocument()&&function(s,c){const d=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):bn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(o,e)&&function(s,c){for(const d of Ks(s))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(o,e)&&function(s,c){for(const d of s.filters)if(!d.matches(c))return!1;return!0}(o,e)&&(c=e,!((s=o).startAt&&!function(p,b,R){const G=$h(p,b,R);return p.inclusive?G<=0:G<0}(s.startAt,Ks(s),c)||s.endAt&&!function(p,b,R){const G=$h(p,b,R);return p.inclusive?G>=0:G>0}(s.endAt,Ks(s),c)));var s,c}function Lu(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function Vu(o){return(e,r)=>{let s=!1;for(const c of Ks(o)){const d=zh(c,e,r);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function zh(o,e,r){const s=o.field.isKeyField()?bn.comparator(e.key,r.key):function(d,p,b){const R=p.data.field(d),G=b.data.field(d);return null!==R&&null!==G?xa(R,G):ve()}(o.field,e,r);switch(o.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}class Fa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(r,s)=>{for(const[c,d]of s)e(c,d)})}isEmpty(){return md(this.inner)}size(){return this.innerSize}}const Op=new ur(bn.comparator);function ms(){return Op}const kp=new ur(bn.comparator);function El(...o){let e=kp;for(const r of o)e=e.insert(r.key,r);return e}function Cl(o){let e=kp;return o.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function ha(){return Dl()}function Jl(){return Dl()}function Dl(){return new Fa(o=>o.toString(),(o,e)=>o.isEqual(e))}const y=new ur(bn.comparator),f=new wr(bn.comparator);function m(...o){let e=f;for(const r of o)e=e.add(r);return e}const w=new wr(ar);function H(){return w}function ce(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function at(o){return{integerValue:""+o}}function Pt(o,e){return Vh(e)?at(e):ce(o,e)}class sn{constructor(){this._=void 0}}function Hn(o,e,r){return o instanceof no?function(c,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&gl(d)&&(d=Xa(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):o instanceof Bo?eu(o,e):o instanceof La?Uu(o,e):function(c,d){const p=Rr(c,d),b=tu(p)+tu(c.Ie);return yd(p)&&yd(c.Ie)?at(b):ce(c.serializer,b)}(o,e)}function er(o,e,r){return o instanceof Bo?eu(o,e):o instanceof La?Uu(o,e):r}function Rr(o,e){return o instanceof wl?yd(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class no extends sn{}class Bo extends sn{constructor(e){super(),this.elements=e}}function eu(o,e){const r=fa(e);for(const s of o.elements)r.some(c=>hs(c,s))||r.push(s);return{arrayValue:{values:r}}}class La extends sn{constructor(e){super(),this.elements=e}}function Uu(o,e){let r=fa(e);for(const s of o.elements)r=r.filter(c=>!hs(c,s));return{arrayValue:{values:r}}}class wl extends sn{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function tu(o){return _i(o.integerValue||o.doubleValue)}function fa(o){return xu(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class nu{constructor(e,r){this.field=e,this.transform=r}}class bc{constructor(e,r){this.version=e,this.transformResults=r}}class ti{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Va(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Ii{}function Kh(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new $u(o.key,ti.none()):new Tl(o.key,o.data,ti.none());{const r=o.data,s=ui.empty();let c=new wr(tr.comparator);for(let d of e.fields)if(!c.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),c=c.add(d)}return new bl(o.key,s,new Bi(c.toArray()),ti.none())}}function Bm(o,e,r){o instanceof Tl?function(c,d,p){const b=c.value.clone(),R=qh(c.fieldTransforms,d,p.transformResults);b.setAll(R),d.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(o,e,r):o instanceof bl?function(c,d,p){if(!Va(c.precondition,d))return void d.convertToUnknownDocument(p.version);const b=qh(c.fieldTransforms,d,p.transformResults),R=d.data;R.setAll(Lp(c)),R.setAll(b),d.convertToFoundDocument(p.version,R).setHasCommittedMutations()}(o,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Bu(o,e,r,s){return o instanceof Tl?function(d,p,b,R){if(!Va(d.precondition,p))return b;const G=d.value.clone(),ne=xd(d.fieldTransforms,R,p);return G.setAll(ne),p.convertToFoundDocument(p.version,G).setHasLocalMutations(),null}(o,e,r,s):o instanceof bl?function(d,p,b,R){if(!Va(d.precondition,p))return b;const G=xd(d.fieldTransforms,R,p),ne=p.data;return ne.setAll(Lp(d)),ne.setAll(G),p.convertToFoundDocument(p.version,ne).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Pe=>Pe.field))}(o,e,r,s):(b=r,Va(o.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function iy(o,e){let r=null;for(const s of o.fieldTransforms){const c=e.data.field(s.field),d=Rr(s.transform,c||null);null!=d&&(null===r&&(r=ui.empty()),r.set(s.field,d))}return r||null}function Fp(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=o.fieldTransforms)&&void 0===c||s&&c&&Yr(s,c,(d,p)=>function Pd(o,e){return o.field.isEqual(e.field)&&(c=e.transform,(s=o.transform)instanceof Bo&&c instanceof Bo||s instanceof La&&c instanceof La?Yr(s.elements,c.elements,hs):s instanceof wl&&c instanceof wl?hs(s.Ie,c.Ie):s instanceof no&&c instanceof no);var s,c}(d,p))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var s,c}class Tl extends Ii{constructor(e,r,s,c=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class bl extends Ii{constructor(e,r,s,c,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Lp(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=o.data.field(r);e.set(r,s)}}),e}function qh(o,e,r){const s=new Map;ut(o.length===r.length);for(let c=0;c<r.length;c++){const d=o[c],p=d.transform,b=e.data.field(d.field);s.set(d.field,er(p,b,r[c]))}return s}function xd(o,e,r){const s=new Map;for(const c of o){const d=c.transform,p=r.data.field(c.field);s.set(c.field,Hn(d,p,e))}return s}class $u extends Ii{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vp extends Ii{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Up{constructor(e,r,s,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&Bm(d,e,s[c])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Bu(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Bu(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Jl();return this.mutations.forEach(c=>{const d=e.get(c.key),p=d.overlayedDocument;let b=this.applyToLocalView(p,d.mutatedFields);b=r.has(c.key)?null:b;const R=Kh(p,b);null!==R&&s.set(c.key,R),p.isValidDocument()||p.convertToNoDocument(en.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),m())}isEqual(e){return this.batchId===e.batchId&&Yr(this.mutations,e.mutations,(r,s)=>Fp(r,s))&&Yr(this.baseMutations,e.baseMutations,(r,s)=>Fp(r,s))}}class Bp{constructor(e,r,s,c){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(e,r,s){ut(e.mutations.length===s.length);let c=function(){return y}();const d=e.mutations;for(let p=0;p<d.length;p++)c=c.insert(d[p].key,s[p].version);return new Bp(e,r,s,c)}}class Yh{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $m{constructor(e,r){this.count=e,this.unchangedNames=r}}var uo,Qr;function sy(o){switch(o){default:return ve();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function $p(o){if(void 0===o)return Ee("GRPC error has no .code"),ft.UNKNOWN;switch(o){case uo.OK:return ft.OK;case uo.CANCELLED:return ft.CANCELLED;case uo.UNKNOWN:return ft.UNKNOWN;case uo.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case uo.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case uo.INTERNAL:return ft.INTERNAL;case uo.UNAVAILABLE:return ft.UNAVAILABLE;case uo.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case uo.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case uo.NOT_FOUND:return ft.NOT_FOUND;case uo.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case uo.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case uo.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case uo.ABORTED:return ft.ABORTED;case uo.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case uo.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case uo.DATA_LOSS:return ft.DATA_LOSS;default:return ve()}}(Qr=uo||(uo={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";function Os(){return new TextEncoder}const zE=new Qo([4294967295,4294967295],0);function Gp(o){const e=Os().encode(o),r=new Ao;return r.update(e),new Uint8Array(r.digest())}function ay(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Qo([r,s],0),new Qo([c,d],0)]}class Od{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new qs(`Invalid padding: ${r}`);if(s<0)throw new qs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new qs(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new qs(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Qo.fromNumber(this.Te)}de(e,r,s){let c=e.add(r.multiply(Qo.fromNumber(s)));return 1===c.compare(zE)&&(c=new Qo([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Gp(e),[s,c]=ay(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new Od(d,c,r);return s.forEach(b=>p.insert(b)),p}insert(e){if(0===this.Te)return;const r=Gp(e),[s,c]=ay(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class qs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,r,s,c,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const c=new Map;return c.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ac(en.min(),c,new ur(ar),ms(),m())}}class Ja{constructor(e,r,s,c,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ja(s,r,m(),m(),m())}}class Qh{constructor(e,r,s,c){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=c}}class Gm{constructor(e,r){this.targetId=e,this.fe=r}}class jp{constructor(e,r,s=$i.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=c}}class ly{constructor(){this.ge=0,this.pe=cy(),this.ye=$i.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=m(),r=m(),s=m();return this.pe.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:ve()}}),new Ja(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=cy()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class KE{constructor(e){this.Le=e,this.ke=new Map,this.qe=ms(),this.Qe=uy(),this.Ke=new ur(ar)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,c)=>{this.je(c)&&r(c)})}Je(e){const r=e.targetId,s=e.fe.count,c=this.Ye(r);if(c){const d=c.target;if(Fu(d))if(0===s){const p=new bn(d.path);this.We(r,p,ci.newNoDocument(p,en.min()))}else ut(1===s);else{const p=this.Ze(r);if(p!==s){const b=this.Xe(e),R=b?this.et(b,e,p):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=r;let p,b;try{p=Ra(s).toUint8Array()}catch(R){if(R instanceof Uo)return k("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{b=new Od(p,c,d)}catch(R){return k(R instanceof qs?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===b.Te?null:b}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let c=0;return s.forEach(d=>{const p=this.Le.nt(),b=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(b)||(this.We(r,d,null),c++)}),c}it(e){const r=new Map;this.ke.forEach((d,p)=>{const b=this.Ye(p);if(b){if(d.current&&Fu(b.target)){const R=new bn(b.target.path);null!==this.qe.get(R)||this.st(p,R)||this.We(p,R,ci.newNoDocument(R,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=m();this.Qe.forEach((d,p)=>{let b=!0;p.forEachWhile(R=>{const G=this.Ye(R);return!G||"TargetPurposeLimboResolution"===G.purpose||(b=!1,!1)}),b&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const c=new Ac(e,r,this.Ke,this.qe,s);return this.qe=ms(),this.Qe=uy(),this.Ke=new ur(ar),c}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const c=this.ze(e);this.st(e,r)?c.Me(r,1):c.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new ly,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new wr(ar),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||S("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ly),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function uy(){return new ur(bn.comparator)}function cy(){return new ur(bn.comparator)}const qE={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sc={and:"AND",or:"OR"};class kd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Xh(o,e){return o.useProto3Json||hl(e)?e:{value:e}}function Mc(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zh(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function el(o,e){return Mc(o,e.toTimestamp())}function ro(o){return ut(!!o),en.fromTimestamp(function(r){const s=po(r);return new Gr(s.seconds,s.nanos)}(o))}function Fd(o,e){return Gu(o,e).canonicalString()}function Gu(o,e){const r=(c=o,new Or(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function jm(o){const e=Or.fromString(o);return ut(Wu(e)),e}function Rc(o,e){return Fd(o.databaseId,e.path)}function Ua(o,e){const r=jm(e);if(r.get(1)!==o.databaseId.projectId)throw new Nt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new Nt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new bn(Wm(r))}function Ld(o,e){return Fd(o.databaseId,e)}function Vd(o){const e=jm(o);return 4===e.length?Or.emptyPath():Wm(e)}function Ud(o){return new Or(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Wm(o){return ut(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Al(o,e,r){return{name:Rc(o,e),fields:r.value.mapValue.fields}}function Wp(o,e,r){const s=Ua(o,e.name),c=ro(e.updateTime),d=e.createTime?ro(e.createTime):en.min(),p=new ui({mapValue:{fields:e.fields}}),b=ci.newFoundDocument(s,c,d,p);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function ju(o,e){let r;if(e instanceof Tl)r={update:Al(o,e.key,e.value)};else if(e instanceof $u)r={delete:Rc(o,e.key)};else if(e instanceof bl)r={update:Al(o,e.key,e.data),updateMask:ef(e.fieldMask)};else{if(!(e instanceof Vp))return ve();r={verify:Rc(o,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const b=p.transform;if(b instanceof no)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Bo)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof La)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof wl)return{fieldPath:p.field.canonicalString(),increment:b.Ie};throw ve()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:el(o,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:ve()),r;var d}function zm(o,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?ti.updateTime(ro(d.updateTime)):void 0!==d.exists?ti.exists(d.exists):ti.none():ti.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,b){let R=null;"setToServerValue"in b?(ut("REQUEST_TIME"===b.setToServerValue),R=new no):"appendMissingElements"in b?R=new Bo(b.appendMissingElements.values||[]):"removeAllFromArray"in b?R=new La(b.removeAllFromArray.values||[]):"increment"in b?R=new wl(p,b.increment):ve();const G=tr.fromServerFormat(b.fieldPath);return new nu(G,R)}(o,c)):[];var d;if(e.update){const c=Ua(o,e.update.name),d=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Bi((e.updateMask.fieldPaths||[]).map(ne=>tr.fromServerFormat(ne)));return new bl(c,d,p,r,s)}return new Tl(c,d,r,s)}if(e.delete){const c=Ua(o,e.delete);return new $u(c,r)}if(e.verify){const c=Ua(o,e.verify);return new Vp(c,r)}return ve()}function Km(o,e){return{documents:[Ld(o,e.path)]}}function Hp(o,e){const r={structuredQuery:{}},s=e.path;let c;null!==e.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ld(o,c);const d=function(G){if(0!==G.length)return Bd(Lr.create(G,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const p=function(G){if(0!==G.length)return G.map(ne=>{return{field:tl((nt=ne).field),direction:Jh(nt.dir)};var nt})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=Xh(o,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(G=e.startAt).inclusive,values:G.position}),e.endAt&&(r.structuredQuery.endAt=function(G){return{before:!G.inclusive,values:G.position}}(e.endAt)),{ut:r,parent:c};var G}function qm(o){let e=Vd(o.parent);const r=o.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){ut(1===s);const ne=r.from[0];ne.allDescendants?c=ne.collectionId:e=e.child(ne.collectionId)}let d=[];r.where&&(d=function(Pe){const nt=fy(Pe);return nt instanceof Lr&&Dd(nt)?nt.getFilters():[nt]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(nt=>{return new Ki(Ba((En=nt).field),function(Rn){switch(Rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(En.direction));var En}));let b=null;r.limit&&(b=function(Pe){let nt;return nt="object"==typeof Pe?Pe.value:Pe,hl(nt)?null:nt}(r.limit));let R=null;var Pe;r.startAt&&(R=new ka((Pe=r.startAt).values||[],!!Pe.before));let G=null;return r.endAt&&(G=function(Pe){return new ka(Pe.values||[],!Pe.before)}(r.endAt)),Md(e,c,p,d,b,"F",R,G)}function fy(o){return void 0!==o.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ba(r.unaryFilter.field);return Ir.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=Ba(r.unaryFilter.field);return Ir.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Ba(r.unaryFilter.field);return Ir.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ba(r.unaryFilter.field);return Ir.create(p,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(o):void 0!==o.fieldFilter?Ir.create(Ba((r=o).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==o.compositeFilter?function(r){return Lr.create(r.compositeFilter.filters.map(s=>fy(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(o):ve();var r}function Jh(o){return qE[o]}function py(o){return dy[o]}function zp(o){return Sc[o]}function tl(o){return{fieldPath:o.canonicalString()}}function Ba(o){return tr.fromServerFormat(o.fieldPath)}function Bd(o){return o instanceof Ir?function(r){if("=="===r.op){if(Bh(r.value))return{unaryFilter:{field:tl(r.field),op:"IS_NAN"}};if(yc(r.value))return{unaryFilter:{field:tl(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Bh(r.value))return{unaryFilter:{field:tl(r.field),op:"IS_NOT_NAN"}};if(yc(r.value))return{unaryFilter:{field:tl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(r.field),op:py(r.op),value:r.value}}}(o):o instanceof Lr?function(r){const s=r.getFilters().map(c=>Bd(c));return 1===s.length?s[0]:{compositeFilter:{op:zp(r.op),filters:s}}}(o):ve()}function ef(o){const e=[];return o.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Wu(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class Ys{constructor(e,r,s,c,d=en.min(),p=en.min(),b=$i.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=R}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hu{constructor(e){this.ct=e}}function $d(o,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ru(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Rc(d=o.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Mc(d,p.version.toTimestamp()),createTime:Mc(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Pc(e.version)};else{if(!e.isUnknownDocument())return ve();s.unknownDocument={path:r.path.toArray(),version:Pc(e.version)}}var d,p;return s}function ru(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function Pc(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(o){const e=new Gr(o.seconds,o.nanoseconds);return en.fromTimestamp(e)}function $a(o,e){const r=(e.baseMutations||[]).map(d=>zm(o.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>zm(o.ct,d)),c=Gr.fromMillis(e.localWriteTimeMs);return new Up(e.batchId,c,r,s)}function Gd(o){const e=Sl(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?Sl(o.lastLimboFreeSnapshotVersion):en.min();let s;return s=void 0!==o.query.documents?(ut(1===(d=o.query).documents.length),lo(Ns(Vd(d.documents[0])))):function(d){return lo(qm(d))}(o.query),new Ys(s,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,r,$i.fromBase64String(o.resumeToken));var d}function qp(o,e){const r=Pc(e.snapshotVersion),s=Pc(e.lastLimboFreeSnapshotVersion);let c;c=Fu(e.target)?Km(o.ct,e.target):Hp(o.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fs(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Yp(o){const e=qm({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Il(e,e.limit,"L"):e}function Qp(o,e){return new Yh(e.largestBatchId,zm(o.ct,e.overlayMutation))}function tf(o,e){const r=e.path.lastSegment();return[o,Ro(e.path.popLast()),r]}function Xp(o,e,r,s){return{indexId:o,uid:e,sequenceNumber:r,readTime:Pc(s.readTime),documentKey:Ro(s.documentKey.path),largestBatchId:s.largestBatchId}}class gy{getBundleMetadata(e,r){return Ym(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Sl(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Ym(e).put({bundleId:(c=r).id,createTime:Pc(ro(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return zu(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Yp(d.bundledQuery),readTime:Sl(d.readTime)};var d})}saveNamedQuery(e,r){return zu(e).put({name:(c=r).name,readTime:Pc(ro(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Ym(o){return Oi(o,"bundles")}function zu(o){return Oi(o,"namedQueries")}class jd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new jd(e,r.uid||"")}getOverlay(e,r){return Ku(e).get(tf(this.userId,r)).next(s=>s?Qp(this.serializer,s):null)}getOverlays(e,r){const s=ha();return pt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){const c=[];return s.forEach((d,p)=>{const b=new Yh(r,p);c.push(this.ht(e,b))}),pt.waitFor(c)}removeOverlaysForBatchId(e,r,s){const c=new Set;r.forEach(p=>c.add(Ro(p.getCollectionPath())));const d=[];return c.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Ku(e).H("collectionPathOverlayIndex",b))}),pt.waitFor(d)}getOverlaysForCollection(e,r,s){const c=ha(),d=Ro(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ku(e).W("collectionPathOverlayIndex",p).next(b=>{for(const R of b){const G=Qp(this.serializer,R);c.set(G.getKey(),G)}return c})}getOverlaysForCollectionGroup(e,r,s,c){const d=ha();let p;const b=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ku(e).Y({index:"collectionGroupOverlayIndex",range:b},(R,G,ne)=>{const Pe=Qp(this.serializer,G);d.size()<c||Pe.largestBatchId===p?(d.set(Pe.getKey(),Pe),p=Pe.largestBatchId):ne.done()}).next(()=>d)}ht(e,r){return Ku(e).put(function(c,d,p){const[b,R,G]=tf(d,p.mutation.key);return{userId:d,collectionPath:R,documentId:G,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:ju(c.ct,p.mutation)}}(this.serializer,this.userId,r))}}function Ku(o){return Oi(o,"documentOverlays")}class iu{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(_i(e.integerValue));else if("doubleValue"in e){const s=_i(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),ql(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ra(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Id(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):ve()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const c of Object.keys(s))this.Rt(c,r),this.It(s[c],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const c of s)this.It(c,r)}gt(e,r){this.Et(r,37),bn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function XE(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function my(o){const e=64-function(s){let c=0;for(let d=0;d<8;++d){const p=XE(255&s[d]);if(c+=p,8!==p)break}return c}(o);return Math.ceil(e/8)}iu.bt=new iu;class Wd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Bt(e){const r=this.Lt(e),s=my(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(e){const r=this.Lt(e),s=my(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let c=1;c<r.length;++c)r[c]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class vy{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class nf{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class qu{constructor(){this.Gt=new Wd,this.zt=new vy(this.Gt),this.jt=new nf(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Yu{constructor(e,r,s,c){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=c}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Yu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ml(o,e){let r=o.indexId-e.indexId;return 0!==r?r:(r=rf(o.arrayValue,e.arrayValue),0!==r?r:(r=rf(o.directionalValue,e.directionalValue),0!==r?r:bn.comparator(o.documentKey,e.documentKey)))}function rf(o,e){for(let r=0;r<o.length&&r<e.length;++r){const s=o[r]-e[r];if(0!==s)return s}return o.length-e.length}class Hd{constructor(e){this.Yt=new wr((r,s)=>tr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(ut(e.collectionGroup===this.collectionId),this.en)return!1;const r=cs(e);if(void 0!==r&&!this.nn(r))return!1;const s=js(e);let c=new Set,d=0,p=0;for(;d<s.length&&this.nn(s[d]);++d)c=c.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const b=this.Yt.getIterator().getNext();if(!c.has(b.field.canonicalString())){const R=s[d];if(!this.rn(b,R)||!this.sn(this.Zt[p++],R))return!1}++d}for(;d<s.length;++d)if(p>=this.Zt.length||!this.sn(this.Zt[p++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new wr(tr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new So(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new So(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new So(s.field,"asc"===s.dir?0:1)));return new Ss(Ss.UNKNOWN_ID,this.collectionId,r,es.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function zd(o){var e,r;if(ut(o instanceof Ir||o instanceof Lr),o instanceof Ir){if(o instanceof Ad){const c=(null===(r=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Ir.create(o.field,"==",d)))||[];return Lr.create(c,"or")}return o}const s=o.filters.map(c=>zd(c));return Lr.create(s,o.op)}function Qm(o){if(0===o.getFilters().length)return[];const e=qd(zd(o));return ut(Kd(e)),sf(e)||af(e)?[e]:e.getFilters()}function sf(o){return o instanceof Ir}function af(o){return o instanceof Lr&&Dd(o)}function Kd(o){return sf(o)||af(o)||function(r){if(r instanceof Lr&&Cc(r)){for(const s of r.getFilters())if(!sf(s)&&!af(s))return!1;return!0}return!1}(o)}function qd(o){if(ut(o instanceof Ir||o instanceof Lr),o instanceof Ir)return o;if(1===o.filters.length)return qd(o.filters[0]);const e=o.filters.map(s=>qd(s));let r=Lr.create(e,o.op);return r=lf(r),Kd(r)?r:(ut(r instanceof Lr),ut(Za(r)),ut(r.filters.length>1),r.filters.reduce((s,c)=>ou(s,c)))}function ou(o,e){let r;return ut(o instanceof Ir||o instanceof Lr),ut(e instanceof Ir||e instanceof Lr),r=o instanceof Ir?e instanceof Ir?Lr.create([o,e],"and"):Xm(o,e):e instanceof Ir?Xm(e,o):function(c,d){if(ut(c.filters.length>0&&d.filters.length>0),Za(c)&&Za(d))return Dc(c,d.getFilters());const p=Cc(c)?c:d,b=Cc(c)?d:c,R=p.filters.map(G=>ou(G,b));return Lr.create(R,"or")}(o,e),lf(r)}function Xm(o,e){if(Za(e))return Dc(e,o.getFilters());{const r=e.filters.map(s=>ou(o,s));return Lr.create(r,"or")}}function lf(o){if(ut(o instanceof Ir||o instanceof Lr),o instanceof Ir)return o;const e=o.getFilters();if(1===e.length)return lf(e[0]);if(wd(o))return o;const r=e.map(c=>lf(c)),s=[];return r.forEach(c=>{c instanceof Ir?s.push(c):c instanceof Lr&&(c.op===o.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:Lr.create(s,o.op)}class ZE{constructor(){this._n=new xc}addToCollectionParentIndex(e,r){return this._n.add(r),pt.resolve()}getCollectionParents(e,r){return pt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return pt.resolve()}deleteFieldIndex(e,r){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,r){return pt.resolve()}getDocumentsMatchingTarget(e,r){return pt.resolve(null)}getIndexType(e,r){return pt.resolve(0)}getFieldIndexes(e,r){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,r){return pt.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,r){return pt.resolve(Hi.min())}updateCollectionGroup(e,r,s){return pt.resolve()}updateIndexEntries(e,r){return pt.resolve()}}class xc{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r]||new wr(Or.comparator),d=!c.has(s);return this.index[r]=c.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(e){return(this.index[e]||new wr(Or.comparator)).toArray()}}const Nc=new Uint8Array(0);class Zm{constructor(e,r){this.databaseId=r,this.an=new xc,this.un=new Fa(s=>fs(s),(s,c)=>ei(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:Ro(c)};return Zp(e).put(d)}return pt.resolve()}getCollectionParents(e,r){const s=[],c=IDBKeyRange.bound([r,""],[eo(r),""],!1,!0);return Zp(e).W(c).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(T(p.parent))}return s})}addFieldIndex(e,r){const s=Oc(e),c={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var b;delete c.indexId;const d=s.add(c);if(r.indexState){const p=kc(e);return d.next(b=>{p.put(Xp(b,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Oc(e),c=kc(e),d=Qu(e);return s.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Oc(e),s=Qu(e),c=kc(e);return r.H().next(()=>s.H()).next(()=>c.H())}createTargetIndexes(e,r){return pt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(c=>{if(0===c||1===c){const d=new Hd(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=Qu(e);let c=!0;const d=new Map;return pt.forEach(this.cn(r),p=>this.ln(e,p).next(b=>{c&&(c=!!b),d.set(p,b)})).next(()=>{if(c){let p=m();const b=[];return pt.forEach(d,(R,G)=>{var cr;S("IndexedDbIndexManager",`Using index ${cr=R,`id=${cr.indexId}|cg=${cr.collectionGroup}|f=${cr.fields.map(kr=>`${kr.fieldPath}:${kr.kind}`).join(",")}`} to execute ${fs(r)}`);const ne=function(cr,kr){const Ei=cs(kr);if(void 0===Ei)return null;for(const pi of Tc(cr,Ei.fieldPath))switch(pi.op){case"array-contains-any":return pi.value.arrayValue.values||[];case"array-contains":return[pi.value]}return null}(G,R),Pe=function(cr,kr){const Ei=new Map;for(const pi of js(kr))for(const vo of Tc(cr,pi.fieldPath))switch(vo.op){case"==":case"in":Ei.set(pi.fieldPath.canonicalString(),vo.value);break;case"not-in":case"!=":return Ei.set(pi.fieldPath.canonicalString(),vo.value),Array.from(Ei.values())}return null}(G,R),nt=function(cr,kr){const Ei=[];let pi=!0;for(const vo of js(kr)){const Go=0===vo.kind?Wh(cr,vo.fieldPath,cr.startAt):Hh(cr,vo.fieldPath,cr.startAt);Ei.push(Go.value),pi&&(pi=Go.inclusive)}return new ka(Ei,pi)}(G,R),Dt=function(cr,kr){const Ei=[];let pi=!0;for(const vo of js(kr)){const Go=0===vo.kind?Hh(cr,vo.fieldPath,cr.endAt):Wh(cr,vo.fieldPath,cr.endAt);Ei.push(Go.value),pi&&(pi=Go.inclusive)}return new ka(Ei,pi)}(G,R),En=this.hn(R,G,nt),Fn=this.hn(R,G,Dt),Rn=this.Pn(R,G,Pe),lr=this.In(R.indexId,ne,En,nt.inclusive,Fn,Dt.inclusive,Rn);return pt.forEach(lr,Mr=>s.j(Mr,r.limit).next(cr=>{cr.forEach(kr=>{const Ei=bn.fromSegments(kr.documentKey);p.has(Ei)||(p=p.add(Ei),b.push(Ei))})}))}).next(()=>b)}return pt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Qm(Lr.create(e.filters,"and")).map(s=>ao(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,c,d,p,b){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),G=R/(null!=r?r.length:1),ne=[];for(let Pe=0;Pe<R;++Pe){const nt=r?this.Tn(r[Pe/G]):Nc,Dt=this.En(e,nt,s[Pe%G],c),En=this.dn(e,nt,d[Pe%G],p),Fn=b.map(Rn=>this.En(e,nt,Rn,!0));ne.push(...this.createRange(Dt,En,Fn))}return ne}En(e,r,s,c){const d=new Yu(e,bn.empty(),r,s);return c?d:d.Jt()}dn(e,r,s,c){const d=new Yu(e,bn.empty(),r,s);return c?d.Jt():d}ln(e,r){const s=new Hd(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let p=null;for(const b of d)s.tn(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,r){let s=2;const c=this.cn(r);return pt.forEach(c,d=>this.ln(e,d).next(p=>{p?0!==s&&p.fields.length<function(R){let G=new wr(tr.comparator),ne=!1;for(const Pe of R.filters)for(const nt of Pe.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?ne=!0:G=G.add(nt.field));for(const Pe of R.orderBy)Pe.field.isKeyField()||(G=G.add(Pe.field));return G.size+(ne?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&c.length>1&&2===s?1:s)}An(e,r){const s=new qu;for(const c of js(e)){const d=r.data.field(c.fieldPath);if(null==d)return null;const p=s.Ht(c.kind);iu.bt.Pt(d,p)}return s.Wt()}Tn(e){const r=new qu;return iu.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new qu;return iu.bt.Pt(Oa(this.databaseId,r),s.Ht(function(d){const p=js(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let c=[];c.push(new qu);let d=0;for(const p of js(e)){const b=s[d++];for(const R of c)if(this.Vn(r,p.fieldPath)&&xu(b))c=this.mn(c,p,b);else{const G=R.Ht(p.kind);iu.bt.Pt(b,G)}}return this.fn(c)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const c=[...e],d=[];for(const p of s.arrayValue.values||[])for(const b of c){const R=new qu;R.seed(b.Wt()),iu.bt.Pt(p,R.Ht(r.kind)),d.push(R)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Ir&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Oc(e),c=kc(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return pt.forEach(d,b=>c.get([b.indexId,this.uid]).next(R=>{p.push(function(ne,Pe){const nt=Pe?new es(Pe.sequenceNumber,new Hi(Sl(Pe.readTime),new bn(T(Pe.documentKey)),Pe.largestBatchId)):es.empty(),Dt=ne.fields.map(([En,Fn])=>new So(tr.fromServerFormat(En),Fn));return new Ss(ne.indexId,ne.collectionGroup,Dt,nt)}(b,R))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,c)=>{const d=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:ar(s.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const c=Oc(e),d=kc(e);return this.gn(e).next(p=>c.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(b=>pt.forEach(b,R=>d.put(Xp(R.indexId,this.uid,p,s)))))}updateIndexEntries(e,r){const s=new Map;return pt.forEach(r,(c,d)=>{const p=s.get(c.collectionGroup);return(p?pt.resolve(p):this.getFieldIndexes(e,c.collectionGroup)).next(b=>(s.set(c.collectionGroup,b),pt.forEach(b,R=>this.pn(e,c,R).next(G=>{const ne=this.yn(d,R);return G.isEqual(ne)?pt.resolve():this.wn(e,d,R,G,ne)}))))})}Sn(e,r,s,c){return Qu(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,c){return Qu(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const c=Qu(e);let d=new wr(Ml);return c.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(p,b)=>{d=d.add(new Yu(s.indexId,r,b.arrayValue,b.directionalValue))}).next(()=>d)}yn(e,r){let s=new wr(Ml);const c=this.An(r,e);if(null==c)return s;const d=cs(r);if(null!=d){const p=e.data.field(d.fieldPath);if(xu(p))for(const b of p.arrayValue.values||[])s=s.add(new Yu(r.indexId,e.key,this.Tn(b),c))}else s=s.add(new Yu(r.indexId,e.key,Nc,c));return s}wn(e,r,s,c,d){S("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(R,G,ne,Pe,nt){const Dt=R.getIterator(),En=G.getIterator();let Fn=la(Dt),Rn=la(En);for(;Fn||Rn;){let lr=!1,Mr=!1;if(Fn&&Rn){const cr=ne(Fn,Rn);cr<0?Mr=!0:cr>0&&(lr=!0)}else null!=Fn?Mr=!0:lr=!0;lr?(Pe(Rn),Rn=la(En)):Mr?(nt(Fn),Fn=la(Dt)):(Fn=la(Dt),Rn=la(En))}}(c,d,Ml,b=>{p.push(this.Sn(e,r,s,b))},b=>{p.push(this.bn(e,r,s,b))}),pt.waitFor(p)}gn(e){let r=1;return kc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,d)=>{d.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,b)=>Ml(p,b)).filter((p,b,R)=>!b||0!==Ml(p,R[b-1]));const c=[];c.push(e);for(const p of s){const b=Ml(p,e),R=Ml(p,r);if(0===b)c[0]=e.Jt();else if(b>0&&R<0)c.push(p),c.push(p.Jt());else if(R>0)break}c.push(r);const d=[];for(let p=0;p<c.length;p+=2){if(this.Dn(c[p],c[p+1]))return[];d.push(IDBKeyRange.bound([c[p].indexId,this.uid,c[p].arrayValue,c[p].directionalValue,Nc,[]],[c[p+1].indexId,this.uid,c[p+1].arrayValue,c[p+1].directionalValue,Nc,[]]))}return d}Dn(e,r){return Ml(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Jm)}getMinOffset(e,r){return pt.mapArray(this.cn(r),s=>this.ln(e,s).next(c=>c||ve())).next(Jm)}}function Zp(o){return Oi(o,"collectionParents")}function Qu(o){return Oi(o,"indexEntries")}function Oc(o){return Oi(o,"indexConfiguration")}function kc(o){return Oi(o,"indexState")}function Jm(o){ut(0!==o.length);let e=o[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<o.length;s++){const c=o[s].indexState.offset;Kr(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new Hi(e.readTime,e.documentKey,r)}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tv(o,e,r){const s=o.store("mutations"),c=o.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let b=0;const R=s.Y({range:p},(ne,Pe,nt)=>(b++,nt.delete()));d.push(R.next(()=>{ut(1===b)}));const G=[];for(const ne of r.mutations){const Pe=N(e,ne.key.path,r.batchId);d.push(c.delete(Pe)),G.push(ne.key)}return pt.waitFor(d).next(()=>G)}function Ga(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw ve();e=o.noDocument}return JSON.stringify(e).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class su{constructor(e,r,s,c){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=c,this.Cn={}}static lt(e,r,s,c){ut(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new su(d,r,s,c)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).Y({index:"userMutationsIndex",range:s},(c,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,c){const d=Yd(e),p=Xu(e);return p.add({}).next(b=>{ut("number"==typeof b);const R=new Up(b,r,s,c),G=function(Dt,En,Fn){const Rn=Fn.baseMutations.map(Mr=>ju(Dt.ct,Mr)),lr=Fn.mutations.map(Mr=>ju(Dt.ct,Mr));return{userId:En,batchId:Fn.batchId,localWriteTimeMs:Fn.localWriteTime.toMillis(),baseMutations:Rn,mutations:lr}}(this.serializer,this.userId,R),ne=[];let Pe=new wr((nt,Dt)=>ar(nt.canonicalString(),Dt.canonicalString()));for(const nt of c){const Dt=N(this.userId,nt.key.path,b);Pe=Pe.add(nt.key.path.popLast()),ne.push(p.put(G)),ne.push(d.put(Dt,ee))}return Pe.forEach(nt=>{ne.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.Cn[b]=R.keys()}),pt.waitFor(ne).next(()=>R)})}lookupMutationBatch(e,r){return Xu(e).get(r).next(s=>s?(ut(s.userId===this.userId),$a(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?pt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const c=s.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Xu(e).Y({index:"userMutationsIndex",range:c},(p,b,R)=>{b.userId===this.userId&&(ut(b.batchId>=s),d=$a(this.serializer,b)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Xu(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(c,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).W("userMutationsIndex",r).next(s=>s.map(c=>$a(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=D(this.userId,r.path),c=IDBKeyRange.lowerBound(s),d=[];return Yd(e).Y({range:c},(p,b,R)=>{const[G,ne,Pe]=p,nt=T(ne);if(G===this.userId&&r.path.isEqual(nt))return Xu(e).get(Pe).next(Dt=>{if(!Dt)throw ve();ut(Dt.userId===this.userId),d.push($a(this.serializer,Dt))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new wr(ar);const c=[];return r.forEach(d=>{const p=D(this.userId,d.path),b=IDBKeyRange.lowerBound(p),R=Yd(e).Y({range:b},(G,ne,Pe)=>{const[nt,Dt,En]=G,Fn=T(Dt);nt===this.userId&&d.path.isEqual(Fn)?s=s.add(En):Pe.done()});c.push(R)}),pt.waitFor(c).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1,d=D(this.userId,s),p=IDBKeyRange.lowerBound(d);let b=new wr(ar);return Yd(e).Y({range:p},(R,G,ne)=>{const[Pe,nt,Dt]=R,En=T(nt);Pe===this.userId&&s.isPrefixOf(En)?En.length===c&&(b=b.add(Dt)):ne.done()}).next(()=>this.Fn(e,b))}Fn(e,r){const s=[],c=[];return r.forEach(d=>{c.push(Xu(e).get(d).next(p=>{if(null===p)throw ve();ut(p.userId===this.userId),s.push($a(this.serializer,p))}))}),pt.waitFor(c).next(()=>s)}removeMutationBatch(e,r){return tv(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),pt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return pt.resolve();const s=IDBKeyRange.lowerBound(function(p){return[p]}(this.userId)),c=[];return Yd(e).Y({range:s},(d,p,b)=>{if(d[0]===this.userId){const R=T(d[1]);c.push(R)}else b.done()}).next(()=>{ut(0===c.length)})})}containsKey(e,r){return nv(e,this.userId,r)}xn(e){return _y(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nv(o,e,r){const s=D(e,r.path),c=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Yd(o).Y({range:d,J:!0},(b,R,G)=>{const[ne,Pe,nt]=b;ne===e&&Pe===c&&(p=!0),G.done()}).next(()=>p)}function Xu(o){return Oi(o,"mutations")}function Yd(o){return Oi(o,"documentMutations")}function _y(o){return Oi(o,"mutationQueues")}class Fc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fc(0)}static Bn(){return new Fc(-1)}}class JE{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new Fc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>en.fromTimestamp(new Gr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(e,c)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Zu(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>(ut(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let c=0;const d=[];return Zu(e).Y((p,b)=>{const R=Gd(b);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(c++,d.push(this.removeTargetData(e,R)))}).next(()=>pt.waitFor(d)).next(()=>c)}forEachTarget(e,r){return Zu(e).Y((s,c)=>{const d=Gd(c);r(d)})}Ln(e){return rv(e).get("targetGlobalKey").next(r=>(ut(null!==r),r))}kn(e,r){return rv(e).put("targetGlobalKey",r)}qn(e,r){return Zu(e).put(qp(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=fs(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Zu(e).Y({range:c,index:"queryTargetsIndex"},(p,b,R)=>{const G=Gd(b);ei(r,G.target)&&(d=G,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const c=[],d=au(e);return r.forEach(p=>{const b=Ro(p.path);c.push(d.put({targetId:s,path:b})),c.push(this.referenceDelegate.addReference(e,s,p))}),pt.waitFor(c)}removeMatchingKeys(e,r,s){const c=au(e);return pt.forEach(r,d=>{const p=Ro(d.path);return pt.waitFor([c.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=au(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=au(e);let d=m();return c.Y({range:s,J:!0},(p,b,R)=>{const G=T(p[1]),ne=new bn(G);d=d.add(ne)}).next(()=>d)}containsKey(e,r){const s=Ro(r.path),c=IDBKeyRange.bound([s],[eo(s)],!1,!0);let d=0;return au(e).Y({index:"documentTargetsIndex",J:!0,range:c},([p,b],R,G)=>{0!==p&&(d++,G.done())}).next(()=>d>0)}_t(e,r){return Zu(e).get(r).next(s=>s?Gd(s):null)}}function Zu(o){return Oi(o,"targets")}function rv(o){return Oi(o,"targetGlobal")}function au(o){return Oi(o,"targetDocuments")}function iv([o,e],[r,s]){const c=ar(o,r);return 0===c?ar(e,s):c}class yy{constructor(e){this.Kn=e,this.buffer=new wr(iv),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();iv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class uf{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;S("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.c)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ui(s)?S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield oi(s)}yield r.zn(3e5)}))}}class Rl{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return pt.resolve(Mo._e);const s=new yy(r);return this.jn.forEachTarget(e,c=>s.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(e,c=>s.Wn(c))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(ev)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,c,d,p,b,R,G;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),c=this.params.maximumSequenceNumbersToCollect):c=Pe,p=Date.now(),this.nthSequenceNumber(e,c))).next(Pe=>(s=Pe,b=Date.now(),this.removeTargets(e,s,r))).next(Pe=>(d=Pe,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(Pe=>(G=Date.now(),fo()<=K.Ge.DEBUG&&S("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ne}ms\n\tDetermined least recently used ${c} in `+(b-p)+`ms\n\tRemoved ${d} targets in `+(R-b)+`ms\n\tRemoved ${Pe} documents in `+(G-R)+`ms\nTotal Duration: ${G-ne}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:Pe})))}}class ov{constructor(e,r){this.db=e,this.garbageCollector=function Lc(o,e){return new Rl(o,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(c=>s+c))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,c)=>r(c))}addReference(e,r,s){return Qd(e,s)}removeReference(e,r,s){return Qd(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Qd(e,r)}er(e,r){return function(c,d){let p=!1;return _y(c).Z(b=>nv(c,b,d).next(R=>(R&&(p=!0),pt.resolve(!R)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Xn(e,(p,b)=>{if(b<=r){const R=this.er(e,p).next(G=>{if(!G)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,en.min()),au(e).delete([0,Ro(p.path)])))});c.push(R)}}).next(()=>pt.waitFor(c)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Qd(e,r)}Xn(e,r){const s=au(e);let c,d=Mo._e;return s.Y({index:"documentTargetsIndex"},([p,b],{path:R,sequenceNumber:G})=>{0===p?(d!==Mo._e&&r(new bn(T(c)),d),d=G,c=R):d=Mo._e}).next(()=>{d!==Mo._e&&r(new bn(T(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qd(o,e){return au(o).put((c=o.currentSequenceNumber,{targetId:0,path:Ro(e.path),sequenceNumber:c}));var c}class Jp{constructor(){this.changes=new Fa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?pt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e0{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Pl(e).put(s)}removeEntry(e,r,s){return Pl(e).delete(function(d,p){const b=d.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],ru(p),b[b.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=ci.newInvalidDocument(r);return Pl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(df(r))},(c,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:ci.newInvalidDocument(r)};return Pl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(df(r))},(c,d)=>{s={document:this.nr(r,d),size:Ga(d)}}).next(()=>s)}getEntries(e,r){let s=ms();return this.ir(e,r,(c,d)=>{const p=this.nr(c,d);s=s.insert(c,p)}).next(()=>s)}sr(e,r){let s=ms(),c=new ur(bn.comparator);return this.ir(e,r,(d,p)=>{const b=this.nr(d,p);s=s.insert(d,b),c=c.insert(d,Ga(p))}).next(()=>({documents:s,_r:c}))}ir(e,r,s){if(r.isEmpty())return pt.resolve();let c=new wr(eg);r.forEach(R=>c=c.add(R));const d=IDBKeyRange.bound(df(c.first()),df(c.last())),p=c.getIterator();let b=p.getNext();return Pl(e).Y({index:"documentKeyIndex",range:d},(R,G,ne)=>{const Pe=bn.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;b&&eg(b,Pe)<0;)s(b,null),b=p.getNext();b&&b.isEqual(Pe)&&(s(b,G),b=p.hasNext()?p.getNext():null),b?ne.U(df(b)):ne.done()}).next(()=>{for(;b;)s(b,null),b=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,c,d){const p=r.path,b=[p.popLast().toArray(),p.lastSegment(),ru(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pl(e).W(IDBKeyRange.bound(b,R,!0)).next(G=>{null==d||d.incrementDocumentReadCount(G.length);let ne=ms();for(const Pe of G){const nt=this.nr(bn.fromSegments(Pe.prefixPath.concat(Pe.collectionGroup,Pe.documentId)),Pe);nt.isFoundDocument()&&(da(r,nt)||c.has(nt.key))&&(ne=ne.insert(nt.key,nt))}return ne})}getAllFromCollectionGroup(e,r,s,c){let d=ms();const p=Ey(r,s),b=Ey(r,Hi.max());return Pl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(R,G,ne)=>{const Pe=this.nr(bn.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);d=d.insert(Pe.key,Pe),d.size===c&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new t0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return cf(e).get("remoteDocumentGlobalKey").next(r=>(ut(!!r),r))}tr(e,r){return cf(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Kp(o,e){let r;if(e.document)r=Wp(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=bn.fromSegments(e.noDocument.path),c=Sl(e.noDocument.readTime);r=ci.newNoDocument(s,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const s=bn.fromSegments(e.unknownDocument.path),c=Sl(e.unknownDocument.version);r=ci.newUnknownDocument(s,c)}}return e.readTime&&r.setReadTime(function(c){const d=new Gr(c[0],c[1]);return en.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(en.min()))return s}return ci.newInvalidDocument(e)}}function Iy(o){return new e0(o)}class t0 extends Jp{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Fa(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const r=[];let s=0,c=new wr((d,p)=>ar(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const b=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,b.readTime)),p.isValidDocument()){const R=$d(this.ar.serializer,p);c=c.add(d.path.popLast());const G=Ga(R);s+=G-b.size,r.push(this.ar.addEntry(e,d,R))}else if(s-=b.size,this.trackRemovals){const R=$d(this.ar.serializer,p.convertToNoDocument(en.min()));r.push(this.ar.addEntry(e,d,R))}}),c.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),pt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:c})=>(c.forEach((d,p)=>{this.ur.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function cf(o){return Oi(o,"remoteDocumentGlobal")}function Pl(o){return Oi(o,"remoteDocumentsV14")}function df(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ey(o,e){const r=e.documentKey.path.toArray();return[o,ru(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function eg(o,e){const r=o.path.toArray(),s=e.path.toArray();let c=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(c=ar(r[d],s[d]),c)return c;return c=ar(r.length,s.length),c||(c=ar(r[r.length-2],s[s.length-2]),c||ar(r[r.length-1],s[s.length-1]))}class Cy{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class sv{constructor(e,r,s,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==s&&Bu(s.mutation,c,Bi.empty(),Gr.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,m()).next(()=>s))}getLocalViewOfDocuments(e,r,s=m()){const c=ha();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,s).next(d=>{let p=El();return d.forEach((b,R)=>{p=p.insert(b,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=ha();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,m()))}populateOverlays(e,r,s){const c=[];return s.forEach(d=>{r.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((p,b)=>{r.set(p,b)})})}computeViews(e,r,s,c){let d=ms();const p=Dl(),b=Dl();return r.forEach((R,G)=>{const ne=s.get(G.key);c.has(G.key)&&(void 0===ne||ne.mutation instanceof bl)?d=d.insert(G.key,G):void 0!==ne?(p.set(G.key,ne.mutation.getFieldMask()),Bu(ne.mutation,G,ne.mutation.getFieldMask(),Gr.now())):p.set(G.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((G,ne)=>p.set(G,ne)),r.forEach((G,ne)=>{var Pe;return b.set(G,new Cy(ne,null!==(Pe=p.get(G))&&void 0!==Pe?Pe:null))}),b))}recalculateAndSaveOverlays(e,r){const s=Dl();let c=new ur((p,b)=>p-b),d=m();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const b of p)b.keys().forEach(R=>{const G=r.get(R);if(null===G)return;let ne=s.get(R)||Bi.empty();ne=b.applyToLocalView(G,ne),s.set(R,ne);const Pe=(c.get(b.batchId)||m()).add(R);c=c.insert(b.batchId,Pe)})}).next(()=>{const p=[],b=c.getReverseIterator();for(;b.hasNext();){const R=b.getNext(),G=R.key,ne=R.value,Pe=Jl();ne.forEach(nt=>{if(!d.has(nt)){const Dt=Kh(r.get(nt),s.get(nt));null!==Dt&&Pe.set(nt,Dt),d=d.add(nt)}}),p.push(this.documentOverlayCache.saveOverlays(e,G,Pe))}return pt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,c){return bn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Rd(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,c):this.getDocumentsMatchingCollectionQuery(e,r,s,c);var p}getNextDocuments(e,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,c).next(d=>{const p=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,c-d.size):pt.resolve(ha());let b=-1,R=d;return p.next(G=>pt.forEach(G,(ne,Pe)=>(b<Pe.largestBatchId&&(b=Pe.largestBatchId),d.get(ne)?pt.resolve():this.remoteDocumentCache.getEntry(e,ne).next(nt=>{R=R.insert(ne,nt)}))).next(()=>this.populateOverlays(e,G,d)).next(()=>this.computeViews(e,R,G,m())).next(ne=>({batchId:b,changes:Cl(ne)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new bn(r)).next(s=>{let c=El();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,s,c){const d=r.collectionGroup;let p=El();return this.indexManager.getCollectionParents(e,d).next(b=>pt.forEach(b,R=>{const G=(Pe=r,nt=R.child(d),new ca(nt,null,Pe.explicitOrderBy.slice(),Pe.filters.slice(),Pe.limit,Pe.limitType,Pe.startAt,Pe.endAt));var Pe,nt;return this.getDocumentsMatchingCollectionQuery(e,G,s,c).next(ne=>{ne.forEach((Pe,nt)=>{p=p.insert(Pe,nt)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,c))).next(p=>{d.forEach((R,G)=>{const ne=G.getKey();null===p.get(ne)&&(p=p.insert(ne,ci.newInvalidDocument(ne)))});let b=El();return p.forEach((R,G)=>{const ne=d.get(R);void 0!==ne&&Bu(ne.mutation,G,Bi.empty(),Gr.now()),da(r,G)&&(b=b.insert(R,G))}),b})}}class Dy{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return pt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:ro(c.createTime)}),pt.resolve();var c}getNamedQuery(e,r){return pt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:Yp(c.bundledQuery),readTime:ro(c.readTime)}),pt.resolve();var c}}class wy{constructor(){this.overlays=new ur(bn.comparator),this.hr=new Map}getOverlay(e,r){return pt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=ha();return pt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((c,d)=>{this.ht(e,r,d)}),pt.resolve()}removeOverlaysForBatchId(e,r,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),pt.resolve()}getOverlaysForCollection(e,r,s){const c=ha(),d=r.length+1,p=new bn(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const R=b.getNext().value,G=R.getKey();if(!r.isPrefixOf(G.path))break;G.path.length===d&&R.largestBatchId>s&&c.set(R.getKey(),R)}return pt.resolve(c)}getOverlaysForCollectionGroup(e,r,s,c){let d=new ur((G,ne)=>G-ne);const p=this.overlays.getIterator();for(;p.hasNext();){const G=p.getNext().value;if(G.getKey().getCollectionGroup()===r&&G.largestBatchId>s){let ne=d.get(G.largestBatchId);null===ne&&(ne=ha(),d=d.insert(G.largestBatchId,ne)),ne.set(G.getKey(),G)}}const b=ha(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((G,ne)=>b.set(G,ne)),!(b.size()>=c)););return pt.resolve(b)}ht(e,r,s){const c=this.overlays.get(s.key);if(null!==c){const p=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Yh(r,s));let d=this.hr.get(r);void 0===d&&(d=m(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class tg{constructor(){this.Pr=new wr(go.Ir),this.Tr=new wr(go.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new go(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new go(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new bn(new Or([])),s=new go(r,e),c=new go(r,e+1),d=[];return this.Tr.forEachInRange([s,c],p=>{this.Ar(p),d.push(p.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new bn(new Or([])),s=new go(r,e),c=new go(r,e+1);let d=m();return this.Tr.forEachInRange([s,c],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new go(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class go{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return bn.comparator(e.key,r.key)||ar(e.pr,r.pr)}static Er(e,r){return ar(e.pr,r.pr)||bn.comparator(e.key,r.key)}}class av{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new wr(go.Ir)}checkEmpty(e){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,c){const d=this.yr;this.yr++;const p=new Up(d,r,s,c);this.mutationQueue.push(p);for(const b of c)this.wr=this.wr.add(new go(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return pt.resolve(p)}lookupMutationBatch(e,r){return pt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),d=c<0?0:c;return pt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new go(r,0),c=new go(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,c],p=>{const b=this.Sr(p.pr);d.push(b)}),pt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new wr(ar);return r.forEach(c=>{const d=new go(c,0),p=new go(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,p],b=>{s=s.add(b.pr)})}),pt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1;let d=s;bn.isDocumentKey(d)||(d=d.child(""));const p=new go(new bn(d),0);let b=new wr(ar);return this.wr.forEachWhile(R=>{const G=R.key.path;return!!s.isPrefixOf(G)&&(G.length===c&&(b=b.add(R.pr)),!0)},p),pt.resolve(this.Dr(b))}Dr(e){const r=[];return e.forEach(s=>{const c=this.Sr(s);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){ut(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return pt.forEach(r.mutations,c=>{const d=new go(c.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new go(r,0),c=this.wr.firstAfterOrEqual(s);return pt.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return pt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ty{constructor(e){this.vr=e,this.docs=new ur(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,c=this.docs.get(s),d=c?c.size:0,p=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return pt.resolve(s?s.document.mutableCopy():ci.newInvalidDocument(r))}getEntries(e,r){let s=ms();return r.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.mutableCopy():ci.newInvalidDocument(c))}),pt.resolve(s)}getDocumentsMatchingQuery(e,r,s,c){let d=ms();const p=r.path,b=new bn(p.child("")),R=this.docs.getIteratorFrom(b);for(;R.hasNext();){const{key:G,value:{document:ne}}=R.getNext();if(!p.isPrefixOf(G.path))break;G.path.length>p.length+1||Kr(wa(ne),s)<=0||(c.has(ne.key)||da(r,ne))&&(d=d.insert(ne.key,ne.mutableCopy()))}return pt.resolve(d)}getAllFromCollectionGroup(e,r,s,c){ve()}Fr(e,r){return pt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new by(this)}getSize(e){return pt.resolve(this.size)}}class by extends Jp{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(s)}),pt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class lv{constructor(e){this.persistence=e,this.Mr=new Fa(r=>fs(r),ei),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tg,this.targetCount=0,this.Br=Fc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,c)=>r(c)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),pt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new Fc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,pt.resolve()}updateTargetData(e,r){return this.qn(r),pt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,r,s){let c=0;const d=[];return this.Mr.forEach((p,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Mr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),c++)}),pt.waitFor(d).next(()=>c)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return pt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),pt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(p=>{d.push(c.markPotentiallyOrphaned(e,p))}),pt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),pt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return pt.resolve(s)}containsKey(e,r){return pt.resolve(this.Nr.containsKey(r))}}class Vc{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Mo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new lv(this),this.indexManager=new ZE,this.remoteDocumentCache=new Ty(s=>this.referenceDelegate.Kr(s)),this.serializer=new Hu(r),this.$r=new Dy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wy,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new av(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){S("MemoryPersistence","Starting transaction:",e);const c=new Ay(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(d=>this.referenceDelegate.Wr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Gr(e,r){return pt.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class Ay extends oa{constructor(e){super(),this.currentSequenceNumber=e}}class Uc{constructor(e){this.persistence=e,this.zr=new tg,this.jr=null}static Hr(e){return new Uc(e)}get Jr(){if(this.jr)return this.jr;throw ve()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),pt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),pt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),pt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Jr,s=>{const c=bn.fromPath(s);return this.Yr(e,c).next(d=>{d||r.removeEntry(c,en.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return pt.or([()=>pt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Bc{constructor(e){this.serializer=e}N(e,r,s,c){const d=new zi("createOrUpgrade",r);var R;s<1&&c>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0}),R.createObjectStore("documentMutations"),uv(e),function(R){R.createObjectStore("remoteDocuments")}(e));let p=pt.resolve();return s<3&&c>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),uv(e)),p=p.next(()=>function(R){const G=R.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:en.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ne)}(d))),s<4&&c>=4&&(0!==s&&(p=p.next(()=>function(R,G){return G.store("mutations").W().next(ne=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0});const Pe=G.store("mutations"),nt=ne.map(Dt=>Pe.put(Dt));return pt.waitFor(nt)})}(e,d))),p=p.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(p=p.next(()=>this.Xr(d))),s<6&&c>=6&&(p=p.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&c>=7&&(p=p.next(()=>this.ti(d))),s<8&&c>=8&&(p=p.next(()=>this.ni(e,d))),s<9&&c>=9&&(p=p.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(p=p.next(()=>this.ri(d))),s<11&&c>=11&&(p=p.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(p=p.next(()=>{!function(R){const G=R.createObjectStore("documentOverlays",{keyPath:fl});G.createIndex("collectionPathOverlayIndex",pl,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",sa,{unique:!1})}(e)})),s<13&&c>=13&&(p=p.next(()=>function(R){const G=R.createObjectStore("remoteDocumentsV14",{keyPath:_e});G.createIndex("documentKeyIndex",_t),G.createIndex("collectionGroupIndex",Jt)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(p=p.next(()=>this.si(e,d))),s<15&&c>=15&&(p=p.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:qr}).createIndex("sequenceNumberIndex",to,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Rs}).createIndex("documentKeyIndex",Ya,{unique:!1})}(e))),p}ei(e){let r=0;return e.store("remoteDocuments").Y((s,c)=>{r+=Ga(c)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(c=>pt.forEach(c,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(b=>pt.forEach(b,R=>{ut(R.userId===d.userId);const G=$a(this.serializer,R);return tv(e,d.userId,G).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return s.Y((p,b)=>{const R=new Or(p),G=[0,Ro(R)];d.push(r.get(G).next(ne=>ne?pt.resolve():r.put({targetId:0,path:Ro(R),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>pt.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:vi});const s=r.store("collectionParents"),c=new xc,d=p=>{if(c.add(p)){const b=p.lastSegment(),R=p.popLast();return s.put({collectionId:b,parent:Ro(R)})}};return r.store("remoteDocuments").Y({J:!0},(p,b)=>{const R=new Or(p);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,b,R],G)=>{const ne=T(b);return d(ne.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,c)=>{const d=Gd(c),p=qp(this.serializer,d);return r.put(p)})}ii(e,r){const s=r.store("remoteDocuments"),c=[];return s.Y((d,p)=>{const b=r.store("remoteDocumentsV14"),R=(Pe=p,Pe.document?new bn(Or.fromString(Pe.document.name).popFirst(5)):Pe.noDocument?bn.fromSegments(Pe.noDocument.path):Pe.unknownDocument?bn.fromSegments(Pe.unknownDocument.path):ve()).path.toArray(),G={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var Pe;c.push(b.put(G))}).next(()=>pt.waitFor(c))}si(e,r){const s=r.store("mutations"),c=Iy(this.serializer),d=new Vc(Uc.Hr,this.serializer.ct);return s.W().next(p=>{const b=new Map;return p.forEach(R=>{var G;let ne=null!==(G=b.get(R.userId))&&void 0!==G?G:m();$a(this.serializer,R).keys().forEach(Pe=>ne=ne.add(Pe)),b.set(R.userId,ne)}),pt.forEach(b,(R,G)=>{const ne=new Ni(G),Pe=jd.lt(this.serializer,ne),nt=d.getIndexManager(ne),Dt=su.lt(ne,this.serializer,nt,d.referenceDelegate);return new sv(c,Dt,Pe,nt).recalculateAndSaveOverlaysForDocumentKeys(new Yl(r,Mo._e),R).next()})})}}function uv(o){o.createObjectStore("targetDocuments",{keyPath:xn}).createIndex("documentTargetsIndex",mr,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Et,{unique:!0}),o.createObjectStore("targetGlobal")}const ng="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xd{constructor(e,r,s,c,d,p,b,R,G,ne,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=p,this.document=b,this._i=G,this.ai=ne,this.ui=Pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=nt=>Promise.resolve(),!Xd.D())throw new Nt(ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ov(this,c),this.Ti=r+"main",this.serializer=new Hu(R),this.Ei=new so(this.Ti,this.ui,new Bc(this.serializer)),this.Qr=new JE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Iy(this.serializer),this.$r=new gy,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ne&&Ee("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(ft.FAILED_PRECONDITION,ng);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Mo(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.c)(function*(c){if(r.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.c)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.c)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Ui(e))return S("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return $c(e).get("owner").next(r=>pt.resolve(this.Si(r)))}bi(e){return ff(e).delete(this.clientId)}Di(){var e=this;return(0,l.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Oi(s,"clientMetadata");return c.W().next(d=>{const p=e.vi(d,18e5),b=d.filter(R=>-1===p.indexOf(R));return pt.forEach(b,R=>c.delete(R.clientId)).next(()=>b)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?pt.resolve(!0):$c(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Nt(ft.FAILED_PRECONDITION,ng);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).W().next(s=>void 0===this.vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&S("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Yl(r,Mo._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>ff(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return su.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zm(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return jd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){S("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",d=15===(R=this.ui)?aa:14===R?mc:13===R?gc:12===R?Ma:11===R?Ru:void ve();var R;let p;return this.Ei.runTransaction(e,c,d,b=>(p=new Yl(b,this.kr?this.kr.next():Mo._e),"readwrite-primary"===r?this.gi(p).next(R=>!!R||this.pi(p)).next(R=>{if(!R)throw Ee(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Nt(ft.FAILED_PRECONDITION,zl);return s(p)}).next(R=>this.wi(p).next(()=>R)):this.ki(p).next(()=>s(p)))).then(b=>(p.raiseOnCommittedEvent(),b))}ki(e){return $c(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Nt(ft.FAILED_PRECONDITION,ng)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $c(e).put("owner",r)}static D(){return so.D()}yi(e){const r=$c(e);return r.get("owner").next(s=>this.Si(s)?(S("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):pt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ee(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,ye.qk)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return S("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ee("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ee("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $c(o){return Oi(o,"owner")}function ff(o){return Oi(o,"clientMetadata")}function rg(o,e){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+e+"/"+r+"/"}class ig{constructor(e,r,s,c){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=c}static Ki(e,r){let s=m(),c=m();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new ig(e,r.fromCache,s,c)}}class Sy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class og{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ye.qk)()?8:so.v((0,ye.Su)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,c){const d={result:null};return this.ji(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.Hi(e,r,c,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new Sy;return this.Ji(e,r,p).next(b=>{if(d.result=b,this.Ui)return this.Yi(e,r,p,b.size)})}).next(()=>d.result)}Yi(e,r,s,c){return s.documentReadCount<this.Wi?(fo()<=K.Ge.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),pt.resolve()):(fo()<=K.Ge.DEBUG&&S("QueryEngine","Query:",gs(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(fo()<=K.Ge.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lo(r))):pt.resolve())}ji(e,r){if(ps(r))return pt.resolve(null);let s=lo(r);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Il(r,null,"F"),s=lo(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=m(...d);return this.zi.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,s).next(R=>{const G=this.Zi(r,b);return this.Xi(r,G,p,R.readTime)?this.ji(e,Il(r,null,"F")):this.es(e,G,r,R)}))})))}Hi(e,r,s,c){return ps(r)||c.isEqual(en.min())?pt.resolve(null):this.zi.getDocuments(e,s).next(d=>{const p=this.Zi(r,d);return this.Xi(r,p,s,c)?pt.resolve(null):(fo()<=K.Ge.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),gs(r)),this.es(e,p,r,gr(c,-1)).next(b=>b))})}Zi(e,r){let s=new wr(Vu(e));return r.forEach((c,d)=>{da(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,c){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ji(e,r,s){return fo()<=K.Ge.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",gs(r)),this.zi.getDocumentsMatchingQuery(e,r,Hi.min(),s)}es(e,r,s,c){return this.zi.getDocumentsMatchingQuery(e,s,c).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class n0{constructor(e,r,s,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new ur(ar),this.rs=new Fa(d=>fs(d),ei),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function My(o,e,r,s){return new n0(o,e,r,s)}function Gc(o,e){return sg.apply(this,arguments)}function sg(){return sg=(0,l.c)(function*(o,e){const r=Ht(o);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(d=>(c=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],b=[];let R=m();for(const G of c){p.push(G.batchId);for(const ne of G.mutations)R=R.add(ne.key)}for(const G of d){b.push(G.batchId);for(const ne of G.mutations)R=R.add(ne.key)}return r.localDocuments.getDocuments(s,R).next(G=>({us:G,removedBatchIds:p,addedBatchIds:b}))})})}),sg.apply(this,arguments)}function cv(o){const e=Ht(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function hv(o,e,r){let s=m(),c=m();return r.forEach(d=>s=s.add(d)),e.getEntries(o,s).next(d=>{let p=ms();return r.forEach((b,R)=>{const G=d.get(b);R.isFoundDocument()!==G.isFoundDocument()&&(c=c.add(b)),R.isNoDocument()&&R.version.isEqual(en.min())?(e.removeEntry(b,R.readTime),p=p.insert(b,R)):!G.isValidDocument()||R.version.compareTo(G.version)>0||0===R.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(R),p=p.insert(b,R)):S("LocalStore","Ignoring outdated watch update for ",b,". Current version:",G.version," Watch version:",R.version)}),{cs:p,ls:c}})}function Py(o,e){const r=Ht(o);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jc(o,e){const r=Ht(o);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Qr.getTargetData(s,e).next(d=>d?(c=d,pt.resolve(c)):r.Qr.allocateTargetId(s).next(p=>(c=new Ys(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Wc(o,e,r){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,l.c)(function*(o,e,r){const s=Ht(o),c=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,c)))}catch(p){if(!Ui(p))throw p;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ns=s.ns.remove(e),s.rs.delete(c.target)}),Zd.apply(this,arguments)}function pf(o,e,r){const s=Ht(o);let c=en.min(),d=m();return s.persistence.runTransaction("Execute query","readwrite",p=>function(R,G,ne){const Pe=Ht(R),nt=Pe.rs.get(ne);return void 0!==nt?pt.resolve(Pe.ns.get(nt)):Pe.Qr.getTargetData(G,ne)}(s,p,lo(e)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(p,b.targetId).next(R=>{d=R})}).next(()=>s.ts.getDocumentsMatchingQuery(p,e,r?c:en.min(),r?d:m())).next(b=>(ag(s,Lu(e),b),{documents:b,hs:d})))}function fv(o,e){const r=Ht(o),s=Ht(r.Qr),c=r.ns.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function pv(o,e){const r=Ht(o),s=r.ss.get(e)||en.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,e,gr(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(ag(r,e,c),c))}function ag(o,e,r){let s=o.ss.get(e)||en.min();r.forEach((c,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),o.ss.set(e,s)}function lg(){return lg=(0,l.c)(function*(o,e,r,s){const c=Ht(o);let d=m(),p=ms();for(const G of r){const ne=e.Ps(G.metadata.name);G.document&&(d=d.add(ne));const Pe=e.Is(G);Pe.setReadTime(e.Ts(G.metadata.readTime)),p=p.insert(ne,Pe)}const b=c.os.newChangeBuffer({trackRemovals:!0}),R=yield jc(c,(ne=s,lo(Ns(Or.fromString(`__bundle__/docs/${ne}`)))));var ne;return c.persistence.runTransaction("Apply bundle documents","readwrite",G=>hv(G,b,p).next(ne=>(b.apply(G),ne)).next(ne=>c.Qr.removeMatchingKeysForTargetId(G,R.targetId).next(()=>c.Qr.addMatchingKeys(G,d,R.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(G,ne.cs,ne.ls)).next(()=>ne.cs)))}),lg.apply(this,arguments)}function ks(o,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,l.c)(function*(o,e,r=m()){const s=yield jc(o,lo(Yp(e.bundledQuery))),c=Ht(o);return c.persistence.runTransaction("Save named query","readwrite",d=>{const p=ro(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return c.$r.saveNamedQuery(d,e);const b=s.withResumeToken($i.EMPTY_BYTE_STRING,p);return c.ns=c.ns.insert(b.targetId,b),c.Qr.updateTargetData(d,b).next(()=>c.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>c.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>c.$r.saveNamedQuery(d,e))})}),Jd.apply(this,arguments)}function ug(o,e){return`firestore_clients_${o}_${e}`}function gf(o,e,r){let s=`firestore_mutations_${o}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Po(o,e){return`firestore_targets_${o}_${e}`}class lu{constructor(e,r,s,c){this.user=e,this.batchId=r,this.state=s,this.error=c}static Es(e,r,s){const c=JSON.parse(s);let d,p="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code,p&&(d=new Nt(c.error.code,c.error.message))),p?new lu(e,r,c.state,d):(Ee("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new Nt(s.error.code,s.error.message))),d?new Hc(e,s.state,c):(Ee("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,d=H();for(let p=0;c&&p<s.activeTargetIds.length;++p)c=Vh(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return c?new eh(e,d):(Ee("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class cg{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new cg(r.clientId,r.onlineState):(Ee("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mf{constructor(){this.activeTargetIds=H()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dg{constructor(e,r,s,c,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ur(ar),this.started=!1,this.ys=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=ug(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new mf),this.bs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.c)(function*(){const r=yield e.syncEngine.Li();for(const c of r){if(c===e.Vs)continue;const d=e.getItem(ug(e.persistenceKey,c));if(d){const p=eh.Es(c,d);p&&(e.ps=e.ps.insert(p.clientId,p))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const c=e.xs(s);c&&e.Os(c)}for(const c of e.ys)e.gs(c);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,r,s){this.Bs(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Po(this.persistenceKey,e));if(s){const c=Hc.Es(e,s);c&&(r=c.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Po(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(c=>{this.Ls(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return S("SharedClientState","READ",e,r),r}setItem(e,r){S("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(S("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ee("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.c)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const c=r.$s(s.key);return r.Us(c,null)}{const c=r.Ws(s.key,s.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const c=r.Gs(s.key,s.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const c=r.js(s.key,s.newValue);if(c)return r.Hs(c)}}else if(s.key===r.vs){if(null!==s.newValue){const c=r.xs(s.newValue);if(c)return r.Os(c)}}else if(s.key===r.Ss){const c=function(p){let b=Mo._e;if(null!=p)try{const R=JSON.parse(p);ut("number"==typeof R),b=R}catch(R){Ee("SharedClientState","Failed to read sequence number from WebStorage",R)}return b}(s.newValue);c!==Mo._e&&r.sequenceNumberHandler(c)}else if(s.key===r.Fs){const c=r.Js(s.newValue);yield Promise.all(c.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,r,s){const c=new lu(this.currentUser,e,r,s),d=gf(this.persistenceKey,this.currentUser,e);this.setItem(d,c.ds())}Ls(e){const r=gf(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const c=Po(this.persistenceKey,e),d=new Hc(e,r,s);this.setItem(c,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return eh.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),c=Number(s[1]);return lu.Es(new Ni(void 0!==s[2]?s[2]:null),c,r)}js(e,r){const s=this.Cs.exec(e),c=Number(s[1]);return Hc.Es(c,r)}xs(e){return cg.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.c)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);S("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),c=this.Ns(this.ps),d=this.Ns(s),p=[],b=[];return d.forEach(R=>{c.has(R)||p.push(R)}),c.forEach(R=>{d.has(R)||b.push(R)}),this.syncEngine.eo(p,b).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=H();return e.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class hg{constructor(){this.no=new mf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mf,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ny{io(e){}shutdown(){}}class fg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vf=null;function pg(){return null===vf?vf=268435456+Math.round(2147483648*Math.random()):vf++,"0x"+vf.toString(16)}const Oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ky{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const xo="WebChannelConnection";class r0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${c}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get wo(){return!1}So(r,s,c,d,p){const b=pg(),R=this.bo(r,s.toUriEncodedString());S("RestConnection",`Sending RPC '${r}' ${b}:`,R,c);const G={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(G,d,p),this.Co(r,R,G,c).then(ne=>(S("RestConnection",`Received RPC '${r}' ${b}: `,ne),ne),ne=>{throw k("RestConnection",`RPC '${r}' ${b} failed with error: `,ne,"url: ",R,"request:",c),ne})}vo(r,s,c,d,p,b){return this.So(r,s,c,d,p)}Do(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+ho,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),c&&c.headers.forEach((d,p)=>r[p]=d)}bo(r,s){return`${this.fo}/v1/${s}:${Oy[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,c){const d=pg();return new Promise((p,b)=>{const R=new Su;R.setWithCredentials(!0),R.listenOnce(bo.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Gs.NO_ERROR:const ne=R.getResponseJson();S(xo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ne)),p(ne);break;case Gs.TIMEOUT:S(xo,`RPC '${e}' ${d} timed out`),b(new Nt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Gs.HTTP_ERROR:const Pe=R.getStatus();if(S(xo,`RPC '${e}' ${d} failed with status:`,Pe,"response text:",R.getResponseText()),Pe>0){let nt=R.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const Dt=null==nt?void 0:nt.error;if(Dt&&Dt.status&&Dt.message){const En=function(Rn){const lr=Rn.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(lr)>=0?lr:ft.UNKNOWN}(Dt.status);b(new Nt(En,Dt.message))}else b(new Nt(ft.UNKNOWN,"Server responded with status "+R.getStatus()))}else b(new Nt(ft.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{S(xo,`RPC '${e}' ${d} completed.`)}});const G=JSON.stringify(c);S(xo,`RPC '${e}' ${d} sending request:`,c),R.send(r,"POST",G,s,15)})}Fo(e,r,s){const c=pg(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=fc(),b=Ea(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(R.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Do(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const ne=d.join("");S(xo,`Creating RPC '${e}' stream ${c}: ${ne}`,R);const Pe=p.createWebChannel(ne,R);let nt=!1,Dt=!1;const En=new ky({lo:Rn=>{Dt?S(xo,`Not sending because RPC '${e}' stream ${c} is closed:`,Rn):(nt||(S(xo,`Opening RPC '${e}' stream ${c} transport.`),Pe.open(),nt=!0),S(xo,`RPC '${e}' stream ${c} sending:`,Rn),Pe.send(Rn))},ho:()=>Pe.close()}),Fn=(Rn,lr,Mr)=>{Rn.listen(lr,cr=>{try{Mr(cr)}catch(kr){setTimeout(()=>{throw kr},0)}})};return Fn(Pe,ia.EventType.OPEN,()=>{Dt||S(xo,`RPC '${e}' stream ${c} transport opened.`)}),Fn(Pe,ia.EventType.CLOSE,()=>{Dt||(Dt=!0,S(xo,`RPC '${e}' stream ${c} transport closed`),En.Vo())}),Fn(Pe,ia.EventType.ERROR,Rn=>{Dt||(Dt=!0,k(xo,`RPC '${e}' stream ${c} transport errored:`,Rn),En.Vo(new Nt(ft.UNAVAILABLE,"The operation could not be completed")))}),Fn(Pe,ia.EventType.MESSAGE,Rn=>{var lr;if(!Dt){const Mr=Rn.data[0];ut(!!Mr);const kr=Mr.error||(null===(lr=Mr[0])||void 0===lr?void 0:lr.error);if(kr){S(xo,`RPC '${e}' stream ${c} received error:`,kr);const Ei=kr.status;let pi=function(Rh){const b_=uo[Rh];if(void 0!==b_)return $p(b_)}(Ei),vo=kr.message;void 0===pi&&(pi=ft.INTERNAL,vo="Unknown error status: "+Ei+" with message "+kr.message),Dt=!0,En.Vo(new Nt(pi,vo)),Pe.close()}else S(xo,`RPC '${e}' stream ${c} received:`,Mr),En.mo(Mr)}}),Fn(b,Ca.STAT_EVENT,Rn=>{Rn.stat===Da.PROXY?S(xo,`RPC '${e}' stream ${c} detected buffering proxy`):Rn.stat===Da.NOPROXY&&S(xo,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{En.Ro()},0),En}}function Fy(){return typeof window<"u"?window:null}function zc(){return typeof document<"u"?document:null}function _f(o){return new kd(o,!0)}class gv{constructor(e,r,s=1e3,c=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=c,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),c=Math.max(0,r-s);c>0&&S("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Ly{constructor(e,r,s,c,d,p,b,R){this.oi=e,this.$o=s,this.Uo=c,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=R,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gv(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,l.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,l.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,l.c)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===ft.RESOURCE_EXHAUSTED?(Ee(r.toString()),Ee("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===ft.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Wo===r&&this.o_(s,c)},s=>{e(()=>{const c=new Nt(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(c)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(c=>{s(()=>this.__(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Yo(){var e=this;this.state=5,this.jo.qo((0,l.c)(function*(){e.state=0,e.start()}))}__(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o0 extends Ly{constructor(e,r,s,c,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function Hm(o,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:ve(),c=e.targetChange.targetIds||[],d=function(G,ne){return G.useProto3Json?(ut(void 0===ne||"string"==typeof ne),$i.fromBase64String(ne||"")):(ut(void 0===ne||ne instanceof Uint8Array),$i.fromUint8Array(ne||new Uint8Array))}(o,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(G){const ne=void 0===G.code?ft.UNKNOWN:$p(G.code);return new Nt(ne,G.message||"")}(p);r=new jp(s,c,d,b||null)}else if("documentChange"in e){const s=e.documentChange,c=Ua(o,s.document.name),d=ro(s.document.updateTime),p=s.document.createTime?ro(s.document.createTime):en.min(),b=new ui({mapValue:{fields:s.document.fields}}),R=ci.newFoundDocument(c,d,p,b);r=new Qh(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,c=Ua(o,s.document),d=s.readTime?ro(s.readTime):en.min(),p=ci.newNoDocument(c,d);r=new Qh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,c=Ua(o,s.document);r=new Qh([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return ve();{const s=e.filter,{count:c=0,unchangedNames:d}=s,p=new $m(c,d);r=new Gm(s.targetId,p)}}var G;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return en.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?en.min():p.readTime?ro(p.readTime):en.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=Ud(this.serializer),r.addTarget=function(d,p){let b;const R=p.target;if(b=Fu(R)?{documents:Km(d,R)}:{query:Hp(d,R).ut},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Zh(d,p.resumeToken);const G=Xh(d,p.expectedCount);null!==G&&(b.expectedCount=G)}else if(p.snapshotVersion.compareTo(en.min())>0){b.readTime=Mc(d,p.snapshotVersion.toTimestamp());const G=Xh(d,p.expectedCount);null!==G&&(b.expectedCount=G)}return b}(this.serializer,e);const s=function QE(o,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=Ud(this.serializer),r.removeTarget=e,this.t_(r)}}class s0 extends Ly{constructor(e,r,s,c,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function YE(o,e){return o&&o.length>0?(ut(void 0!==e),o.map(r=>function(c,d){let p=ro(c.updateTime?c.updateTime:d);return p.isEqual(en.min())&&(p=ro(d)),new bc(p,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=ro(e.commitTime);return this.listener.T_(s,r)}return ut(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Ud(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>ju(this.serializer,s))};this.t_(r)}}class Vy extends class{}{constructor(e,r,s,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.A_=!1}R_(){if(this.A_)throw new Nt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.So(e,Gu(r,s),c,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Nt(ft.UNKNOWN,d.toString())})}vo(e,r,s,c,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection.vo(e,Gu(r,s),c,p,b,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Nt(ft.UNKNOWN,p.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class gg{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ee(r),this.g_=!1):S("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class mv{constructor(e,r,s,c,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(b=>{s.enqueueAndForget((0,l.c)(function*(){var R;Ju(p)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,l.c)(function*(ne){const Pe=Ht(ne);Pe.v_.add(4),yield Yc(Pe),Pe.x_.set("Unknown"),Pe.v_.delete(4),yield qc(Pe)}),function G(ne){return R.apply(this,arguments)})(p))}))}),this.x_=new gg(s,c)}}function qc(o){return mg.apply(this,arguments)}function mg(){return mg=(0,l.c)(function*(o){if(Ju(o))for(const e of o.F_)yield e(!0)}),mg.apply(this,arguments)}function Yc(o){return If.apply(this,arguments)}function If(){return If=(0,l.c)(function*(o){for(const e of o.F_)yield e(!1)}),If.apply(this,arguments)}function xl(o,e){const r=Ht(o);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),_g(r)?vv(r):tc(r).Jo()&&nl(r,e))}function $o(o,e){const r=Ht(o),s=tc(r);r.C_.delete(e),s.Jo()&&vg(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Ju(r)&&r.x_.set("Unknown"))}function nl(o,e){if(o.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(en.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}tc(o).c_(e)}function vg(o,e){o.O_.Oe(e),tc(o).l_(e)}function vv(o){o.O_=new KE({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>o.C_.get(e)||null,nt:()=>o.datastore.serializer.databaseId}),tc(o).start(),o.x_.p_()}function _g(o){return Ju(o)&&!tc(o).Ho()&&o.C_.size>0}function Ju(o){return 0===Ht(o).v_.size}function Uy(o){o.O_=void 0}function _v(o){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,l.c)(function*(o){o.C_.forEach((e,r)=>{nl(o,e)})}),Ef.apply(this,arguments)}function a0(o,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,l.c)(function*(o,e){Uy(o),_g(o)?(o.x_.S_(e),vv(o)):o.x_.set("Unknown")}),Qc.apply(this,arguments)}function yg(o,e,r){return th.apply(this,arguments)}function th(){return th=(0,l.c)(function*(o,e,r){if(o.x_.set("Online"),e instanceof jp&&2===e.state&&e.cause)try{yield(s=(0,l.c)(function*(d,p){const b=p.cause;for(const R of p.targetIds)d.C_.has(R)&&(yield d.remoteSyncer.rejectListen(R,b),d.C_.delete(R),d.O_.removeTarget(R))}),function c(d,p){return s.apply(this,arguments)})(o,e)}catch(s){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Cf(o,s)}else if(e instanceof Qh?o.O_.$e(e):e instanceof Gm?o.O_.Je(e):o.O_.Ge(e),!r.isEqual(en.min()))try{const s=yield cv(o.localStore);r.compareTo(s)>=0&&(yield function(d,p){const b=d.O_.it(p);return b.targetChanges.forEach((R,G)=>{if(R.resumeToken.approximateByteSize()>0){const ne=d.C_.get(G);ne&&d.C_.set(G,ne.withResumeToken(R.resumeToken,p))}}),b.targetMismatches.forEach((R,G)=>{const ne=d.C_.get(R);if(!ne)return;d.C_.set(R,ne.withResumeToken($i.EMPTY_BYTE_STRING,ne.snapshotVersion)),vg(d,R);const Pe=new Ys(ne.target,R,G,ne.sequenceNumber);nl(d,Pe)}),d.remoteSyncer.applyRemoteEvent(b)}(o,r))}catch(s){S("RemoteStore","Failed to raise snapshot:",s),yield Cf(o,s)}var s}),th.apply(this,arguments)}function Cf(o,e,r){return uu.apply(this,arguments)}function uu(){return uu=(0,l.c)(function*(o,e,r){if(!Ui(e))throw e;o.v_.add(1),yield Yc(o),o.x_.set("Offline"),r||(r=()=>cv(o.localStore)),o.asyncQueue.enqueueRetryable((0,l.c)(function*(){S("RemoteStore","Retrying IndexedDB access"),yield r(),o.v_.delete(1),yield qc(o)}))}),uu.apply(this,arguments)}function Df(o,e){return e().catch(r=>Cf(o,r,e))}function ec(o){return nh.apply(this,arguments)}function nh(){return nh=(0,l.c)(function*(o){const e=Ht(o),r=Ol(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;wf(e);)try{const c=yield Py(e.localStore,s);if(null===c){0===e.D_.length&&r.Xo();break}s=c.batchId,By(e,c)}catch(c){yield Cf(e,c)}yv(e)&&Ig(e)}),nh.apply(this,arguments)}function wf(o){return Ju(o)&&o.D_.length<10}function By(o,e){o.D_.push(e);const r=Ol(o);r.Jo()&&r.P_&&r.I_(e.mutations)}function yv(o){return Ju(o)&&!Ol(o).Ho()&&o.D_.length>0}function Ig(o){Ol(o).start()}function $y(o){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,l.c)(function*(o){Ol(o).d_()}),Eg.apply(this,arguments)}function Gy(o){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,l.c)(function*(o){const e=Ol(o);for(const r of o.D_)e.I_(r.mutations)}),Tf.apply(this,arguments)}function rh(o,e,r){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,l.c)(function*(o,e,r){const s=o.D_.shift(),c=Bp.from(s,e,r);yield Df(o,()=>o.remoteSyncer.applySuccessfulWrite(c)),yield ec(o)}),Xc.apply(this,arguments)}function Cg(o,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,l.c)(function*(o,e){var r;e&&Ol(o).P_&&(yield(r=(0,l.c)(function*(c,d){if(sy(b=d.code)&&b!==ft.ABORTED){const p=c.D_.shift();Ol(c).Zo(),yield Df(c,()=>c.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield ec(c)}var b}),function s(c,d){return r.apply(this,arguments)})(o,e)),yv(o)&&Ig(o)}),Dg.apply(this,arguments)}function Iv(o,e){return ih.apply(this,arguments)}function ih(){return ih=(0,l.c)(function*(o,e){const r=Ht(o);r.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const s=Ju(r);r.v_.add(3),yield Yc(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield qc(r)}),ih.apply(this,arguments)}function bf(o,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,l.c)(function*(o,e){const r=Ht(o);e?(r.v_.delete(2),yield qc(r)):e||(r.v_.add(2),yield Yc(r),r.x_.set("Unknown"))}),Nl.apply(this,arguments)}function tc(o){return o.N_||(o.N_=function(r,s,c){const d=Ht(r);return d.R_(),new o0(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:_v.bind(null,o),To:a0.bind(null,o),u_:yg.bind(null,o)}),o.F_.push(function(){var e=(0,l.c)(function*(r){r?(o.N_.Zo(),_g(o)?vv(o):o.x_.set("Unknown")):(yield o.N_.stop(),Uy(o))});return function(r){return e.apply(this,arguments)}}())),o.N_}function Ol(o){return o.B_||(o.B_=function(r,s,c){const d=Ht(r);return d.R_(),new s0(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:$y.bind(null,o),To:Cg.bind(null,o),E_:Gy.bind(null,o),T_:rh.bind(null,o)}),o.F_.push(function(){var e=(0,l.c)(function*(r){r?(o.B_.Zo(),yield ec(o)):(yield o.B_.stop(),o.D_.length>0&&(S("RemoteStore",`Stopping write stream with ${o.D_.length} pending writes`),o.D_=[]))});return function(r){return e.apply(this,arguments)}}())),o.B_}class wg{constructor(e,r,s,c,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,c,d){const p=Date.now()+s,b=new wg(e,r,p,c,d);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oh(o,e){if(Ee("AsyncQueue",`${e}: ${o}`),Ui(o))return new Nt(ft.UNAVAILABLE,`${e}: ${o}`);throw o}class kl{constructor(e){this.comparator=e?(r,s)=>e(r,s)||bn.comparator(r.key,s.key):(r,s)=>bn.comparator(r.key,s.key),this.keyedMap=El(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new kl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new kl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Ev{constructor(){this.L_=new ur(bn.comparator)}track(e){const r=e.doc.key,s=this.L_.get(r);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(r,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(r):1===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):ve():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,s)=>{e.push(s)}),e}}class nc{constructor(e,r,s,c,d,p,b,R,G){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=R,this.hasCachedResults=G}static fromInitialDocuments(e,r,s,c,d){const p=[];return r.forEach(b=>{p.push({type:0,doc:b})}),new nc(e,r,kl.emptySet(r),p,s,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class Cv{constructor(){this.q_=void 0,this.Q_=[]}}class Dv{constructor(){this.queries=new Fa(e=>Np(e),Zl),this.onlineState="Unknown",this.K_=new Set}}function sh(o,e){return Af.apply(this,arguments)}function Af(){return Af=(0,l.c)(function*(o,e){const r=Ht(o),s=e.query;let c=!1,d=r.queries.get(s);if(d||(c=!0,d=new Cv),c)try{d.q_=yield r.onListen(s)}catch(p){const b=oh(p,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(b)}r.queries.set(s,d),d.Q_.push(e),e.U_(r.onlineState),d.q_&&e.W_(d.q_)&&ic(r)}),Af.apply(this,arguments)}function Zc(o,e){return rc.apply(this,arguments)}function rc(){return rc=(0,l.c)(function*(o,e){const r=Ht(o),s=e.query;let c=!1;const d=r.queries.get(s);if(d){const p=d.Q_.indexOf(e);p>=0&&(d.Q_.splice(p,1),c=0===d.Q_.length)}if(c)return r.queries.delete(s),r.onUnlisten(s)}),rc.apply(this,arguments)}function wv(o,e){const r=Ht(o);let s=!1;for(const c of e){const p=r.queries.get(c.query);if(p){for(const b of p.Q_)b.W_(c)&&(s=!0);p.q_=c}}s&&ic(r)}function Tg(o,e,r){const s=Ht(o),c=s.queries.get(e);if(c)for(const d of c.Q_)d.onError(r);s.queries.delete(e)}function ic(o){o.K_.forEach(e=>{e.next()})}class Sf{constructor(e,r,s){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new nc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){return!e.fromCache||(!this.options.Z_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class bg{constructor(e,r){this.X_=e,this.byteLength=r}ea(){return"metadata"in this.X_}}class ah{constructor(e){this.serializer=e}Ps(e){return Ua(this.serializer,e)}Is(e){return e.metadata.exists?Wp(this.serializer,e.document,!1):ci.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ro(e)}}class jy{constructor(e,r,s){this.ta=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ag(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++r;const s=Or.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ra(e){const r=new Map,s=new ah(this.serializer);for(const c of e)if(c.metadata.queries){const d=s.Ps(c.metadata.name);for(const p of c.metadata.queries){const b=(r.get(p)||m()).add(d);r.set(p,b)}}return r}complete(){var e=this;return(0,l.c)(function*(){const r=yield function xy(o,e,r,s){return lg.apply(this,arguments)}(e.localStore,new ah(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const c of e.queries)yield ks(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:r}})()}}function Ag(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Tv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class Av{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=m(),this.mutatedKeys=m(),this.ua=Vu(e),this.ca=new kl(this.ua)}get la(){return this.oa}ha(e,r){const s=r?r.Pa:new Ev,c=r?r.ca:this.ca;let d=r?r.mutatedKeys:this.mutatedKeys,p=c,b=!1;const R="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,G="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ne,Pe)=>{const nt=c.get(ne),Dt=da(this.query,Pe)?Pe:null,En=!!nt&&this.mutatedKeys.has(nt.key),Fn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let Rn=!1;nt&&Dt?nt.data.isEqual(Dt.data)?En!==Fn&&(s.track({type:3,doc:Dt}),Rn=!0):this.Ia(nt,Dt)||(s.track({type:2,doc:Dt}),Rn=!0,(R&&this.ua(Dt,R)>0||G&&this.ua(Dt,G)<0)&&(b=!0)):!nt&&Dt?(s.track({type:0,doc:Dt}),Rn=!0):nt&&!Dt&&(s.track({type:1,doc:nt}),Rn=!0,(R||G)&&(b=!0)),Rn&&(Dt?(p=p.add(Dt),d=Fn?d.add(ne):d.delete(ne)):(p=p.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ne="F"===this.query.limitType?p.last():p.first();p=p.delete(ne.key),d=d.delete(ne.key),s.track({type:1,doc:ne})}return{ca:p,Pa:s,Xi:b,mutatedKeys:d}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,c){const d=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const p=e.Pa.k_();p.sort((ne,Pe)=>function(Dt,En){const Fn=Rn=>{switch(Rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return Fn(Dt)-Fn(En)}(ne.type,Pe.type)||this.ua(ne.doc,Pe.doc)),this.Ta(s),c=null!=c&&c;const b=r&&!c?this.Ea():[],R=0===this.aa.size&&this.current&&!c?1:0,G=R!==this._a;return this._a=R,0!==p.length||G?{snapshot:new nc(this.query,e.ca,d,p,e.mutatedKeys,0===R,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:b}:{da:b}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ev,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=m(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const r=[];return e.forEach(s=>{this.aa.has(s)||r.push(new bv(s))}),this.aa.forEach(s=>{e.has(s)||r.push(new Tv(s))}),r}Ra(e){this.oa=e.hs,this.aa=m();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return nc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Sv{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Mv{constructor(e){this.key=e,this.ma=!1}}class Tr{constructor(e,r,s,c,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.fa={},this.ga=new Fa(b=>Np(b),Zl),this.pa=new Map,this.ya=new Set,this.wa=new ur(bn.comparator),this.Sa=new Map,this.ba=new tg,this.Da={},this.Ca=new Map,this.va=Fc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Rv(o,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,l.c)(function*(o,e){const r=dh(o);let s,c;const d=r.ga.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),c=d.view.Va();else{const p=yield jc(r.localStore,lo(e)),b=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=yield cu(r,e,s,"current"===b,p.resumeToken),r.isPrimaryClient&&xl(r.remoteStore,p)}return c}),Mf.apply(this,arguments)}function cu(o,e,r,s,c){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,l.c)(function*(o,e,r,s,c){o.Ma=(Pe,nt,Dt)=>{return(En=(0,l.c)(function*(Rn,lr,Mr,cr){let kr=lr.view.ha(Mr);kr.Xi&&(kr=yield pf(Rn.localStore,lr.query,!1).then(({documents:Go})=>lr.view.ha(Go,kr)));const Ei=cr&&cr.targetChanges.get(lr.targetId),pi=cr&&null!=cr.targetMismatches.get(lr.targetId),vo=lr.view.applyChanges(kr,Rn.isPrimaryClient,Ei,pi);return Fg(Rn,lr.targetId,vo.da),vo.snapshot}),function Fn(Rn,lr,Mr,cr){return En.apply(this,arguments)})(o,Pe,nt,Dt);var En};const d=yield pf(o.localStore,e,!0),p=new Av(e,d.hs),b=p.ha(d.documents),R=Ja.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==o.onlineState,c),G=p.applyChanges(b,o.isPrimaryClient,R);Fg(o,r,G.da);const ne=new Sv(e,r,p);return o.ga.set(e,ne),o.pa.has(r)?o.pa.get(r).push(e):o.pa.set(r,[e]),G.snapshot}),Rf.apply(this,arguments)}function Pv(o,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,l.c)(function*(o,e){const r=Ht(o),s=r.ga.get(e),c=r.pa.get(s.targetId);if(c.length>1)return r.pa.set(s.targetId,c.filter(d=>!Zl(d,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Wc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),$o(r.remoteStore,s.targetId),Jc(r,s.targetId)}).catch(oi))):(Jc(r,s.targetId),yield Wc(r.localStore,s.targetId,!0))}),Sg.apply(this,arguments)}function du(){return du=(0,l.c)(function*(o,e,r){const s=jg(o);try{const c=yield function(p,b){const R=Ht(p),G=Gr.now(),ne=b.reduce((Dt,En)=>Dt.add(En.key),m());let Pe,nt;return R.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let En=ms(),Fn=m();return R.os.getEntries(Dt,ne).next(Rn=>{En=Rn,En.forEach((lr,Mr)=>{Mr.isValidDocument()||(Fn=Fn.add(lr))})}).next(()=>R.localDocuments.getOverlayedDocuments(Dt,En)).next(Rn=>{Pe=Rn;const lr=[];for(const Mr of b){const cr=iy(Mr,Pe.get(Mr.key).overlayedDocument);null!=cr&&lr.push(new bl(Mr.key,cr,Ec(cr.value.mapValue),ti.exists(!0)))}return R.mutationQueue.addMutationBatch(Dt,G,lr,b)}).next(Rn=>{nt=Rn;const lr=Rn.applyToLocalDocumentSet(Pe,Fn);return R.documentOverlayCache.saveOverlays(Dt,Rn.batchId,lr)})}).then(()=>({batchId:nt.batchId,changes:Cl(Pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,b,R){let G=p.Da[p.currentUser.toKey()];G||(G=new ur(ar)),G=G.insert(b,R),p.Da[p.currentUser.toKey()]=G}(s,c.batchId,r),yield Fl(s,c.changes),yield ec(s.remoteStore)}catch(c){const d=oh(c,"Failed to persist write");r.reject(d)}}),du.apply(this,arguments)}function xf(o,e){return oc.apply(this,arguments)}function oc(){return oc=(0,l.c)(function*(o,e){const r=Ht(o);try{const s=yield function dv(o,e){const r=Ht(o),s=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const b=[];e.targetChanges.forEach((ne,Pe)=>{const nt=c.get(Pe);if(!nt)return;b.push(r.Qr.removeMatchingKeys(d,ne.removedDocuments,Pe).next(()=>r.Qr.addMatchingKeys(d,ne.addedDocuments,Pe)));let Dt=nt.withSequenceNumber(d.currentSequenceNumber);var Fn,Rn,lr;null!==e.targetMismatches.get(Pe)?Dt=Dt.withResumeToken($i.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):ne.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(ne.resumeToken,s)),c=c.insert(Pe,Dt),Rn=Dt,lr=ne,(0===(Fn=nt).resumeToken.approximateByteSize()||Rn.snapshotVersion.toMicroseconds()-Fn.snapshotVersion.toMicroseconds()>=3e8||lr.addedDocuments.size+lr.modifiedDocuments.size+lr.removedDocuments.size>0)&&b.push(r.Qr.updateTargetData(d,Dt))});let R=ms(),G=m();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(d,ne))}),b.push(hv(d,p,e.documentUpdates).next(ne=>{R=ne.cs,G=ne.ls})),!s.isEqual(en.min())){const ne=r.Qr.getLastRemoteSnapshotVersion(d).next(Pe=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));b.push(ne)}return pt.waitFor(b).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,G)).next(()=>R)}).then(d=>(r.ns=c,d))}(r.localStore,e);e.targetChanges.forEach((c,d)=>{const p=r.Sa.get(d);p&&(ut(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.ma=!0:c.modifiedDocuments.size>0?ut(p.ma):c.removedDocuments.size>0&&(ut(p.ma),p.ma=!1))}),yield Fl(r,s,e)}catch(s){yield oi(s)}}),oc.apply(this,arguments)}function Mg(o,e,r){const s=Ht(o);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.ga.forEach((d,p)=>{const b=p.view.U_(e);b.snapshot&&c.push(b.snapshot)}),function(p,b){const R=Ht(p);R.onlineState=b;let G=!1;R.queries.forEach((ne,Pe)=>{for(const nt of Pe.Q_)nt.U_(b)&&(G=!0)}),G&&ic(R)}(s.eventManager,e),c.length&&s.fa.u_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Rg(o,e,r){return lh.apply(this,arguments)}function lh(){return lh=(0,l.c)(function*(o,e,r){const s=Ht(o);s.sharedClientState.updateQueryState(e,"rejected",r);const c=s.Sa.get(e),d=c&&c.key;if(d){let p=new ur(bn.comparator);p=p.insert(d,ci.newNoDocument(d,en.min()));const b=m().add(d),R=new Ac(en.min(),new Map,new ur(ar),p,b);yield xf(s,R),s.wa=s.wa.remove(d),s.Sa.delete(e),kf(s)}else yield Wc(s.localStore,e,!1).then(()=>Jc(s,e,r)).catch(oi)}),lh.apply(this,arguments)}function Pg(o,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,l.c)(function*(o,e){const r=Ht(o),s=e.batch.batchId;try{const c=yield function Ry(o,e){const r=Ht(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(b,R,G,ne){const Pe=G.batch,nt=Pe.keys();let Dt=pt.resolve();return nt.forEach(En=>{Dt=Dt.next(()=>ne.getEntry(R,En)).next(Fn=>{const Rn=G.docVersions.get(En);ut(null!==Rn),Fn.version.compareTo(Rn)<0&&(Pe.applyToRemoteDocument(Fn,G),Fn.isValidDocument()&&(Fn.setReadTime(G.commitVersion),ne.addEntry(Fn)))})}),Dt.next(()=>b.mutationQueue.removeMutationBatch(R,Pe))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let R=m();for(let G=0;G<b.mutationResults.length;++G)b.mutationResults[G].transformResults.length>0&&(R=R.add(b.batch.mutations[G].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,e);kg(r,s,null),Of(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Fl(r,c)}catch(c){yield oi(c)}}),Nf.apply(this,arguments)}function xg(o,e,r){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,l.c)(function*(o,e,r){const s=Ht(o);try{const c=yield function(p,b){const R=Ht(p);return R.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ne;return R.mutationQueue.lookupMutationBatch(G,b).next(Pe=>(ut(null!==Pe),ne=Pe.keys(),R.mutationQueue.removeMutationBatch(G,Pe))).next(()=>R.mutationQueue.performConsistencyCheck(G)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(G,ne,b)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ne)).next(()=>R.localDocuments.getDocuments(G,ne))})}(s.localStore,e);kg(s,e,r),Of(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Fl(s,c)}catch(c){yield oi(c)}}),Ng.apply(this,arguments)}function Og(){return Og=(0,l.c)(function*(o,e){const r=Ht(o);Ju(r.remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const b=Ht(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>b.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const c=r.Ca.get(s)||[];c.push(e),r.Ca.set(s,c)}catch(s){const c=oh(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Og.apply(this,arguments)}function Of(o,e){(o.Ca.get(e)||[]).forEach(r=>{r.resolve()}),o.Ca.delete(e)}function kg(o,e,r){const s=Ht(o);let c=s.Da[s.currentUser.toKey()];if(c){const d=c.get(e);d&&(r?d.reject(r):d.resolve(),c=c.remove(e)),s.Da[s.currentUser.toKey()]=c}}function Jc(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const s of o.pa.get(e))o.ga.delete(s),r&&o.fa.xa(s,r);o.pa.delete(e),o.isPrimaryClient&&o.ba.Vr(e).forEach(s=>{o.ba.containsKey(s)||xv(o,s)})}function xv(o,e){o.ya.delete(e.path.canonicalString());const r=o.wa.get(e);null!==r&&($o(o.remoteStore,r),o.wa=o.wa.remove(e),o.Sa.delete(r),kf(o))}function Fg(o,e,r){for(const s of r)s instanceof Tv?(o.ba.addReference(s.key,e),Nv(o,s)):s instanceof bv?(S("SyncEngine","Document no longer in limbo: "+s.key),o.ba.removeReference(s.key,e),o.ba.containsKey(s.key)||xv(o,s.key)):ve()}function Nv(o,e){const r=e.key,s=r.path.canonicalString();o.wa.get(r)||o.ya.has(s)||(S("SyncEngine","New document in limbo: "+r),o.ya.add(s),kf(o))}function kf(o){for(;o.ya.size>0&&o.wa.size<o.maxConcurrentLimboResolutions;){const e=o.ya.values().next().value;o.ya.delete(e);const r=new bn(Or.fromString(e)),s=o.va.next();o.Sa.set(s,new Mv(r)),o.wa=o.wa.insert(r,s),xl(o.remoteStore,new Ys(lo(Ns(r.path)),s,"TargetPurposeLimboResolution",Mo._e))}}function Fl(o,e,r){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,l.c)(function*(o,e,r){const s=Ht(o),c=[],d=[],p=[];var b;s.ga.isEmpty()||(s.ga.forEach((b,R)=>{p.push(s.Ma(R,e,r).then(G=>{if((G||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,null!=G&&G.fromCache?"not-current":"current"),G){c.push(G);const ne=ig.Ki(R.targetId,G);d.push(ne)}}))}),yield Promise.all(p),s.fa.u_(c),yield(b=(0,l.c)(function*(G,ne){const Pe=Ht(G);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>pt.forEach(ne,Dt=>pt.forEach(Dt.qi,En=>Pe.persistence.referenceDelegate.addReference(nt,Dt.targetId,En)).next(()=>pt.forEach(Dt.Qi,En=>Pe.persistence.referenceDelegate.removeReference(nt,Dt.targetId,En)))))}catch(nt){if(!Ui(nt))throw nt;S("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of ne){const Dt=nt.targetId;if(!nt.fromCache){const En=Pe.ns.get(Dt),Rn=En.withLastLimboFreeSnapshotVersion(En.snapshotVersion);Pe.ns=Pe.ns.insert(Dt,Rn)}}}),function R(G,ne){return b.apply(this,arguments)})(s.localStore,d))}),Lg.apply(this,arguments)}function Fs(o,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,l.c)(function*(o,e){const r=Ht(o);if(!r.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const s=yield Gc(r.localStore,e);r.currentUser=e,(d=r).Ca.forEach(b=>{b.forEach(R=>{R.reject(new Nt(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ca.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Fl(r,s.us)}var d}),Vg.apply(this,arguments)}function Hy(o,e){const r=Ht(o),s=r.Sa.get(e);if(s&&s.ma)return m().add(s.key);{let c=m();const d=r.pa.get(e);if(!d)return c;for(const p of d){const b=r.ga.get(p);c=c.unionWith(b.view.la)}return c}}function l0(o,e){return uh.apply(this,arguments)}function uh(){return uh=(0,l.c)(function*(o,e){const r=Ht(o),s=yield pf(r.localStore,e.query,!0),c=e.view.Ra(s);return r.isPrimaryClient&&Fg(r,e.targetId,c.da),c}),uh.apply(this,arguments)}function Ov(o,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,l.c)(function*(o,e){const r=Ht(o);return pv(r.localStore,e).then(s=>Fl(r,s))}),Ug.apply(this,arguments)}function zy(o,e,r,s){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,l.c)(function*(o,e,r,s){const c=Ht(o),d=yield function(b,R){const G=Ht(b),ne=Ht(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>ne.vn(Pe,R).next(nt=>nt?G.localDocuments.getDocuments(Pe,nt):pt.resolve(null)))}(c.localStore,e);var R;null!==d?("pending"===r?yield ec(c.remoteStore):"acknowledged"===r||"rejected"===r?(kg(c,e,s||null),Of(c,e),R=e,Ht(Ht(c.localStore).mutationQueue).Mn(R)):ve(),yield Fl(c,d)):S("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bg.apply(this,arguments)}function $g(){return $g=(0,l.c)(function*(o,e){const r=Ht(o);if(dh(r),jg(r),!0===e&&!0!==r.Fa){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Fv(r,s.toArray());r.Fa=!0,yield bf(r.remoteStore,!0);for(const d of c)xl(r.remoteStore,d)}else if(!1===e&&!1!==r.Fa){const s=[];let c=Promise.resolve();r.pa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):c=c.then(()=>(Jc(r,p),Wc(r.localStore,p,!0))),$o(r.remoteStore,p)}),yield c,yield Fv(r,s),function(p){const b=Ht(p);b.Sa.forEach((R,G)=>{$o(b.remoteStore,G)}),b.ba.mr(),b.Sa=new Map,b.wa=new ur(bn.comparator)}(r),r.Fa=!1,yield bf(r.remoteStore,!1)}}),$g.apply(this,arguments)}function Fv(o,e,r){return ch.apply(this,arguments)}function ch(){return ch=(0,l.c)(function*(o,e,r){const s=Ht(o),c=[],d=[];for(const p of e){let b;const R=s.pa.get(p);if(R&&0!==R.length){b=yield jc(s.localStore,lo(R[0]));for(const G of R){const ne=s.ga.get(G),Pe=yield l0(s,ne);Pe.snapshot&&d.push(Pe.snapshot)}}else{const G=yield fv(s.localStore,p);b=yield jc(s.localStore,G),yield cu(s,Lv(G),p,!1,b.resumeToken)}c.push(b)}return s.fa.u_(d),c}),ch.apply(this,arguments)}function Lv(o){return Md(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Ky(o){return r=Ht(o).localStore,Ht(Ht(r).persistence).Li();var r}function qy(o,e,r,s){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,l.c)(function*(o,e,r,s){const c=Ht(o);if(c.Fa)return void S("SyncEngine","Ignoring unexpected query state notification.");const d=c.pa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield pv(c.localStore,Lu(d[0])),b=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,$i.EMPTY_BYTE_STRING);yield Fl(c,p,b);break}case"rejected":yield Wc(c.localStore,e,!0),Jc(c,e,s);break;default:ve()}}),Gg.apply(this,arguments)}function Yy(o,e,r){return pa.apply(this,arguments)}function pa(){return pa=(0,l.c)(function*(o,e,r){const s=dh(o);if(s.Fa){for(const c of e){if(s.pa.has(c)){S("SyncEngine","Adding an already active target "+c);continue}const d=yield fv(s.localStore,c),p=yield jc(s.localStore,d);yield cu(s,Lv(d),p.targetId,!1,p.resumeToken),xl(s.remoteStore,p)}for(const c of r)s.pa.has(c)&&(yield Wc(s.localStore,c,!1).then(()=>{$o(s.remoteStore,c),Jc(s,c)}).catch(oi))}}),pa.apply(this,arguments)}function dh(o){const e=Ht(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=xf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rg.bind(null,e),e.fa.u_=wv.bind(null,e.eventManager),e.fa.xa=Tg.bind(null,e.eventManager),e}function jg(o){const e=Ht(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xg.bind(null,e),e}class sc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.c)(function*(){r.serializer=_f(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return My(this.persistence,new og,e.initialUser,this.serializer)}createPersistence(e){return new Vc(Uc.Hr,this.serializer)}createSharedClientState(e){return new hg}terminate(){var e=this;return(0,l.c)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ed extends sc{constructor(e,r,s){super(),this.Na=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.c)(function*(){yield r().call(s,e),yield s.Na.initialize(s,e),yield jg(s.Na.syncEngine),yield ec(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return My(this.persistence,new og,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new uf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Mu(r,this.persistence);return new Kl(e.asyncQueue,s)}createPersistence(e){const r=rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new Xd(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Fy(),zc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hg}}class Ff extends ed{constructor(e,r){super(e,r,!1),this.Na=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.c)(function*(){yield r().call(s,e);const c=s.Na.syncEngine;s.sharedClientState instanceof dg&&(s.sharedClientState.syncEngine={Zs:zy.bind(null,c),Xs:qy.bind(null,c),eo:Yy.bind(null,c),Li:Ky.bind(null,c),Ys:Ov.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,l.c)(function*(p){yield function kv(o,e){return $g.apply(this,arguments)}(s.Na.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Fy();if(!dg.D(r))throw new Nt(ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dg(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class hh{initialize(e,r){var s=this;return(0,l.c)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>Mg(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Fs.bind(null,s.syncEngine),yield bf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dv}createDatastore(e){const r=_f(e.databaseInfo.databaseId),s=new r0(e.databaseInfo);return new Vy(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,c=this.datastore,d=e.asyncQueue,p=r=>Mg(this.syncEngine,r,0),b=fg.D()?new fg:new Ny,new mv(s,c,d,p,b);var s,c,d,p,b}createSyncEngine(e,r){return function(c,d,p,b,R,G,ne){const Pe=new Tr(c,d,p,b,R,G);return ne&&(Pe.Fa=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.c)(function*(){var r,s;yield(s=(0,l.c)(function*(d){const p=Ht(d);S("RemoteStore","RemoteStore shutting down."),p.v_.add(5),yield Yc(p),p.M_.shutdown(),p.x_.set("Unknown")}),function c(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Wg(o,e=10240){let r=0;return{read:()=>(0,l.c)(function*(){if(r<o.byteLength){const s={value:o.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ee("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Uv{constructor(e,r){this.ka=e,this.serializer=r,this.metadata=new Kn,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,l.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,l.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,l.c)(function*(){const r=yield e.Ka();if(null===r)return null;const s=e.qa.decode(r),c=Number(s);isNaN(c)&&e.$a(`length string (${s}) is not valid number`);const d=yield e.Ua(c);return new bg(JSON.parse(d),r.length+c)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,l.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const r=e.Wa();r<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ua(e){var r=this;return(0,l.c)(function*(){for(;r.buffer.length<e;)(yield r.Ga())&&r.$a("Reached the end of bundle when more is expected.");const s=r.qa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,l.c)(function*(){const r=yield e.ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Lf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.c)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Nt(ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(c=(0,l.c)(function*(p,b){const R=Ht(p),G={documents:b.map(Dt=>Rc(R.serializer,Dt))},ne=yield R.vo("BatchGetDocuments",R.serializer.databaseId,Or.emptyPath(),G,b.length),Pe=new Map;ne.forEach(Dt=>{const En=function hy(o,e){return"found"in e?function(s,c){ut(!!c.found);const d=Ua(s,c.found.name),p=ro(c.found.updateTime),b=c.found.createTime?ro(c.found.createTime):en.min(),R=new ui({mapValue:{fields:c.found.fields}});return ci.newFoundDocument(d,p,b,R)}(o,e):"missing"in e?function(s,c){ut(!!c.missing),ut(!!c.readTime);const d=Ua(s,c.missing),p=ro(c.readTime);return ci.newNoDocument(d,p)}(o,e):ve()}(R.serializer,Dt);Pe.set(En.key.toString(),En)});const nt=[];return b.forEach(Dt=>{const En=Pe.get(Dt.toString());ut(!!En),nt.push(En)}),nt}),function d(p,b){return c.apply(this,arguments)})(r.datastore,e);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new $u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const d=bn.fromPath(c);e.mutations.push(new Vp(d,e.precondition(d)))}),yield(s=(0,l.c)(function*(d,p){const b=Ht(d),R={writes:p.map(G=>ju(b.serializer,G))};yield b.So("Commit",b.serializer.databaseId,Or.emptyPath(),R)}),function c(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw ve();r=en.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Nt(ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(en.min())?ti.exists(!1):ti.updateTime(r):ti.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(en.min()))throw new Nt(ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ti.updateTime(r)}return ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hg{constructor(e,r,s,c,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=c,this.deferred=d,this.za=s.maxAttempts,this.jo=new gv(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,l.c)(function*(){const r=new Lf(e.datastore),s=e.Ja(r);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(d=>{e.Ya(d)}))}).catch(c=>{e.Ya(c)})}))}Ja(e){try{const r=this.updateFunction(e);return!hl(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!sy(r)}return!1}}class Ll{constructor(e,r,s,c){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=Ni.UNAUTHENTICATED,this.clientId=Wi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,l.c)(function*(b){S("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(S("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=oh(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Vf(o,e){return zg.apply(this,arguments)}function zg(){return zg=(0,l.c)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;yield e.initialize(r);let s=r.initialUser;o.setCredentialChangeListener(function(){var c=(0,l.c)(function*(d){s.isEqual(d)||(yield Gc(e.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),zg.apply(this,arguments)}function ph(o,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,l.c)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const r=yield Uf(o);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,o.configuration),o.setCredentialChangeListener(s=>Iv(e.remoteStore,s)),o.setAppCheckTokenChangeListener((s,c)=>Iv(e.remoteStore,c)),o._onlineComponents=e}),Kg.apply(this,arguments)}function td(o){return"FirebaseError"===o.name?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function Uf(o){return hu.apply(this,arguments)}function hu(){return hu=(0,l.c)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vf(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!td(r))throw r;k("Error using user provided cache. Falling back to memory cache: "+r),yield Vf(o,new sc)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Vf(o,new sc);return o._offlineComponents}),hu.apply(this,arguments)}function fu(o){return gh.apply(this,arguments)}function gh(){return gh=(0,l.c)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield ph(o,o._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield ph(o,new hh))),o._onlineComponents}),gh.apply(this,arguments)}function nd(o){return Uf(o).then(e=>e.persistence)}function ac(o){return Uf(o).then(e=>e.localStore)}function qg(o){return fu(o).then(e=>e.remoteStore)}function Yg(o){return fu(o).then(e=>e.syncEngine)}function rd(o){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,l.c)(function*(o){const e=yield fu(o),r=e.eventManager;return r.onListen=Rv.bind(null,e.syncEngine),r.onUnlisten=Pv.bind(null,e.syncEngine),r}),Qg.apply(this,arguments)}function Xg(o,e,r={}){const s=new Kn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function(d,p,b,R,G){const ne=new fh({next:nt=>{p.enqueueAndForget(()=>Zc(d,Pe));const Dt=nt.docs.has(b);!Dt&&nt.fromCache?G.reject(new Nt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&nt.fromCache&&R&&"server"===R.source?G.reject(new Nt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(nt)},error:nt=>G.reject(nt)}),Pe=new Sf(Ns(b.path),ne,{includeMetadataChanges:!0,Z_:!0});return sh(d,Pe)}(yield rd(o),o.asyncQueue,e,r,s)})),s.promise}function Zg(o,e,r={}){const s=new Kn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function(d,p,b,R,G){const ne=new fh({next:nt=>{p.enqueueAndForget(()=>Zc(d,Pe)),nt.fromCache&&"server"===R.source?G.reject(new Nt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(nt)},error:nt=>G.reject(nt)}),Pe=new Sf(b,ne,{includeMetadataChanges:!0,Z_:!0});return sh(d,Pe)}(yield rd(o),o.asyncQueue,e,r,s)})),s.promise}function Wv(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const Hv=new Map;function $f(o,e,r){if(!r)throw new Nt(ft.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Gf(o,e,r,s){if(!0===e&&!0===s)throw new Nt(ft.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function Jg(o){if(!bn.isDocumentKey(o))throw new Nt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function id(o){if(bn.isDocumentKey(o))throw new Nt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function pu(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(s=o).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof o?"a function":ve()}function Nr(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Nt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=pu(o);throw new Nt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}function zv(o,e){if(e<=0)throw new Nt(ft.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class Kv{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wv(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,r,s,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Hr;switch(s.type){case"firstParty":return new an(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Nt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Hv.get(r);s&&(S("ComponentProvider","Removing Datastore"),Hv.delete(r),s.terminate())}(this),Promise.resolve()}}function vh(o,e,r,s={}){var c;const d=(o=Nr(o,mh))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&k("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let b,R;if("string"==typeof s.mockUserToken)b=s.mockUserToken,R=Ni.MOCK_USER;else{b=(0,ye.YD)(s.mockUserToken,null===(c=o._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new Nt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ni(G)}o._authCredentials=new Ai(new Br(b,R))}}class mo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class qi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Vl extends mo{constructor(e,r,s){super(e,r,Ns(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new bn(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function c0(o,e,...r){if(o=(0,ye.Yj)(o),$f("collection","path",e),o instanceof mh){const s=Or.fromString(e,...r);return id(s),new Vl(o,null,s)}{if(!(o instanceof qi||o instanceof Vl))throw new Nt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Or.fromString(e,...r));return id(s),new Vl(o.firestore,null,s)}}function nI(o,e){if(o=Nr(o,mh),$f("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(ft.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(o,null,(s=e,new ca(Or.emptyPath(),s)));var s}function qv(o,e,...r){if(o=(0,ye.Yj)(o),1===arguments.length&&(e=Wi.newId()),$f("doc","path",e),o instanceof mh){const s=Or.fromString(e,...r);return Jg(s),new qi(o,null,new bn(s))}{if(!(o instanceof qi||o instanceof Vl))throw new Nt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Or.fromString(e,...r));return Jg(s),new qi(o.firestore,o instanceof Vl?o.converter:null,new bn(s))}}function d0(o,e){return o=(0,ye.Yj)(o),e=(0,ye.Yj)(e),(o instanceof qi||o instanceof Vl)&&(e instanceof qi||e instanceof Vl)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function em(o,e){return o=(0,ye.Yj)(o),e=(0,ye.Yj)(e),o instanceof mo&&e instanceof mo&&o.firestore===e.firestore&&Zl(o._query,e._query)&&o.converter===e.converter}class h0{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new gv(this,"async_queue_retry"),this._u=()=>{const r=zc();r&&S("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=zc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=zc();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new Kn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,l.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(r){if(!Ui(r))throw r;S("AsyncQueue","Operation failed with retryable error: "+r)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,Ee("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=r,r}enqueueAfterDelay(e,r,s){this.au(),this.ou.indexOf(e)>-1&&(r=0);const c=wg.createAndSchedule(this,e,r,s,d=>this.lu(d));return this.nu.push(c),c}au(){this.ru&&ve()}verifyOperationInProgress(){}hu(){var e=this;return(0,l.c)(function*(){let r;do{r=e.Xa,yield r}while(r!==e.Xa)})()}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}function tm(o){return function(r,s){if("object"!=typeof r||null===r)return!1;const c=r;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(o)}class rI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const iI=-1;class fi extends mh{constructor(e,r,s,c){super(e,r,s,c),this.type="firestore",this._queue=new h0,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rm(this),this._firestoreClient.terminate()}}function nm(o,e){const r="object"==typeof o?o:(0,F.getApp)(),s="string"==typeof o?o:e||"(default)",c=(0,F._getProvider)(r,"firestore").getImmediate({identifier:s});if(!c._initialized){const d=(0,ye.on)("firestore");d&&vh(c,...d)}return c}function Mi(o){return o._firestoreClient||rm(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function rm(o){var e,r,s;const c=o._freezeSettings(),d=(R=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Pa(o._databaseId,R,o._persistenceKey,(ne=c).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Wv(ne.experimentalLongPollingOptions),ne.useFetchStreams));var R,ne;o._firestoreClient=new Ll(o._authCredentials,o._appCheckCredentials,o._queue,d),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function _h(o,e){Jv(o=Nr(o,fi));const r=Mi(o);if(r._uninitializedComponentsProvider)throw new Nt(ft.FAILED_PRECONDITION,"SDK cache is already specified.");k("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),c=new hh;return Qv(r,c,new ed(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Yv(o){Jv(o=Nr(o,fi));const e=Mi(o);if(e._uninitializedComponentsProvider)throw new Nt(ft.FAILED_PRECONDITION,"SDK cache is already specified.");k("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=o._freezeSettings(),s=new hh;return Qv(e,s,new Ff(s,r.cacheSizeBytes))}function Qv(o,e,r){const s=new Kn;return o.asyncQueue.enqueue((0,l.c)(function*(){try{yield Vf(o,r),yield ph(o,e),s.resolve()}catch(c){const d=c;if(!td(d))throw d;k("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function yh(o){if(o._initialized&&!o._terminated)throw new Nt(ft.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kn;return o._queue.enqueueAndForgetEvenWhileRestricted((0,l.c)(function*(){try{yield(r=(0,l.c)(function*(c){if(!so.D())return Promise.resolve();const d=c+"main";yield so.delete(d)}),function s(c){return r.apply(this,arguments)})(rg(o._databaseId,o._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Xv(o){return function(r){const s=new Kn;return r.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function Wy(o,e){return Og.apply(this,arguments)}(yield Yg(r),s)})),s.promise}(Mi(o=Nr(o,fi)))}function oI(o){return function Xy(o){return o.asyncQueue.enqueue((0,l.c)(function*(){const e=yield nd(o),r=yield qg(o);return e.setNetworkEnabled(!0),function(c){const d=Ht(c);return d.v_.delete(0),qc(d)}(r)}))}(Mi(o=Nr(o,fi)))}function Zv(o){return function Zy(o){return o.asyncQueue.enqueue((0,l.c)(function*(){const e=yield nd(o),r=yield qg(o);return e.setNetworkEnabled(!1),(s=(0,l.c)(function*(d){const p=Ht(d);p.v_.add(0),yield Yc(p),p.x_.set("Offline")}),function c(d){return s.apply(this,arguments)})(r);var s}))}(Mi(o=Nr(o,fi)))}function Wf(o,e){const r=Mi(o=Nr(o,fi)),s=new rI;return function Jy(o,e,r,s){const c=function(p,b){let R;return R="string"==typeof p?Os().encode(p):p,ne=function(ne,Pe){if(ne instanceof Uint8Array)return Wg(ne,void 0);if(ne instanceof ArrayBuffer)return Wg(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Uv(ne,b);var ne}(r,_f(e));o.asyncQueue.enqueueAndForget((0,l.c)(function*(){!function Qy(o,e,r){const s=Ht(o);var c;(c=(0,l.c)(function*(p,b,R){try{const G=yield b.getMetadata();if(yield function(En,Fn){const Rn=Ht(En),lr=ro(Fn.createTime);return Rn.persistence.runTransaction("hasNewerBundle","readonly",Mr=>Rn.$r.getBundleMetadata(Mr,Fn.id)).then(Mr=>!!Mr&&Mr.createTime.compareTo(lr)>=0)}(p.localStore,G))return yield b.close(),R._completeWith({taskState:"Success",documentsLoaded:(En=G).totalDocuments,bytesLoaded:En.totalBytes,totalDocuments:En.totalDocuments,totalBytes:En.totalBytes}),Promise.resolve(new Set);R._updateProgress(Ag(G));const ne=new jy(G,p.localStore,b.serializer);let Pe=yield b.Oa();for(;Pe;){const Dt=yield ne.na(Pe);Dt&&R._updateProgress(Dt),Pe=yield b.Oa()}const nt=yield ne.complete();return yield Fl(p,nt.sa,void 0),yield function(En,Fn){const Rn=Ht(En);return Rn.persistence.runTransaction("Save bundle","readwrite",lr=>Rn.$r.saveBundleMetadata(lr,Fn))}(p.localStore,G),R._completeWith(nt.progress),Promise.resolve(nt.ia)}catch(G){return k("SyncEngine",`Loading bundle failed with ${G}`),R._failWith(G),Promise.resolve(new Set)}var En}),function d(p,b,R){return c.apply(this,arguments)})(s,e,r).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Yg(o),c,s)}))}(r,o._databaseId,e,s),s}function sI(o,e){return function u0(o,e){return o.asyncQueue.enqueue((0,l.c)(function*(){return function(s,c){const d=Ht(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.$r.getNamedQuery(p,c))}(yield ac(o),e)}))}(Mi(o=Nr(o,fi)),e).then(r=>r?new mo(o,null,r.query):null)}function Jv(o){if(o._initialized||o._terminated)throw new Nt(ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu($i.fromBase64String(e))}catch(r){throw new Nt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new gu($i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Nt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lc{constructor(e){this._methodName=e}}class uc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Nt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Nt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ar(this._lat,e._lat)||ar(this._long,e._long)}}const zf=/^__.*__$/;class p0{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new bl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Tl(e,this.data,r,this.fieldTransforms)}}class e_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new bl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function t_(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class od{constructor(e,r,s,c,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.mu(e),c}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.Eu(),c}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Qf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(t_(this.du)&&zf.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class lI{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||_f(e)}Su(e,r,s,c=!1){return new od({du:e,methodName:r,wu:s,path:tr.emptyPath(),Vu:!1,yu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(o){const e=o._freezeSettings(),r=_f(o._databaseId);return new lI(o._databaseId,!!e.ignoreUndefinedProperties,r)}function Kf(o,e,r,s,c,d={}){const p=o.Su(d.merge||d.mergeFields?2:0,e,r,c);sd("Data must be an object, but it was:",p,s);const b=uI(s,p);let R,G;if(d.merge)R=new Bi(p.fieldMask),G=p.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Pe of d.mergeFields){const nt=ad(e,Pe,r);if(!p.contains(nt))throw new Nt(ft.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Xf(ne,nt)||ne.push(nt)}R=new Bi(ne),G=p.fieldTransforms.filter(Pe=>R.covers(Pe.field))}else R=null,G=p.fieldTransforms;return new p0(new ui(b),R,G)}class Eh extends lc{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function im(o,e,r){return new od({du:3,wu:e.settings.wu,methodName:o._methodName,Vu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class om extends lc{_toFieldTransform(e){return new nu(e.path,new no)}isEqual(e){return e instanceof om}}class sm extends lc{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=im(this,e,!0),s=this.bu.map(d=>_u(d,r)),c=new Bo(s);return new nu(e.path,c)}isEqual(e){return e instanceof sm&&(0,ye.IN)(this.bu,e.bu)}}class vu extends lc{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=im(this,e,!0),s=this.bu.map(d=>_u(d,r)),c=new La(s);return new nu(e.path,c)}isEqual(e){return e instanceof vu&&(0,ye.IN)(this.bu,e.bu)}}class Ch extends lc{constructor(e,r){super(e),this.Du=r}_toFieldTransform(e){const r=new wl(e.serializer,Pt(e.serializer,this.Du));return new nu(e.path,r)}isEqual(e){return e instanceof Ch&&this.Du===e.Du}}function am(o,e,r,s){const c=o.Su(1,e,r);sd("Data must be an object, but it was:",c,s);const d=[],p=ui.empty();Qa(s,(R,G)=>{const ne=Yf(e,R,r);G=(0,ye.Yj)(G);const Pe=c.fu(ne);if(G instanceof Eh)d.push(ne);else{const nt=_u(G,Pe);null!=nt&&(d.push(ne),p.set(ne,nt))}});const b=new Bi(d);return new e_(p,b,c.fieldTransforms)}function qf(o,e,r,s,c,d){const p=o.Su(1,e,r),b=[ad(e,s,r)],R=[c];if(d.length%2!=0)throw new Nt(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<d.length;nt+=2)b.push(ad(e,d[nt])),R.push(d[nt+1]);const G=[],ne=ui.empty();for(let nt=b.length-1;nt>=0;--nt)if(!Xf(G,b[nt])){const Dt=b[nt];let En=R[nt];En=(0,ye.Yj)(En);const Fn=p.fu(Dt);if(En instanceof Eh)G.push(Dt);else{const Rn=_u(En,Fn);null!=Rn&&(G.push(Dt),ne.set(Dt,Rn))}}const Pe=new Bi(G);return new e_(ne,Pe,p.fieldTransforms)}function n_(o,e,r,s=!1){return _u(r,o.Su(s?4:3,e))}function _u(o,e){if(r_(o=(0,ye.Yj)(o)))return sd("Unsupported field value:",e,o),uI(o,e);if(o instanceof lc)return function(s,c){if(!t_(c.du))throw c.pu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.pu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,c){const d=[];let p=0;for(const b of s){let R=_u(b,c.gu(p));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),p++}return{arrayValue:{values:d}}}(o,e)}return function(s,c){if(null===(s=(0,ye.Yj)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Pt(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Gr.fromDate(s);return{timestampValue:Mc(c.serializer,d)}}if(s instanceof Gr){const d=new Gr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mc(c.serializer,d)}}if(s instanceof uc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gu)return{bytesValue:Zh(c.serializer,s._byteString)};if(s instanceof qi){const d=c.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw c.pu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Fd(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.pu(`Unsupported field value: ${pu(s)}`)}(o,e)}function uI(o,e){const r={};return md(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(o,(s,c)=>{const d=_u(c,e.Ru(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function r_(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Gr||o instanceof uc||o instanceof gu||o instanceof qi||o instanceof lc)}function sd(o,e,r){if(!r_(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=pu(r);throw e.pu("an object"===s?o+" a custom object":o+" "+s)}var c}function ad(o,e,r){if((e=(0,ye.Yj)(e))instanceof rl)return e._internalPath;if("string"==typeof e)return Yf(o,e);throw Qf("Field path arguments must be of type string or ",o,!1,void 0,r)}const cI=new RegExp("[~\\*/\\[\\]]");function Yf(o,e,r){if(e.search(cI)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new rl(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function Qf(o,e,r,s,c){const d=s&&!s.isEmpty(),p=void 0!==c;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let R="";return(d||p)&&(R+=" (found",d&&(R+=` in field ${s}`),p&&(R+=` in document ${c}`),R+=")"),new Nt(ft.INVALID_ARGUMENT,b+o+R)}function Xf(o,e){return o.some(r=>r.isEqual(e))}class Zf{constructor(e,r,s,c,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new i_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qs("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class i_ extends Zf{data(){return super.data()}}function Qs(o,e){return"string"==typeof e?Yf(o,e):e instanceof rl?e._internalPath:e._delegate._internalPath}function lm(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Nt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class um{}class Jf extends um{}function io(o,e,...r){let s=[];e instanceof um&&s.push(e),s=s.concat(r),function(d){const p=d.filter(R=>R instanceof ld).length,b=d.filter(R=>R instanceof Dh).length;if(p>1||p>0&&b>0)throw new Nt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)o=c._apply(o);return o}class Dh extends Jf{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Dh(e,r,s)}_apply(e){const r=this._parse(e);return Ul(e._query,r),new mo(e.firestore,e.converter,Xl(e._query,r))}_parse(e){const r=mu(e.firestore);return function(d,p,b,R,G,ne,Pe){let nt;if(G.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Nt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){np(Pe,ne);const Dt=[];for(const En of Pe)Dt.push(ud(R,d,En));nt={arrayValue:{values:Dt}}}else nt=ud(R,d,Pe)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||np(Pe,ne),nt=n_(b,"where",Pe,"in"===ne||"not-in"===ne);return Ir.create(G,ne,nt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function cm(o,e,r){const s=e,c=Qs("where",o);return Dh._create(c,s,r)}class ld extends um{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ld(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Lr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,d){let p=c;const b=d.getFlattenedFilters();for(const R of b)Ul(p,R),p=Xl(p,R)}(e._query,r),new mo(e.firestore,e.converter,Xl(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ep extends Jf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ep(e,r)}_apply(e){const r=function(c,d,p){if(null!==c.startAt)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ki(d,p)}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(c,d){const p=c.explicitOrderBy.concat([d]);return new ca(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}function s_(o,e="asc"){const r=e,s=Qs("orderBy",o);return ep._create(s,r)}class wh extends Jf{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new wh(e,r,s)}_apply(e){return new mo(e.firestore,e.converter,Il(e._query,this._limit,this._limitType))}}function dI(o){return zv("limit",o),wh._create("limit",o,"F")}function hI(o){return zv("limitToLast",o),wh._create("limitToLast",o,"L")}class il extends Jf{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new il(e,r,s)}_apply(e){const r=hm(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(d=r,new ca((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)));var c,d}}function a_(...o){return il._create("startAt",o,!0)}function dm(...o){return il._create("startAfter",o,!1)}class tp extends Jf{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new tp(e,r,s)}_apply(e){const r=hm(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(d=r,new ca((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,d)));var c,d}}function l_(...o){return tp._create("endBefore",o,!1)}function u_(...o){return tp._create("endAt",o,!0)}function hm(o,e,r,s){if(r[0]=(0,ye.Yj)(r[0]),r[0]instanceof Zf)return function(d,p,b,R,G){if(!R)throw new Nt(ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const ne=[];for(const Pe of Ks(d))if(Pe.field.isKeyField())ne.push(Oa(p,R.key));else{const nt=R.data.field(Pe.field);if(gl(nt))throw new Nt(ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const Dt=Pe.field.canonicalString();throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}ne.push(nt)}return new ka(ne,G)}(o._query,o.firestore._databaseId,e,r[0]._document,s);{const c=mu(o.firestore);return function(p,b,R,G,ne,Pe){const nt=p.explicitOrderBy;if(ne.length>nt.length)throw new Nt(ft.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let En=0;En<ne.length;En++){const Fn=ne[En];if(nt[En].field.isKeyField()){if("string"!=typeof Fn)throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Fn}`);if(!Rd(p)&&-1!==Fn.indexOf("/"))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Fn}' contains a slash.`);const Rn=p.path.child(Or.fromString(Fn));if(!bn.isDocumentKey(Rn))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Rn}' is not because it contains an odd number of segments.`);const lr=new bn(Rn);Dt.push(Oa(b,lr))}else{const Rn=n_(R,G,Fn);Dt.push(Rn)}}return new ka(Dt,Pe)}(o._query,o.firestore._databaseId,c,e,r,s)}}function ud(o,e,r){if("string"==typeof(r=(0,ye.Yj)(r))){if(""===r)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rd(e)&&-1!==r.indexOf("/"))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Or.fromString(r));if(!bn.isDocumentKey(s))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Oa(o,new bn(s))}if(r instanceof qi)return Oa(o,r._key);throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pu(r)}.`)}function np(o,e){if(!Array.isArray(o)||0===o.length)throw new Nt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ul(o,e){const r=function(c,d){for(const p of c)for(const b of p.getFlattenedFilters())if(d.indexOf(b.op)>=0)return b.op;return null}(o.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Nt(ft.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rp{convertValue(e,r="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Qa(e,(c,d)=>{s[c]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new uc(_i(e.latitude),_i(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Xa(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const r=po(e);return new Gr(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Or.fromString(e);ut(Wu(s));const c=new Hs(s.get(1),s.get(3)),d=new bn(s.popFirst(5));return c.isEqual(r)||Ee(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function yu(o,e,r){let s;return s=o?r&&(r.merge||r.mergeFields)?o.toFirestore(e,r):o.toFirestore(e):e,s}class fI extends rp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}class cd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends Zf{constructor(e,r,s,c,d,p){super(e,r,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Qs("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class dd extends ol{data(e={}){return super.data(e)}}class Iu{constructor(e,r,s,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new cd(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new dd(this._firestore,this._userDataWriter,s.key,s,new cd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Nt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let p=0;return c._snapshot.docChanges.map(b=>({type:"added",doc:new dd(c._firestore,c._userDataWriter,b.doc.key,b.doc,new cd(c._snapshot.mutatedKeys.has(b.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:p++}))}{let p=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const R=new dd(c._firestore,c._userDataWriter,b.doc.key,b.doc,new cd(c._snapshot.mutatedKeys.has(b.doc.key),c._snapshot.fromCache),c.query.converter);let G=-1,ne=-1;return 0!==b.type&&(G=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),ne=p.indexOf(b.doc.key)),{type:pI(b.type),doc:R,oldIndex:G,newIndex:ne}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function pI(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}function gI(o,e){return o instanceof ol&&e instanceof ol?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Iu&&e instanceof Iu&&o._firestore===e._firestore&&em(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function bh(o){o=Nr(o,qi);const e=Nr(o.firestore,fi);return Xg(Mi(e),o._key).then(r=>Ah(e,o,r))}class Eu extends rp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function mI(o){o=Nr(o,qi);const e=Nr(o.firestore,fi),r=Mi(e),s=new Eu(e);return function $v(o,e){const r=new Kn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return(s=(0,l.c)(function*(d,p,b){try{const R=yield function(ne,Pe){const nt=Ht(ne);return nt.persistence.runTransaction("read document","readonly",Dt=>nt.localDocuments.getDocument(Dt,Pe))}(d,p);R.isFoundDocument()?b.resolve(R):R.isNoDocument()?b.resolve(null):b.reject(new Nt(ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const G=oh(R,`Failed to get document '${p} from cache`);b.reject(G)}}),function c(d,p,b){return s.apply(this,arguments)})(yield ac(o),e,r);var s})),r.promise}(r,o._key).then(c=>new ol(e,s,o._key,c,new cd(null!==c&&c.hasLocalMutations,!0),o.converter))}function vI(o){o=Nr(o,qi);const e=Nr(o.firestore,fi);return Xg(Mi(e),o._key,{source:"server"}).then(r=>Ah(e,o,r))}function _I(o){o=Nr(o,mo);const e=Nr(o.firestore,fi),r=Mi(e),s=new Eu(e);return lm(o._query),Zg(r,o._query).then(c=>new Iu(e,s,o,c))}function yI(o){o=Nr(o,mo);const e=Nr(o.firestore,fi),r=Mi(e),s=new Eu(e);return function Gv(o,e){const r=new Kn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return(s=(0,l.c)(function*(d,p,b){try{const R=yield pf(d,p,!0),G=new Av(p,R.hs),ne=G.ha(R.documents),Pe=G.applyChanges(ne,!1);b.resolve(Pe.snapshot)}catch(R){const G=oh(R,`Failed to execute query '${p} against cache`);b.reject(G)}}),function c(d,p,b){return s.apply(this,arguments)})(yield ac(o),e,r);var s})),r.promise}(r,o._query).then(c=>new Iu(e,s,o,c))}function II(o){o=Nr(o,mo);const e=Nr(o.firestore,fi),r=Mi(e),s=new Eu(e);return Zg(r,o._query,{source:"server"}).then(c=>new Iu(e,s,o,c))}function EI(o,e,r){o=Nr(o,qi);const s=Nr(o.firestore,fi),c=yu(o.converter,e,r);return dc(s,[Kf(mu(s),"setDoc",o._key,c,null!==o.converter,r).toMutation(o._key,ti.none())])}function CI(o,e,r,...s){o=Nr(o,qi);const c=Nr(o.firestore,fi),d=mu(c);let p;return p="string"==typeof(e=(0,ye.Yj)(e))||e instanceof rl?qf(d,"updateDoc",o._key,e,r,s):am(d,"updateDoc",o._key,e),dc(c,[p.toMutation(o._key,ti.exists(!0))])}function op(o){return dc(Nr(o.firestore,fi),[new $u(o._key,ti.none())])}function DI(o,e){const r=Nr(o.firestore,fi),s=qv(o),c=yu(o.converter,e);return dc(r,[Kf(mu(o.firestore),"addDoc",s._key,c,null!==o.converter,{}).toMutation(s._key,ti.exists(!1))]).then(()=>s)}function wI(o,...e){var r,s,c;o=(0,ye.Yj)(o);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||tm(e[p])||(d=e[p],p++);const b={includeMetadataChanges:d.includeMetadataChanges};if(tm(e[p])){const Pe=e[p];e[p]=null===(r=Pe.next)||void 0===r?void 0:r.bind(Pe),e[p+1]=null===(s=Pe.error)||void 0===s?void 0:s.bind(Pe),e[p+2]=null===(c=Pe.complete)||void 0===c?void 0:c.bind(Pe)}let R,G,ne;if(o instanceof qi)G=Nr(o.firestore,fi),ne=Ns(o._key.path),R={next:Pe=>{e[p]&&e[p](Ah(G,o,Pe))},error:e[p+1],complete:e[p+2]};else{const Pe=Nr(o,mo);G=Nr(Pe.firestore,fi),ne=Pe._query;const nt=new Eu(G);R={next:Dt=>{e[p]&&e[p](new Iu(G,nt,Pe,Dt))},error:e[p+1],complete:e[p+2]},lm(o._query)}return function(nt,Dt,En,Fn){const Rn=new fh(Fn),lr=new Sf(Dt,Rn,En);return nt.asyncQueue.enqueueAndForget((0,l.c)(function*(){return sh(yield rd(nt),lr)})),()=>{Rn.La(),nt.asyncQueue.enqueueAndForget((0,l.c)(function*(){return Zc(yield rd(nt),lr)}))}}(Mi(G),ne,b,R)}function h_(o,e){return function Bf(o,e){const r=new fh(e);return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return c=yield rd(o),d=r,Ht(c).K_.add(d),void d.next();var c,d})),()=>{r.La(),o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return c=yield rd(o),d=r,void Ht(c).K_.delete(d);var c,d}))}}(Mi(o=Nr(o,fi)),tm(e)?e:{next:e})}function dc(o,e){return function(s,c){const d=new Kn;return s.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function Pf(o,e,r){return du.apply(this,arguments)}(yield Yg(s),c,d)})),d.promise}(Mi(o),e)}function Ah(o,e,r){const s=r.docs.get(e._key),c=new Eu(o);return new ol(o,c,e._key,s,new cd(r.hasPendingWrites,r.fromCache),e.converter)}const AI={maxAttempts:5};class y_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,r,s){this._verifyNotCommitted();const c=Cu(e,this._firestore),d=yu(c.converter,r,s),p=Kf(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,s);return this._mutations.push(p.toMutation(c._key,ti.none())),this}update(e,r,s,...c){this._verifyNotCommitted();const d=Cu(e,this._firestore);let p;return p="string"==typeof(r=(0,ye.Yj)(r))||r instanceof rl?qf(this._dataReader,"WriteBatch.update",d._key,r,s,c):am(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Cu(e,this._firestore);return this._mutations=this._mutations.concat(new $u(r._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cu(o,e){if((o=(0,ye.Yj)(o)).firestore!==e)throw new Nt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class SI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=mu(r)}get(r){const s=Cu(r,this._firestore),c=new fI(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return ve();const p=d[0];if(p.isFoundDocument())return new Zf(this._firestore,c,p.key,p,s.converter);if(p.isNoDocument())return new Zf(this._firestore,c,s._key,null,s.converter);throw ve()})}set(r,s,c){const d=Cu(r,this._firestore),p=yu(d.converter,s,c),b=Kf(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,c);return this._transaction.set(d._key,b),this}update(r,s,c,...d){const p=Cu(r,this._firestore);let b;return b="string"==typeof(s=(0,ye.Yj)(s))||s instanceof rl?qf(this._dataReader,"Transaction.update",p._key,s,c,d):am(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,b),this}delete(r){const s=Cu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Cu(e,this._firestore),s=new Eu(this._firestore);return super.get(e).then(c=>new ol(this._firestore,s,r._key,c._document,new cd(!1,!1),r.converter))}}function I_(o,e,r){o=Nr(o,fi);const s=Object.assign(Object.assign({},AI),r);return function(d){if(d.maxAttempts<1)throw new Nt(ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,b){const R=new Kn;return d.asyncQueue.enqueueAndForget((0,l.c)(function*(){const G=yield function Bv(o){return fu(o).then(e=>e.datastore)}(d);new Hg(d.asyncQueue,G,b,p,R).ja()})),R.promise}(Mi(o),c=>e(new SI(o,c)),s)}function mm(){return new Eh("deleteField")}function vm(){return new om("serverTimestamp")}function E_(...o){return new sm("arrayUnion",o)}function C_(...o){return new vu("arrayRemove",o)}function D_(o){return new Ch("increment",o)}!function(e,r=!0){ho=F.SDK_VERSION,(0,F._registerComponent)(new B.Yl("firestore",(s,{instanceIdentifier:c,options:d})=>{const p=s.getProvider("app").getImmediate(),b=new fi(new Zo(s.getProvider("auth-internal")),new Fr(s.getProvider("app-check-internal")),function(G,ne){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Nt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(G.options.projectId,ne)}(p,c),p);return d=Object.assign({useFetchStreams:r},d),b._setSettings(d),b},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(dl,"4.4.2",e),(0,F.registerVersion)(dl,"4.4.2","esm2017")}()},7144:(tn,Qe,A)=>{"use strict";A.d(Qe,{A3:()=>Ie,AL:()=>et,AV:()=>$,Cc:()=>ze,EB:()=>Ve,IN:()=>gn,Su:()=>ge,UR:()=>Te,Uv:()=>Ut,WW:()=>se,Wg:()=>$e,Ww:()=>xe,Y7:()=>ht,YD:()=>Xe,Yd:()=>fe,Yj:()=>qe,aw:()=>Ln,ik:()=>nr,kF:()=>qn,kx:()=>je,my:()=>Pn,o9:()=>Ye,on:()=>rt,qk:()=>lt,sX:()=>Ke,t7:()=>yn,uH:()=>Ue,yW:()=>be,yy:()=>Re});const K=function(J){const ae=[];let z=0;for(let X=0;X<J.length;X++){let q=J.charCodeAt(X);q<128?ae[z++]=q:q<2048?(ae[z++]=q>>6|192,ae[z++]=63&q|128):55296==(64512&q)&&X+1<J.length&&56320==(64512&J.charCodeAt(X+1))?(q=65536+((1023&q)<<10)+(1023&J.charCodeAt(++X)),ae[z++]=q>>18|240,ae[z++]=q>>12&63|128,ae[z++]=q>>6&63|128,ae[z++]=63&q|128):(ae[z++]=q>>12|224,ae[z++]=q>>6&63|128,ae[z++]=63&q|128)}return ae},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,ae){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let q=0;q<J.length;q+=3){const Ze=J[q],wt=q+1<J.length,pn=wt?J[q+1]:0,Nn=q+2<J.length,Wn=Nn?J[q+2]:0;let mn=(15&pn)<<2|Wn>>6,Xn=63&Wn;Nn||(Xn=64,wt||(mn=64)),X.push(z[Ze>>2],z[(3&Ze)<<4|pn>>4],z[mn],z[Xn])}return X.join("")},encodeString(J,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(J):this.encodeByteArray(K(J),ae)},decodeString(J,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(J):function(J){const ae=[];let z=0,X=0;for(;z<J.length;){const q=J[z++];if(q<128)ae[X++]=String.fromCharCode(q);else if(q>191&&q<224){const Ze=J[z++];ae[X++]=String.fromCharCode((31&q)<<6|63&Ze)}else if(q>239&&q<365){const Nn=((7&q)<<18|(63&J[z++])<<12|(63&J[z++])<<6|63&J[z++])-65536;ae[X++]=String.fromCharCode(55296+(Nn>>10)),ae[X++]=String.fromCharCode(56320+(1023&Nn))}else{const Ze=J[z++],wt=J[z++];ae[X++]=String.fromCharCode((15&q)<<12|(63&Ze)<<6|63&wt)}}return ae.join("")}(this.decodeStringToByteArray(J,ae))},decodeStringToByteArray(J,ae){this.init_();const z=ae?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let q=0;q<J.length;){const Ze=z[J.charAt(q++)],pn=q<J.length?z[J.charAt(q)]:0;++q;const Wn=q<J.length?z[J.charAt(q)]:64;++q;const On=q<J.length?z[J.charAt(q)]:64;if(++q,null==Ze||null==pn||null==Wn||null==On)throw new te;X.push(Ze<<2|pn>>4),64!==Wn&&(X.push(pn<<4&240|Wn>>2),64!==On&&X.push(Wn<<6&192|On))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(J){return function(J){const ae=K(J);return he.encodeByteArray(ae,!0)}(J).replace(/\./g,"")},se=function(J){try{return he.decodeString(J,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function xe(J,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return ae}for(const z in ae)!ae.hasOwnProperty(z)||!Me(z)||(J[z]=xe(J[z],ae[z]));return J}function Me(J){return"__proto__"!==J}const Ne=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=J&&se(J[1]);return ae&&JSON.parse(ae)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Ve=J=>{var ae,z;return null===(z=null===(ae=Ne())||void 0===ae?void 0:ae.emulatorHosts)||void 0===z?void 0:z[J]},rt=J=>{const ae=Ve(J);if(!ae)return;const z=ae.lastIndexOf(":");if(z<=0||z+1===ae.length)throw new Error(`Invalid host ${ae} with no separate hostname and port!`);const X=parseInt(ae.substring(z+1),10);return"["===ae[0]?[ae.substring(1,z-1),X]:[ae.substring(0,z),X]},fe=()=>{var J;return null===(J=Ne())||void 0===J?void 0:J.config},Ke=J=>{var ae;return null===(ae=Ne())||void 0===ae?void 0:ae[`_${J}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,z)=>{this.resolve=ae,this.reject=z})}wrapCallback(ae){return(z,X)=>{z?this.reject(z):this.resolve(X),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(z):ae(z,X))}}}function Xe(J,ae){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=ae||"demo-project",q=J.iat||0,Ze=J.sub||J.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:q,exp:q+3600,auth_time:q,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},J);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(wt)),""].join(".")}function ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function be(){var J;const ae=null===(J=Ne())||void 0===J?void 0:J.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function ze(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){const J=ge();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function lt(){return!be()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((J,ae)=>{try{let z=!0;const X="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(X);q.onsuccess=()=>{q.result.close(),z||self.indexedDB.deleteDatabase(X),J(!0)},q.onupgradeneeded=()=>{z=!1},q.onerror=()=>{var Ze;ae((null===(Ze=q.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(z){ae(z)}})}class je extends Error{constructor(ae,z,X){super(z),this.code=ae,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(ae,z,X){this.service=ae,this.serviceName=z,this.errors=X}create(ae,...z){const X=z[0]||{},q=`${this.service}/${ae}`,Ze=this.errors[ae],wt=Ze?function Tt(J,ae){return J.replace(Gt,(z,X)=>{const q=ae[X];return null!=q?String(q):`<${X}?>`})}(Ze,X):"Error";return new je(q,`${this.serviceName}: ${wt} (${q}).`,X)}}const Gt=/\{\$([^}]+)}/g;function ht(J,ae){return Object.prototype.hasOwnProperty.call(J,ae)}function yn(J){for(const ae in J)if(Object.prototype.hasOwnProperty.call(J,ae))return!1;return!0}function gn(J,ae){if(J===ae)return!0;const z=Object.keys(J),X=Object.keys(ae);for(const q of z){if(!X.includes(q))return!1;const Ze=J[q],wt=ae[q];if(hn(Ze)&&hn(wt)){if(!gn(Ze,wt))return!1}else if(Ze!==wt)return!1}for(const q of X)if(!z.includes(q))return!1;return!0}function hn(J){return null!==J&&"object"==typeof J}function nr(J){const ae=[];for(const[z,X]of Object.entries(J))Array.isArray(X)?X.forEach(q=>{ae.push(encodeURIComponent(z)+"="+encodeURIComponent(q))}):ae.push(encodeURIComponent(z)+"="+encodeURIComponent(X));return ae.length?"&"+ae.join("&"):""}function Ln(J){const ae={};return J.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[q,Ze]=X.split("=");ae[decodeURIComponent(q)]=decodeURIComponent(Ze)}}),ae}function qn(J){const ae=J.indexOf("?");if(!ae)return"";const z=J.indexOf("#",ae);return J.substring(ae,z>0?z:void 0)}function Pn(J,ae){const z=new pr(J,ae);return z.subscribe.bind(z)}class pr{constructor(ae,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{ae(this)}).catch(X=>{this.error(X)})}next(ae){this.forEachObserver(z=>{z.next(ae)})}error(ae){this.forEachObserver(z=>{z.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,z,X){let q;if(void 0===ae&&void 0===z&&void 0===X)throw new Error("Missing Observer.");q=function or(J,ae){if("object"!=typeof J||null===J)return!1;for(const z of ae)if(z in J&&"function"==typeof J[z])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:z,complete:X},void 0===q.next&&(q.next=Bn),void 0===q.error&&(q.error=Bn),void 0===q.complete&&(q.complete=Bn);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ze}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,ae)}sendOne(ae,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{z(this.observers[ae])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function qe(J){return J&&J._delegate?J._delegate:J}},9248:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>B,r:()=>Y});const B=(ge,$)=>{ge.componentOnReady?ge.componentOnReady().then(be=>$(be)):Y(()=>$(ge))},Y=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge)},1896:(tn,Qe,A)=>{"use strict";A.d(Qe,{L:()=>l,a:()=>F,b:()=>B,c:()=>K,d:()=>ye,g:()=>ge});const l="ionViewWillEnter",F="ionViewDidEnter",B="ionViewWillLeave",K="ionViewDidLeave",ye="ionViewWillUnload",ge=$=>$.classList.contains("ion-page")?$:$.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||$},388:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>tt});var l=A(4829),F=A(6384);let B;const ye=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),he=We=>(void 0===B&&(B=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),B),te=(We,Ne,Ve)=>{const rt=Ne.startsWith("animation")?he(We):"";We.style.setProperty(rt+Ne,Ve)},de=(We,Ne)=>{const Ve=Ne.startsWith("animation")?he(We):"";We.style.removeProperty(Ve+Ne)},Y=[],Fe=(We=[],Ne)=>{if(void 0!==Ne){const Ve=Array.isArray(Ne)?Ne:[Ne];return[...We,...Ve]}return We},tt=We=>{let Ne,Ve,rt,fe,Ke,Ye,Ue,Re,Ie,ke,me,Gt,Ft,Xe=[],ge=[],$=[],be=!1,ze={},et=[],dt=[],Ut={},cn=0,jt=!1,lt=!1,je=!0,Te=!1,Tt=!0,It=!1;const nn=We,Dn=[],Tn=[],Ct=[],gt=[],ht=[],Wt=[],yn=[],Ot=[],gn=[],hn=[],An=[],nr="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Ln="function"==typeof Element&&"function"==typeof Element.prototype.animate&&nr,fn=()=>An,Bn=(vt,U)=>{const Q=U.findIndex(He=>He.c===vt);Q>-1&&U.splice(Q,1)},kt=(vt,U)=>((null!=U&&U.oneTimeCallback?Tn:Dn).push({c:vt,o:U}),Ft),ln=()=>{if(Ln)An.forEach(vt=>{vt.cancel()}),An.length=0;else{const vt=gt.slice();(0,F.r)(()=>{vt.forEach(U=>{de(U,"animation-name"),de(U,"animation-duration"),de(U,"animation-timing-function"),de(U,"animation-iteration-count"),de(U,"animation-delay"),de(U,"animation-play-state"),de(U,"animation-fill-mode"),de(U,"animation-direction")})})}},xt=()=>{Wt.forEach(vt=>{null!=vt&&vt.parentNode&&vt.parentNode.removeChild(vt)}),Wt.length=0},ae=()=>void 0!==Ke?Ke:Ue?Ue.getFill():"both",z=()=>void 0!==Ie?Ie:void 0!==Ye?Ye:Ue?Ue.getDirection():"normal",X=()=>jt?"linear":void 0!==rt?rt:Ue?Ue.getEasing():"linear",q=()=>lt?0:void 0!==ke?ke:void 0!==Ve?Ve:Ue?Ue.getDuration():0,Ze=()=>void 0!==fe?fe:Ue?Ue.getIterations():1,wt=()=>void 0!==me?me:void 0!==Ne?Ne:Ue?Ue.getDelay():0,Gn=()=>{0!==cn&&(cn--,0===cn&&((()=>{Se(),gn.forEach(Be=>Be()),hn.forEach(Be=>Be());const vt=je?1:0,U=et,Q=dt,He=Ut;gt.forEach(Be=>{const st=Be.classList;U.forEach(Rt=>st.add(Rt)),Q.forEach(Rt=>st.remove(Rt));for(const Rt in He)He.hasOwnProperty(Rt)&&te(Be,Rt,He[Rt])}),ke=void 0,Ie=void 0,me=void 0,Dn.forEach(Be=>Be.c(vt,Ft)),Tn.forEach(Be=>Be.c(vt,Ft)),Tn.length=0,Tt=!0,je&&(Te=!0),je=!0})(),Ue&&Ue.animationFinish()))},Zn=(vt=!0)=>{xt();const U=(We=>(We.forEach(Ne=>{for(const Ve in Ne)if(Ne.hasOwnProperty(Ve)){const rt=Ne[Ve];if("easing"===Ve)Ne["animation-timing-function"]=rt,delete Ne[Ve];else{const fe=ye(Ve);fe!==Ve&&(Ne[fe]=rt,delete Ne[Ve])}}}),We))(Xe);gt.forEach(Q=>{if(U.length>0){const He=((We=[])=>We.map(Ne=>{const Ve=Ne.offset,rt=[];for(const fe in Ne)Ne.hasOwnProperty(fe)&&"offset"!==fe&&rt.push(`${fe}: ${Ne[fe]};`);return`${100*Ve}% { ${rt.join(" ")} }`}).join(" "))(U);Gt=void 0!==We?We:(We=>{let Ne=Y.indexOf(We);return Ne<0&&(Ne=Y.push(We)-1),`ion-animation-${Ne}`})(He);const Be=((We,Ne,Ve)=>{var rt;const fe=(We=>{const Ne=void 0!==We.getRootNode?We.getRootNode():We;return Ne.head||Ne})(Ve),Ke=he(Ve),Ye=fe.querySelector("#"+We);if(Ye)return Ye;const Xe=(null!==(rt=Ve.ownerDocument)&&void 0!==rt?rt:document).createElement("style");return Xe.id=We,Xe.textContent=`@${Ke}keyframes ${We} { ${Ne} } @${Ke}keyframes ${We}-alt { ${Ne} }`,fe.appendChild(Xe),Xe})(Gt,He,Q);Wt.push(Be),te(Q,"animation-duration",`${q()}ms`),te(Q,"animation-timing-function",X()),te(Q,"animation-delay",`${wt()}ms`),te(Q,"animation-fill-mode",ae()),te(Q,"animation-direction",z());const st=Ze()===1/0?"infinite":Ze().toString();te(Q,"animation-iteration-count",st),te(Q,"animation-play-state","paused"),vt&&te(Q,"animation-name",`${Be.id}-alt`),(0,F.r)(()=>{te(Q,"animation-name",Be.id||null)})}})},Er=(vt=!0)=>{(()=>{yn.forEach(He=>He()),Ot.forEach(He=>He());const vt=ge,U=$,Q=ze;gt.forEach(He=>{const Be=He.classList;vt.forEach(st=>Be.add(st)),U.forEach(st=>Be.remove(st));for(const st in Q)Q.hasOwnProperty(st)&&te(He,st,Q[st])})})(),Xe.length>0&&(Ln?(gt.forEach(vt=>{const U=vt.animate(Xe,{id:nn,delay:wt(),duration:q(),easing:X(),iterations:Ze(),fill:ae(),direction:z()});U.pause(),An.push(U)}),An.length>0&&(An[0].onfinish=()=>{Gn()})):Zn(vt)),be=!0},Ar=vt=>{if(vt=Math.min(Math.max(vt,0),.9999),Ln)An.forEach(U=>{U.currentTime=U.effect.getComputedTiming().delay+q()*vt,U.pause()});else{const U=`-${q()*vt}ms`;gt.forEach(Q=>{Xe.length>0&&(te(Q,"animation-delay",U),te(Q,"animation-play-state","paused"))})}},ni=vt=>{An.forEach(U=>{U.effect.updateTiming({delay:wt(),duration:q(),easing:X(),iterations:Ze(),fill:ae(),direction:z()})}),void 0!==vt&&Ar(vt)},Ci=(vt=!0,U)=>{(0,F.r)(()=>{gt.forEach(Q=>{te(Q,"animation-name",Gt||null),te(Q,"animation-duration",`${q()}ms`),te(Q,"animation-timing-function",X()),te(Q,"animation-delay",void 0!==U?`-${U*q()}ms`:`${wt()}ms`),te(Q,"animation-fill-mode",ae()||null),te(Q,"animation-direction",z()||null);const He=Ze()===1/0?"infinite":Ze().toString();te(Q,"animation-iteration-count",He),vt&&te(Q,"animation-name",`${Gt}-alt`),(0,F.r)(()=>{te(Q,"animation-name",Gt||null)})})})},sr=(vt=!1,U=!0,Q)=>(vt&&ht.forEach(He=>{He.update(vt,U,Q)}),Ln?ni(Q):Ci(U,Q),Ft),$n=()=>{be&&(Ln?An.forEach(vt=>{vt.pause()}):gt.forEach(vt=>{te(vt,"animation-play-state","paused")}),It=!0)},we=()=>{Re=void 0,Gn()},Se=()=>{Re&&clearTimeout(Re)},Kt=vt=>new Promise(U=>{null!=vt&&vt.sync&&(lt=!0,kt(()=>lt=!1,{oneTimeCallback:!0})),be||Er(),Te&&(Ln?(Ar(0),ni()):Ci(),Te=!1),Tt&&(cn=ht.length+1,Tt=!1);const Q=()=>{Bn(He,Tn),U()},He=()=>{Bn(Q,Ct),U()};kt(He,{oneTimeCallback:!0}),((vt,U)=>{Ct.push({c:vt,o:{oneTimeCallback:!0}})})(Q),ht.forEach(Be=>{Be.play()}),Ln?(An.forEach(vt=>{vt.play()}),(0===Xe.length||0===gt.length)&&Gn()):(()=>{if(Se(),(0,F.r)(()=>{gt.forEach(vt=>{Xe.length>0&&te(vt,"animation-play-state","running")})}),0===Xe.length||0===gt.length)Gn();else{const vt=wt()||0,U=q()||0,Q=Ze()||1;isFinite(Q)&&(Re=setTimeout(we,vt+U*Q+100)),((We,Ne)=>{let Ve;const rt={passive:!0},Ke=Ye=>{We===Ye.target&&(Ve&&Ve(),Se(),(0,F.r)(()=>{gt.forEach(vt=>{de(vt,"animation-duration"),de(vt,"animation-delay"),de(vt,"animation-play-state")}),(0,F.r)(Gn)}))};We&&(We.addEventListener("webkitAnimationEnd",Ke,rt),We.addEventListener("animationend",Ke,rt),Ve=()=>{We.removeEventListener("webkitAnimationEnd",Ke,rt),We.removeEventListener("animationend",Ke,rt)})})(gt[0])}})(),It=!1}),Yt=(vt,U)=>{const Q=Xe[0];return void 0===Q||void 0!==Q.offset&&0!==Q.offset?Xe=[{offset:0,[vt]:U},...Xe]:Q[vt]=U,Ft};return Ft={parentAnimation:Ue,elements:gt,childAnimations:ht,id:nn,animationFinish:Gn,from:Yt,to:(vt,U)=>{const Q=Xe[Xe.length-1];return void 0===Q||void 0!==Q.offset&&1!==Q.offset?Xe=[...Xe,{offset:1,[vt]:U}]:Q[vt]=U,Ft},fromTo:(vt,U,Q)=>Yt(vt,U).to(vt,Q),parent:vt=>(Ue=vt,Ft),play:Kt,pause:()=>(ht.forEach(vt=>{vt.pause()}),$n(),Ft),stop:()=>{ht.forEach(vt=>{vt.stop()}),be&&(ln(),be=!1),jt=!1,lt=!1,Tt=!0,Ie=void 0,ke=void 0,me=void 0,cn=0,Te=!1,je=!0,It=!1,Ct.forEach(vt=>vt.c(0,Ft)),Ct.length=0},destroy:vt=>(ht.forEach(U=>{U.destroy(vt)}),(vt=>{ln(),vt&&xt()})(vt),gt.length=0,ht.length=0,Xe.length=0,Dn.length=0,Tn.length=0,be=!1,Tt=!0,Ft),keyframes:vt=>{const U=Xe!==vt;return Xe=vt,U&&(vt=>{Ln?fn().forEach(U=>{const Q=U.effect;if(Q.setKeyframes)Q.setKeyframes(vt);else{const He=new KeyframeEffect(Q.target,vt,Q.getTiming());U.effect=He}}):Zn()})(Xe),Ft},addAnimation:vt=>{if(null!=vt)if(Array.isArray(vt))for(const U of vt)U.parent(Ft),ht.push(U);else vt.parent(Ft),ht.push(vt);return Ft},addElement:vt=>{if(null!=vt)if(1===vt.nodeType)gt.push(vt);else if(vt.length>=0)for(let U=0;U<vt.length;U++)gt.push(vt[U]);else console.error("Invalid addElement value");return Ft},update:sr,fill:vt=>(Ke=vt,sr(!0),Ft),direction:vt=>(Ye=vt,sr(!0),Ft),iterations:vt=>(fe=vt,sr(!0),Ft),duration:vt=>(!Ln&&0===vt&&(vt=1),Ve=vt,sr(!0),Ft),easing:vt=>(rt=vt,sr(!0),Ft),delay:vt=>(Ne=vt,sr(!0),Ft),getWebAnimations:fn,getKeyframes:()=>Xe,getFill:ae,getDirection:z,getDelay:wt,getIterations:Ze,getEasing:X,getDuration:q,afterAddRead:vt=>(gn.push(vt),Ft),afterAddWrite:vt=>(hn.push(vt),Ft),afterClearStyles:(vt=[])=>{for(const U of vt)Ut[U]="";return Ft},afterStyles:(vt={})=>(Ut=vt,Ft),afterRemoveClass:vt=>(dt=Fe(dt,vt),Ft),afterAddClass:vt=>(et=Fe(et,vt),Ft),beforeAddRead:vt=>(yn.push(vt),Ft),beforeAddWrite:vt=>(Ot.push(vt),Ft),beforeClearStyles:(vt=[])=>{for(const U of vt)ze[U]="";return Ft},beforeStyles:(vt={})=>(ze=vt,Ft),beforeRemoveClass:vt=>($=Fe($,vt),Ft),beforeAddClass:vt=>(ge=Fe(ge,vt),Ft),onFinish:kt,isRunning:()=>0!==cn&&!It,progressStart:(vt=!1,U)=>(ht.forEach(Q=>{Q.progressStart(vt,U)}),$n(),jt=vt,be||Er(),sr(!1,!0,U),Ft),progressStep:vt=>(ht.forEach(U=>{U.progressStep(vt)}),Ar(vt),Ft),progressEnd:(vt,U,Q)=>(jt=!1,ht.forEach(He=>{He.progressEnd(vt,U,Q)}),void 0!==Q&&(ke=Q),Te=!1,je=!0,0===vt?(Ie="reverse"===z()?"normal":"reverse","reverse"===Ie&&(je=!1),Ln?(sr(),Ar(1-U)):(me=(1-U)*q()*-1,sr(!1,!1))):1===vt&&(Ln?(sr(),Ar(U)):(me=U*q()*-1,sr(!1,!1))),void 0!==vt&&!Ue&&Kt(),Ft)}}},9637:(tn,Qe,A)=>{"use strict";A.d(Qe,{E:()=>se,a:()=>l,s:()=>de});const l=Y=>{try{if(Y instanceof te)return Y.value;if(!K()||"string"!=typeof Y||""===Y)return Y;if(Y.includes("onload="))return"";const xe=document.createDocumentFragment(),Me=document.createElement("div");xe.appendChild(Me),Me.innerHTML=Y,he.forEach(We=>{const Ne=xe.querySelectorAll(We);for(let Ve=Ne.length-1;Ve>=0;Ve--){const rt=Ne[Ve];rt.parentNode?rt.parentNode.removeChild(rt):xe.removeChild(rt);const fe=B(rt);for(let Ke=0;Ke<fe.length;Ke++)F(fe[Ke])}});const Le=B(xe);for(let We=0;We<Le.length;We++)F(Le[We]);const Fe=document.createElement("div");Fe.appendChild(xe);const tt=Fe.querySelector("div");return null!==tt?tt.innerHTML:Fe.innerHTML}catch(xe){return console.error(xe),""}},F=Y=>{if(Y.nodeType&&1!==Y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Y.attributes instanceof NamedNodeMap))return void Y.remove();for(let Me=Y.attributes.length-1;Me>=0;Me--){const Le=Y.attributes.item(Me),Fe=Le.name;if(!ye.includes(Fe.toLowerCase())){Y.removeAttribute(Fe);continue}const tt=Le.value,We=Y[Fe];(null!=tt&&tt.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&Y.removeAttribute(Fe)}const xe=B(Y);for(let Me=0;Me<xe.length;Me++)F(xe[Me])},B=Y=>null!=Y.children?Y.children:Y.childNodes,K=()=>{var Y;const xe=window,Me=null===(Y=null==xe?void 0:xe.Ionic)||void 0===Y?void 0:Y.config;return!Me||(Me.get?Me.get("sanitizerEnabled",!0):!0===Me.sanitizerEnabled||void 0===Me.sanitizerEnabled)},ye=["class","id","href","src","name","slot"],he=["script","style","iframe","meta","link","object","embed"];class te{constructor(xe){this.value=xe}}const de=Y=>{const xe=window,Me=xe.Ionic;if(!Me||!Me.config||"Object"===Me.config.constructor.name)return xe.Ionic=xe.Ionic||{},xe.Ionic.config=Object.assign(Object.assign({},xe.Ionic.config),Y),xe.Ionic.config},se=!1},495:(tn,Qe,A)=>{"use strict";A.d(Qe,{C:()=>ye,a:()=>B,d:()=>K});var l=A(1528),F=A(6384);const B=function(){var he=(0,l.c)(function*(te,de,$e,se,Y,xe){var Me;if(te)return te.attachViewToDom(de,$e,Y,se);if(!(xe||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const Le="string"==typeof $e?null===(Me=de.ownerDocument)||void 0===Me?void 0:Me.createElement($e):$e;return se&&se.forEach(Fe=>Le.classList.add(Fe)),Y&&Object.assign(Le,Y),de.appendChild(Le),yield new Promise(Fe=>(0,F.c)(Le,Fe)),Le});return function(de,$e,se,Y,xe,Me){return he.apply(this,arguments)}}(),K=(he,te)=>{if(te){if(he)return he.removeViewFromDom(te.parentElement,te);te.remove()}return Promise.resolve()},ye=()=>{let he,te;return{attachViewToDom:function(){var se=(0,l.c)(function*(Y,xe,Me={},Le=[]){var Fe,tt;let We;if(he=Y,xe){const Ve="string"==typeof xe?null===(Fe=he.ownerDocument)||void 0===Fe?void 0:Fe.createElement(xe):xe;Le.forEach(rt=>Ve.classList.add(rt)),Object.assign(Ve,Me),he.appendChild(Ve),We=Ve,yield new Promise(rt=>(0,F.c)(Ve,rt))}else if(he.children.length>0&&("ION-MODAL"===he.tagName||"ION-POPOVER"===he.tagName)&&!(We=he.children[0]).classList.contains("ion-delegate-host")){const rt=null===(tt=he.ownerDocument)||void 0===tt?void 0:tt.createElement("div");rt.classList.add("ion-delegate-host"),Le.forEach(fe=>rt.classList.add(fe)),rt.append(...he.children),he.appendChild(rt),We=rt}const Ne=document.querySelector("ion-app")||document.body;return te=document.createComment("ionic teleport"),he.parentNode.insertBefore(te,he),Ne.appendChild(he),null!=We?We:he});return function(xe,Me){return se.apply(this,arguments)}}(),removeViewFromDom:()=>(he&&te&&(te.parentNode.insertBefore(he,te),te.remove()),Promise.resolve())}}},6560:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>ye});class F{constructor(te,de,$e,se,Y){this.id=de,this.name=$e,this.disableScroll=Y,this.priority=1e6*se+de,this.ctrl=te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const te=this.ctrl.capture(this.name,this.id,this.priority);return te&&this.disableScroll&&this.ctrl.disableScroll(this.id),te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(te,de,$e,se){this.id=de,this.disable=$e,this.disableScroll=se,this.ctrl=te}block(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.disableGesture(te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.enableGesture(te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const K="backdrop-no-scroll",ye=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(te){var de;return new F(this,this.newID(),te.name,null!==(de=te.priority)&&void 0!==de?de:0,!!te.disableScroll)}createBlocker(te={}){return new B(this,this.newID(),te.disable,!!te.disableScroll)}start(te,de,$e){return this.canStart(te)?(this.requestedStart.set(de,$e),!0):(this.requestedStart.delete(de),!1)}capture(te,de,$e){if(!this.start(te,de,$e))return!1;const se=this.requestedStart;let Y=-1e4;if(se.forEach(xe=>{Y=Math.max(Y,xe)}),Y===$e){this.capturedId=de,se.clear();const xe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:te}});return document.dispatchEvent(xe),!0}return se.delete(de),!1}release(te){this.requestedStart.delete(te),this.capturedId===te&&(this.capturedId=void 0)}disableGesture(te,de){let $e=this.disabledGestures.get(te);void 0===$e&&($e=new Set,this.disabledGestures.set(te,$e)),$e.add(de)}enableGesture(te,de){const $e=this.disabledGestures.get(te);void 0!==$e&&$e.delete(de)}disableScroll(te){this.disabledScroll.add(te),1===this.disabledScroll.size&&document.body.classList.add(K)}enableScroll(te){this.disabledScroll.delete(te),0===this.disabledScroll.size&&document.body.classList.remove(K)}canStart(te){return!(void 0!==this.capturedId||this.isDisabled(te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(te){const de=this.disabledGestures.get(te);return!!(de&&de.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(tn,Qe,A)=>{"use strict";A.r(Qe),A.d(Qe,{MENU_BACK_BUTTON_PRIORITY:()=>$e,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>he,shoudUseCloseWatcher:()=>ye,startHardwareBackButton:()=>te});var l=A(1528),F=A(4829),B=A(8523);A(2992);const ye=()=>B.c.get("experimentalCloseWatcher",!1)&&void 0!==F.w&&"CloseWatcher"in F.w,he=()=>{document.addEventListener("backbutton",()=>{})},te=()=>{const se=document;let Y=!1;const xe=()=>{if(Y)return;let Me=0,Le=[];const Fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ne,Ve){Le.push({priority:Ne,handler:Ve,id:Me++})}}});se.dispatchEvent(Fe);const tt=function(){var Ne=(0,l.c)(function*(Ve){try{if(null!=Ve&&Ve.handler){const rt=Ve.handler(We);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return Ne.apply(this,arguments)}}(),We=()=>{if(Le.length>0){let Ne={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Le.forEach(Ve=>{Ve.priority>=Ne.priority&&(Ne=Ve)}),Y=!0,Le=Le.filter(Ve=>Ve.id!==Ne.id),tt(Ne).then(()=>Y=!1)}};We()};if(ye()){let Me;const Le=()=>{null==Me||Me.destroy(),Me=new F.w.CloseWatcher,Me.onclose=()=>{xe(),Le()}};Le()}else se.addEventListener("backbutton",xe)},de=100,$e=99},6384:(tn,Qe,A)=>{"use strict";A.d(Qe,{a:()=>de,b:()=>$e,c:()=>B,d:()=>tt,e:()=>Fe,f:()=>Le,g:()=>se,h:()=>Me,i:()=>te,j:()=>Ke,k:()=>ye,l:()=>We,m:()=>K,n:()=>xe,o:()=>Ne,p:()=>fe,q:()=>Ye,r:()=>Y,s:()=>Xe,t:()=>l,u:()=>Ve,v:()=>rt});const l=(ge,$=0)=>new Promise(be=>{F(ge,$,be)}),F=(ge,$=0,be)=>{let Ue,ze;const et={passive:!0},Ut=()=>{Ue&&Ue()},cn=jt=>{(void 0===jt||ge===jt.target)&&(Ut(),be(jt))};return ge&&(ge.addEventListener("webkitTransitionEnd",cn,et),ge.addEventListener("transitionend",cn,et),ze=setTimeout(cn,$+500),Ue=()=>{void 0!==ze&&(clearTimeout(ze),ze=void 0),ge.removeEventListener("webkitTransitionEnd",cn,et),ge.removeEventListener("transitionend",cn,et)}),Ut},B=(ge,$)=>{ge.componentOnReady?ge.componentOnReady().then(be=>$(be)):Y(()=>$(ge))},K=ge=>void 0!==ge.componentOnReady,ye=(ge,$=[])=>{const be={};return $.forEach(Ue=>{ge.hasAttribute(Ue)&&(null!==ge.getAttribute(Ue)&&(be[Ue]=ge.getAttribute(Ue)),ge.removeAttribute(Ue))}),be},he=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],te=(ge,$)=>{let be=he;return $&&$.length>0&&(be=be.filter(Ue=>!$.includes(Ue))),ye(ge,be)},de=(ge,$,be,Ue)=>{var ze;if(typeof window<"u"){const et=window,dt=null===(ze=null==et?void 0:et.Ionic)||void 0===ze?void 0:ze.config;if(dt){const Ut=dt.get("_ael");if(Ut)return Ut(ge,$,be,Ue);if(dt._ael)return dt._ael(ge,$,be,Ue)}}return ge.addEventListener($,be,Ue)},$e=(ge,$,be,Ue)=>{var ze;if(typeof window<"u"){const et=window,dt=null===(ze=null==et?void 0:et.Ionic)||void 0===ze?void 0:ze.config;if(dt){const Ut=dt.get("_rel");if(Ut)return Ut(ge,$,be,Ue);if(dt._rel)return dt._rel(ge,$,be,Ue)}}return ge.removeEventListener($,be,Ue)},se=(ge,$=ge)=>ge.shadowRoot||$,Y=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge),xe=ge=>!!ge.shadowRoot&&!!ge.attachShadow,Me=ge=>{const $=ge.closest("ion-item");return $?$.querySelector("ion-label"):null},Le=ge=>{if(ge.focus(),ge.classList.contains("ion-focusable")){const $=ge.closest("ion-app");$&&$.setFocus([ge])}},Fe=(ge,$)=>{let be;const Ue=ge.getAttribute("aria-labelledby"),ze=ge.id;let et=null!==Ue&&""!==Ue.trim()?Ue:$+"-lbl",dt=null!==Ue&&""!==Ue.trim()?document.getElementById(Ue):Me(ge);return dt?(null===Ue&&(dt.id=et),be=dt.textContent,dt.setAttribute("aria-hidden","true")):""!==ze.trim()&&(dt=document.querySelector(`label[for="${ze}"]`),dt&&(""!==dt.id?et=dt.id:dt.id=et=`${ze}-lbl`,be=dt.textContent)),{label:dt,labelId:et,labelText:be}},tt=(ge,$,be,Ue,ze)=>{if(ge||xe($)){let et=$.querySelector("input.aux-input");et||(et=$.ownerDocument.createElement("input"),et.type="hidden",et.classList.add("aux-input"),$.appendChild(et)),et.disabled=ze,et.name=be,et.value=Ue||""}},We=(ge,$,be)=>Math.max(ge,Math.min($,be)),Ne=(ge,$)=>{if(!ge){const be="ASSERT: "+$;throw console.error(be),new Error(be)}},Ve=ge=>ge.timeStamp||Date.now(),rt=ge=>{if(ge){const $=ge.changedTouches;if($&&$.length>0){const be=$[0];return{x:be.clientX,y:be.clientY}}if(void 0!==ge.pageX)return{x:ge.pageX,y:ge.pageY}}return{x:0,y:0}},fe=ge=>{const $="rtl"===document.dir;switch(ge){case"start":return $;case"end":return!$;default:throw new Error(`"${ge}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ke=(ge,$)=>{const be=ge._original||ge;return{_original:ge,emit:Ye(be.emit.bind(be),$)}},Ye=(ge,$=0)=>{let be;return(...Ue)=>{clearTimeout(be),be=setTimeout(ge,$,...Ue)}},Xe=(ge,$)=>{if(null!=ge||(ge={}),null!=$||($={}),ge===$)return!0;const be=Object.keys(ge);if(be.length!==Object.keys($).length)return!1;for(const Ue of be)if(!(Ue in $)||ge[Ue]!==$[Ue])return!1;return!0}},2528:(tn,Qe,A)=>{"use strict";A.r(Qe),A.d(Qe,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>$e});var l=A(6560);const F=(Me,Le,Fe,tt)=>{const We=B(Me)?{capture:!!tt.capture,passive:!!tt.passive}:!!tt.capture;let Ne,Ve;return Me.__zone_symbol__addEventListener?(Ne="__zone_symbol__addEventListener",Ve="__zone_symbol__removeEventListener"):(Ne="addEventListener",Ve="removeEventListener"),Me[Ne](Le,Fe,We),()=>{Me[Ve](Le,Fe,We)}},B=Me=>{if(void 0===K)try{const Le=Object.defineProperty({},"passive",{get:()=>{K=!0}});Me.addEventListener("optsTest",()=>{},Le)}catch{K=!1}return!!K};let K;const te=Me=>Me instanceof Document?Me:Me.ownerDocument,$e=Me=>{let Le=!1,Fe=!1,tt=!0,We=!1;const Ne=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),Ve=Ne.canStart,rt=Ne.onWillStart,fe=Ne.onStart,Ke=Ne.onEnd,Ye=Ne.notCaptured,Xe=Ne.onMove,ge=Ne.threshold,$=Ne.passive,be=Ne.blurOnStart,Ue={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ze=((Me,Le,Fe)=>{const tt=Fe*(Math.PI/180),We="x"===Me,Ne=Math.cos(tt),Ve=Le*Le;let rt=0,fe=0,Ke=!1,Ye=0;return{start(Xe,ge){rt=Xe,fe=ge,Ye=0,Ke=!0},detect(Xe,ge){if(!Ke)return!1;const $=Xe-rt,be=ge-fe,Ue=$*$+be*be;if(Ue<Ve)return!1;const ze=Math.sqrt(Ue),et=(We?$:be)/ze;return Ye=et>Ne?1:et<-Ne?-1:0,Ke=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(Ne.direction,Ne.threshold,Ne.maxAngle),et=l.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),cn=()=>{Le&&(We=!1,Xe&&Xe(Ue))},jt=()=>!!et.capture()&&(Le=!0,tt=!1,Ue.startX=Ue.currentX,Ue.startY=Ue.currentY,Ue.startTime=Ue.currentTime,rt?rt(Ue).then(Re):Re(),!0),Re=()=>{be&&(()=>{if(typeof document<"u"){const Te=document.activeElement;null!=Te&&Te.blur&&Te.blur()}})(),fe&&fe(Ue),tt=!0},Ie=()=>{Le=!1,Fe=!1,We=!1,tt=!0,et.release()},ke=Te=>{const Tt=Le,Gt=tt;if(Ie(),Gt){if(se(Ue,Te),Tt)return void(Ke&&Ke(Ue));Ye&&Ye(Ue)}},me=((Me,Le,Fe,tt,We)=>{let Ne,Ve,rt,fe,Ke,Ye,Xe,ge=0;const $=lt=>{ge=Date.now()+2e3,Le(lt)&&(!Ve&&Fe&&(Ve=F(Me,"touchmove",Fe,We)),rt||(rt=F(lt.target,"touchend",Ue,We)),fe||(fe=F(lt.target,"touchcancel",Ue,We)))},be=lt=>{ge>Date.now()||Le(lt)&&(!Ye&&Fe&&(Ye=F(te(Me),"mousemove",Fe,We)),Xe||(Xe=F(te(Me),"mouseup",ze,We)))},Ue=lt=>{et(),tt&&tt(lt)},ze=lt=>{dt(),tt&&tt(lt)},et=()=>{Ve&&Ve(),rt&&rt(),fe&&fe(),Ve=rt=fe=void 0},dt=()=>{Ye&&Ye(),Xe&&Xe(),Ye=Xe=void 0},Ut=()=>{et(),dt()},cn=(lt=!0)=>{lt?(Ne||(Ne=F(Me,"touchstart",$,We)),Ke||(Ke=F(Me,"mousedown",be,We))):(Ne&&Ne(),Ke&&Ke(),Ne=Ke=void 0,Ut())};return{enable:cn,stop:Ut,destroy:()=>{cn(!1),tt=Fe=Le=void 0}}})(Ne.el,Te=>{const Tt=xe(Te);return!(Fe||!tt||(Y(Te,Ue),Ue.startX=Ue.currentX,Ue.startY=Ue.currentY,Ue.startTime=Ue.currentTime=Tt,Ue.velocityX=Ue.velocityY=Ue.deltaX=Ue.deltaY=0,Ue.event=Te,Ve&&!1===Ve(Ue))||(et.release(),!et.start()))&&(Fe=!0,0===ge?jt():(ze.start(Ue.startX,Ue.startY),!0))},Te=>{Le?!We&&tt&&(We=!0,se(Ue,Te),requestAnimationFrame(cn)):(se(Ue,Te),ze.detect(Ue.currentX,Ue.currentY)&&(!ze.isGesture()||!jt())&&je())},ke,{capture:!1,passive:$}),je=()=>{Ie(),me.stop(),Ye&&Ye(Ue)};return{enable(Te=!0){Te||(Le&&ke(void 0),Ie()),me.enable(Te)},destroy(){et.destroy(),me.destroy()}}},se=(Me,Le)=>{if(!Le)return;const Fe=Me.currentX,tt=Me.currentY,We=Me.currentTime;Y(Le,Me);const Ne=Me.currentX,Ve=Me.currentY,fe=(Me.currentTime=xe(Le))-We;if(fe>0&&fe<100){const Ye=(Ve-tt)/fe;Me.velocityX=(Ne-Fe)/fe*.7+.3*Me.velocityX,Me.velocityY=.7*Ye+.3*Me.velocityY}Me.deltaX=Ne-Me.startX,Me.deltaY=Ve-Me.startY,Me.event=Le},Y=(Me,Le)=>{let Fe=0,tt=0;if(Me){const We=Me.changedTouches;if(We&&We.length>0){const Ne=We[0];Fe=Ne.clientX,tt=Ne.clientY}else void 0!==Me.pageX&&(Fe=Me.pageX,tt=Me.pageY)}Le.currentX=Fe,Le.currentY=tt},xe=Me=>Me.timeStamp||Date.now()},6256:(tn,Qe,A)=>{"use strict";A.d(Qe,{b:()=>he,c:()=>te,d:()=>de,e:()=>ge,g:()=>Ue,l:()=>Ye,s:()=>$,t:()=>Y,w:()=>Xe});var l=A(1528),F=A(2992),B=A(6384);const he="ionViewWillLeave",te="ionViewDidLeave",de="ionViewWillUnload",Y=ze=>new Promise((et,dt)=>{(0,F.w)(()=>{xe(ze),Me(ze).then(Ut=>{Ut.animation&&Ut.animation.destroy(),Le(ze),et(Ut)},Ut=>{Le(ze),dt(Ut)})})}),xe=ze=>{const et=ze.enteringEl,dt=ze.leavingEl;be(et,dt,ze.direction),ze.showGoBack?et.classList.add("can-go-back"):et.classList.remove("can-go-back"),$(et,!1),et.style.setProperty("pointer-events","none"),dt&&($(dt,!1),dt.style.setProperty("pointer-events","none"))},Me=function(){var ze=(0,l.c)(function*(et){const dt=yield Fe(et);return dt&&F.B.isBrowser?tt(dt,et):We(et)});return function(dt){return ze.apply(this,arguments)}}(),Le=ze=>{const et=ze.enteringEl,dt=ze.leavingEl;et.classList.remove("ion-page-invisible"),et.style.removeProperty("pointer-events"),void 0!==dt&&(dt.classList.remove("ion-page-invisible"),dt.style.removeProperty("pointer-events"))},Fe=function(){var ze=(0,l.c)(function*(et){return et.leavingEl&&et.animated&&0!==et.duration?et.animationBuilder?et.animationBuilder:"ios"===et.mode?(yield Promise.resolve().then(A.bind(A,8512))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,6556))).mdTransitionAnimation:void 0});return function(dt){return ze.apply(this,arguments)}}(),tt=function(){var ze=(0,l.c)(function*(et,dt){yield Ne(dt,!0);const Ut=et(dt.baseEl,dt);fe(dt.enteringEl,dt.leavingEl);const cn=yield rt(Ut,dt);return dt.progressCallback&&dt.progressCallback(void 0),cn&&Ke(dt.enteringEl,dt.leavingEl),{hasCompleted:cn,animation:Ut}});return function(dt,Ut){return ze.apply(this,arguments)}}(),We=function(){var ze=(0,l.c)(function*(et){const dt=et.enteringEl,Ut=et.leavingEl;return yield Ne(et,!1),fe(dt,Ut),Ke(dt,Ut),{hasCompleted:!0}});return function(dt){return ze.apply(this,arguments)}}(),Ne=function(){var ze=(0,l.c)(function*(et,dt){(void 0!==et.deepWait?et.deepWait:dt)&&(yield Promise.all([ge(et.enteringEl),ge(et.leavingEl)])),yield Ve(et.viewIsReady,et.enteringEl)});return function(dt,Ut){return ze.apply(this,arguments)}}(),Ve=function(){var ze=(0,l.c)(function*(et,dt){et&&(yield et(dt))});return function(dt,Ut){return ze.apply(this,arguments)}}(),rt=(ze,et)=>{const dt=et.progressCallback,Ut=new Promise(cn=>{ze.onFinish(jt=>cn(1===jt))});return dt?(ze.progressStart(!0),dt(ze)):ze.play(),Ut},fe=(ze,et)=>{Ye(et,he),Ye(ze,"ionViewWillEnter")},Ke=(ze,et)=>{Ye(ze,"ionViewDidEnter"),Ye(et,te)},Ye=(ze,et)=>{if(ze){const dt=new CustomEvent(et,{bubbles:!1,cancelable:!1});ze.dispatchEvent(dt)}},Xe=()=>new Promise(ze=>(0,B.r)(()=>(0,B.r)(()=>ze()))),ge=function(){var ze=(0,l.c)(function*(et){const dt=et;if(dt){if(null!=dt.componentOnReady){if(null!=(yield dt.componentOnReady()))return}else if(null!=dt.__registerHost)return void(yield new Promise(cn=>(0,B.r)(cn)));yield Promise.all(Array.from(dt.children).map(ge))}});return function(dt){return ze.apply(this,arguments)}}(),$=(ze,et)=>{et?(ze.setAttribute("aria-hidden","true"),ze.classList.add("ion-page-hidden")):(ze.hidden=!1,ze.removeAttribute("aria-hidden"),ze.classList.remove("ion-page-hidden"))},be=(ze,et,dt)=>{void 0!==ze&&(ze.style.zIndex="back"===dt?"99":"101"),void 0!==et&&(et.style.zIndex="100")},Ue=ze=>ze.classList.contains("ion-page")?ze:ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ze},2992:(tn,Qe,A)=>{"use strict";A.d(Qe,{B:()=>xe,H:()=>jt,a:()=>Gi,b:()=>fr,c:()=>Gt,d:()=>Dn,e:()=>Wr,f:()=>nn,g:()=>Ft,h:()=>Ut,i:()=>ae,j:()=>Me,r:()=>Zn,w:()=>vt});var l=A(1528);let K,ye,he,te=!1,de=!1,$e=!1,se=!1,Y=!1;const xe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Me=U=>{const Q=new URL(U,$n.$resourcesUrl$);return Q.origin!==Yn.location.origin?Q.href:Q.pathname},rt="s-id",fe="sty-id",Xe="slot-fb{display:contents}slot-fb[hidden]{display:none}",ge="http://www.w3.org/1999/xlink",$={},et=U=>"object"==(U=typeof U)||"function"===U;function dt(U){var Q,He,Be;return null!==(Be=null===(He=null===(Q=U.head)||void 0===Q?void 0:Q.querySelector('meta[name="csp-nonce"]'))||void 0===He?void 0:He.getAttribute("content"))&&void 0!==Be?Be:void 0}const Ut=(U,Q,...He)=>{let Be=null,st=null,Rt=null,Bt=!1,on=!1;const Qt=[],Xt=qt=>{for(let Vn=0;Vn<qt.length;Vn++)Be=qt[Vn],Array.isArray(Be)?Xt(Be):null!=Be&&"boolean"!=typeof Be&&((Bt="function"!=typeof U&&!et(Be))&&(Be=String(Be)),Bt&&on?Qt[Qt.length-1].$text$+=Be:Qt.push(Bt?cn(null,Be):Be),on=Bt)};if(Xt(He),Q){Q.key&&(st=Q.key),Q.name&&(Rt=Q.name);{const qt=Q.className||Q.class;qt&&(Q.class="object"!=typeof qt?qt:Object.keys(qt).filter(Vn=>qt[Vn]).join(" "))}}if("function"==typeof U)return U(null===Q?{}:Q,Qt,Re);const vn=cn(U,null);return vn.$attrs$=Q,Qt.length>0&&(vn.$children$=Qt),vn.$key$=st,vn.$name$=Rt,vn},cn=(U,Q)=>({$flags$:0,$tag$:U,$text$:Q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),jt={},Re={forEach:(U,Q)=>U.map(Ie).forEach(Q),map:(U,Q)=>U.map(Ie).map(Q).map(ke)},Ie=U=>({vattrs:U.$attrs$,vchildren:U.$children$,vkey:U.$key$,vname:U.$name$,vtag:U.$tag$,vtext:U.$text$}),ke=U=>{if("function"==typeof U.vtag){const He=Object.assign({},U.vattrs);return U.vkey&&(He.key=U.vkey),U.vname&&(He.name=U.vname),Ut(U.vtag,He,...U.vchildren||[])}const Q=cn(U.vtag,U.vtext);return Q.$attrs$=U.vattrs,Q.$children$=U.vchildren,Q.$key$=U.vkey,Q.$name$=U.vname,Q},je=(U,Q,He,Be,st,Rt,Bt)=>{let on,Qt,Xt,vn;if(1===Rt.nodeType){for(on=Rt.getAttribute("c-id"),on&&(Qt=on.split("."),(Qt[0]===Bt||"0"===Qt[0])&&(Xt={$flags$:0,$hostId$:Qt[0],$nodeId$:Qt[1],$depth$:Qt[2],$index$:Qt[3],$tag$:Rt.tagName.toLowerCase(),$elm$:Rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Q.push(Xt),Rt.removeAttribute("c-id"),U.$children$||(U.$children$=[]),U.$children$[Xt.$index$]=Xt,U=Xt,Be&&"0"===Xt.$depth$&&(Be[Xt.$index$]=Xt.$elm$))),vn=Rt.childNodes.length-1;vn>=0;vn--)je(U,Q,He,Be,st,Rt.childNodes[vn],Bt);if(Rt.shadowRoot)for(vn=Rt.shadowRoot.childNodes.length-1;vn>=0;vn--)je(U,Q,He,Be,st,Rt.shadowRoot.childNodes[vn],Bt)}else if(8===Rt.nodeType)Qt=Rt.nodeValue.split("."),(Qt[1]===Bt||"0"===Qt[1])&&(on=Qt[0],Xt={$flags$:0,$hostId$:Qt[1],$nodeId$:Qt[2],$depth$:Qt[3],$index$:Qt[4],$elm$:Rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===on?(Xt.$elm$=Rt.nextSibling,Xt.$elm$&&3===Xt.$elm$.nodeType&&(Xt.$text$=Xt.$elm$.textContent,Q.push(Xt),Rt.remove(),U.$children$||(U.$children$=[]),U.$children$[Xt.$index$]=Xt,Be&&"0"===Xt.$depth$&&(Be[Xt.$index$]=Xt.$elm$))):Xt.$hostId$===Bt&&("s"===on?(Xt.$tag$="slot",Rt["s-sn"]=Qt[5]?Xt.$name$=Qt[5]:"",Rt["s-sr"]=!0,Be&&(Xt.$elm$=Cr.createElement(Xt.$tag$),Xt.$name$&&Xt.$elm$.setAttribute("name",Xt.$name$),Rt.parentNode.insertBefore(Xt.$elm$,Rt),Rt.remove(),"0"===Xt.$depth$&&(Be[Xt.$index$]=Xt.$elm$)),He.push(Xt),U.$children$||(U.$children$=[]),U.$children$[Xt.$index$]=Xt):"r"===on&&(Be?Rt.remove():(st["s-cr"]=Rt,Rt["s-cn"]=!0))));else if(U&&"style"===U.$tag$){const qt=cn(null,Rt.textContent);qt.$elm$=Rt,qt.$index$="0",U.$children$=[qt]}},Te=(U,Q)=>{if(1===U.nodeType){let He=0;for(;He<U.childNodes.length;He++)Te(U.childNodes[He],Q);if(U.shadowRoot)for(He=0;He<U.shadowRoot.childNodes.length;He++)Te(U.shadowRoot.childNodes[He],Q)}else if(8===U.nodeType){const He=U.nodeValue.split(".");"o"===He[0]&&(Q.set(He[1]+"."+He[2],U),U.nodeValue="",U["s-en"]=He[3])}},Gt=U=>Di.push(U),Ft=U=>Gn(U).$modeName$,nn=U=>Gn(U).$hostElement$,Dn=(U,Q,He)=>{const Be=nn(U);return{emit:st=>Tn(Be,Q,{bubbles:!!(4&He),composed:!!(2&He),cancelable:!!(1&He),detail:st})}},Tn=(U,Q,He)=>{const Be=$n.ce(Q,He);return U.dispatchEvent(Be),Be},Ct=new WeakMap,gt=(U,Q,He)=>{let Be=sr.get(U);De&&He?(Be=Be||new CSSStyleSheet,"string"==typeof Be?Be=Q:Be.replaceSync(Q)):Be=Q,sr.set(U,Be)},ht=(U,Q,He)=>{var Be;const st=yn(Q,He),Rt=sr.get(st);if(U=11===U.nodeType?U:Cr,Rt)if("string"==typeof Rt){let on,Bt=Ct.get(U=U.head||U);if(Bt||Ct.set(U,Bt=new Set),!Bt.has(st)){if(U.host&&(on=U.querySelector(`[${fe}="${st}"]`)))on.innerHTML=Rt;else{on=Cr.createElement("style"),on.innerHTML=Rt;const Qt=null!==(Be=$n.$nonce$)&&void 0!==Be?Be:dt(Cr);null!=Qt&&on.setAttribute("nonce",Qt),U.insertBefore(on,U.querySelector("link"))}4&Q.$flags$&&(on.innerHTML+=Xe),Bt&&Bt.add(st)}}else U.adoptedStyleSheets.includes(Rt)||(U.adoptedStyleSheets=[...U.adoptedStyleSheets,Rt]);return st},yn=(U,Q)=>"sc-"+(Q&&32&U.$flags$?U.$tagName$+"-"+Q:U.$tagName$),Ot=U=>U.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gn=(U,Q,He,Be,st,Rt)=>{if(He!==Be){let Bt=Er(U,Q),on=Q.toLowerCase();if("class"===Q){const Qt=U.classList,Xt=An(He),vn=An(Be);Qt.remove(...Xt.filter(qt=>qt&&!vn.includes(qt))),Qt.add(...vn.filter(qt=>qt&&!Xt.includes(qt)))}else if("style"===Q){for(const Qt in He)(!Be||null==Be[Qt])&&(Qt.includes("-")?U.style.removeProperty(Qt):U.style[Qt]="");for(const Qt in Be)(!He||Be[Qt]!==He[Qt])&&(Qt.includes("-")?U.style.setProperty(Qt,Be[Qt]):U.style[Qt]=Be[Qt])}else if("key"!==Q)if("ref"===Q)Be&&Be(U);else if(Bt||"o"!==Q[0]||"n"!==Q[1]){const Qt=et(Be);if((Bt||Qt&&null!==Be)&&!st)try{if(U.tagName.includes("-"))U[Q]=Be;else{const vn=null==Be?"":Be;"list"===Q?Bt=!1:(null==He||U[Q]!=vn)&&(U[Q]=vn)}}catch{}let Xt=!1;on!==(on=on.replace(/^xlink\:?/,""))&&(Q=on,Xt=!0),null==Be||!1===Be?(!1!==Be||""===U.getAttribute(Q))&&(Xt?U.removeAttributeNS(ge,Q):U.removeAttribute(Q)):(!Bt||4&Rt||st)&&!Qt&&(Be=!0===Be?"":Be,Xt?U.setAttributeNS(ge,Q,Be):U.setAttribute(Q,Be))}else if(Q="-"===Q[2]?Q.slice(3):Er(Yn,on)?on.slice(2):on[2]+Q.slice(3),He||Be){const Qt=Q.endsWith(nr);Q=Q.replace(Ln,""),He&&$n.rel(U,Q,He,Qt),Be&&$n.ael(U,Q,Be,Qt)}}},hn=/\s/,An=U=>U?U.split(hn):[],nr="Capture",Ln=new RegExp(nr+"$"),qn=(U,Q,He,Be)=>{const st=11===Q.$elm$.nodeType&&Q.$elm$.host?Q.$elm$.host:Q.$elm$,Rt=U&&U.$attrs$||$,Bt=Q.$attrs$||$;for(Be in Rt)Be in Bt||gn(st,Be,Rt[Be],void 0,He,Q.$flags$);for(Be in Bt)gn(st,Be,Rt[Be],Bt[Be],He,Q.$flags$)},fn=(U,Q,He,Be)=>{const st=Q.$children$[He];let Bt,on,Qt,Rt=0;if(te||($e=!0,"slot"===st.$tag$&&(K&&Be.classList.add(K+"-s"),st.$flags$|=st.$children$?2:1)),null!==st.$text$)Bt=st.$elm$=Cr.createTextNode(st.$text$);else if(1&st.$flags$)Bt=st.$elm$=Cr.createTextNode("");else{if(se||(se="svg"===st.$tag$),Bt=st.$elm$=Cr.createElementNS(se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&st.$flags$?"slot-fb":st.$tag$),se&&"foreignObject"===st.$tag$&&(se=!1),qn(null,st,se),(U=>null!=U)(K)&&Bt["s-si"]!==K&&Bt.classList.add(Bt["s-si"]=K),st.$children$)for(Rt=0;Rt<st.$children$.length;++Rt)on=fn(U,st,Rt,Bt),on&&Bt.appendChild(on);"svg"===st.$tag$?se=!1:"foreignObject"===Bt.tagName&&(se=!0)}return Bt["s-hn"]=he,3&st.$flags$&&(Bt["s-sr"]=!0,Bt["s-cr"]=ye,Bt["s-sn"]=st.$name$||"",Qt=U&&U.$children$&&U.$children$[He],Qt&&Qt.$tag$===st.$tag$&&U.$elm$&&Pn(U.$elm$,!1)),Bt},Pn=(U,Q)=>{$n.$flags$|=1;const He=U.childNodes;for(let Be=He.length-1;Be>=0;Be--){const st=He[Be];st["s-hn"]!==he&&st["s-ol"]&&(kt(st).insertBefore(st,dr(st)),st["s-ol"].remove(),st["s-ol"]=void 0,st["s-sh"]=void 0,$e=!0),Q&&Pn(st,Q)}$n.$flags$&=-2},pr=(U,Q,He,Be,st,Rt)=>{let on,Bt=U["s-cr"]&&U["s-cr"].parentNode||U;for(Bt.shadowRoot&&Bt.tagName===he&&(Bt=Bt.shadowRoot);st<=Rt;++st)Be[st]&&(on=fn(null,He,st,U),on&&(Be[st].$elm$=on,Bt.insertBefore(on,dr(Q))))},br=(U,Q,He)=>{for(let Be=Q;Be<=He;++Be){const st=U[Be];if(st){const Rt=st.$elm$;Mn(st),Rt&&(de=!0,Rt["s-ol"]?Rt["s-ol"].remove():Pn(Rt,!0),Rt.remove())}}},Bn=(U,Q,He=!1)=>U.$tag$===Q.$tag$&&("slot"===U.$tag$?U.$name$===Q.$name$:!!He||U.$key$===Q.$key$),dr=U=>U&&U["s-ol"]||U,kt=U=>(U["s-ol"]?U["s-ol"]:U).parentNode,bt=(U,Q,He=!1)=>{const Be=Q.$elm$=U.$elm$,st=U.$children$,Rt=Q.$children$,Bt=Q.$tag$,on=Q.$text$;let Qt;null===on?(se="svg"===Bt||"foreignObject"!==Bt&&se,"slot"===Bt&&!te||qn(U,Q,se),null!==st&&null!==Rt?((U,Q,He,Be,st=!1)=>{let Vr,C,Rt=0,Bt=0,on=0,Qt=0,Xt=Q.length-1,vn=Q[0],qt=Q[Xt],Vn=Be.length-1,_r=Be[0],yr=Be[Vn];for(;Rt<=Xt&&Bt<=Vn;)if(null==vn)vn=Q[++Rt];else if(null==qt)qt=Q[--Xt];else if(null==_r)_r=Be[++Bt];else if(null==yr)yr=Be[--Vn];else if(Bn(vn,_r,st))bt(vn,_r,st),vn=Q[++Rt],_r=Be[++Bt];else if(Bn(qt,yr,st))bt(qt,yr,st),qt=Q[--Xt],yr=Be[--Vn];else if(Bn(vn,yr,st))("slot"===vn.$tag$||"slot"===yr.$tag$)&&Pn(vn.$elm$.parentNode,!1),bt(vn,yr,st),U.insertBefore(vn.$elm$,qt.$elm$.nextSibling),vn=Q[++Rt],yr=Be[--Vn];else if(Bn(qt,_r,st))("slot"===vn.$tag$||"slot"===yr.$tag$)&&Pn(qt.$elm$.parentNode,!1),bt(qt,_r,st),U.insertBefore(qt.$elm$,vn.$elm$),qt=Q[--Xt],_r=Be[++Bt];else{for(on=-1,Qt=Rt;Qt<=Xt;++Qt)if(Q[Qt]&&null!==Q[Qt].$key$&&Q[Qt].$key$===_r.$key$){on=Qt;break}on>=0?(C=Q[on],C.$tag$!==_r.$tag$?Vr=fn(Q&&Q[Bt],He,on,U):(bt(C,_r,st),Q[on]=void 0,Vr=C.$elm$),_r=Be[++Bt]):(Vr=fn(Q&&Q[Bt],He,Bt,U),_r=Be[++Bt]),Vr&&kt(vn.$elm$).insertBefore(Vr,dr(vn.$elm$))}Rt>Xt?pr(U,null==Be[Vn+1]?null:Be[Vn+1].$elm$,He,Be,Bt,Vn):Bt>Vn&&br(Q,Rt,Xt)})(Be,st,Q,Rt,He):null!==Rt?(null!==U.$text$&&(Be.textContent=""),pr(Be,null,Q,Rt,0,Rt.length-1)):null!==st&&br(st,0,st.length-1),se&&"svg"===Bt&&(se=!1)):(Qt=Be["s-cr"])?Qt.parentNode.textContent=on:U.$text$!==on&&(Be.data=on)},ln=U=>{const Q=U.childNodes;for(const He of Q)if(1===He.nodeType){if(He["s-sr"]){const Be=He["s-sn"];He.hidden=!1;for(const st of Q)if(st!==He)if(st["s-hn"]!==He["s-hn"]||""!==Be){if(1===st.nodeType&&(Be===st.getAttribute("slot")||Be===st["s-sn"])){He.hidden=!0;break}}else if(1===st.nodeType||3===st.nodeType&&""!==st.textContent.trim()){He.hidden=!0;break}}ln(He)}},xt=[],Cn=U=>{let Q,He,Be;for(const st of U.childNodes){if(st["s-sr"]&&(Q=st["s-cr"])&&Q.parentNode){He=Q.parentNode.childNodes;const Rt=st["s-sn"];for(Be=He.length-1;Be>=0;Be--)if(Q=He[Be],!Q["s-cn"]&&!Q["s-nr"]&&Q["s-hn"]!==st["s-hn"])if(zn(Q,Rt)){let Bt=xt.find(on=>on.$nodeToRelocate$===Q);de=!0,Q["s-sn"]=Q["s-sn"]||Rt,Bt?(Bt.$nodeToRelocate$["s-sh"]=st["s-hn"],Bt.$slotRefNode$=st):(Q["s-sh"]=st["s-hn"],xt.push({$slotRefNode$:st,$nodeToRelocate$:Q})),Q["s-sr"]&&xt.map(on=>{zn(on.$nodeToRelocate$,Q["s-sn"])&&(Bt=xt.find(Qt=>Qt.$nodeToRelocate$===Q),Bt&&!on.$slotRefNode$&&(on.$slotRefNode$=Bt.$slotRefNode$))})}else xt.some(Bt=>Bt.$nodeToRelocate$===Q)||xt.push({$nodeToRelocate$:Q})}1===st.nodeType&&Cn(st)}},zn=(U,Q)=>1===U.nodeType?null===U.getAttribute("slot")&&""===Q||U.getAttribute("slot")===Q:U["s-sn"]===Q||""===Q,Mn=U=>{U.$attrs$&&U.$attrs$.ref&&U.$attrs$.ref(null),U.$children$&&U.$children$.map(Mn)},Lt=(U,Q)=>{Q&&!U.$onRenderResolve$&&Q["s-p"]&&Q["s-p"].push(new Promise(He=>U.$onRenderResolve$=He))},ie=(U,Q)=>{if(U.$flags$|=16,!(4&U.$flags$))return Lt(U,U.$ancestorComponent$),vt(()=>Ge(U,Q));U.$flags$|=512},Ge=(U,Q)=>{const Be=U.$lazyInstance$;let st;return Q&&(U.$flags$|=256,U.$queuedListeners$&&(U.$queuedListeners$.map(([Rt,Bt])=>X(Be,Rt,Bt)),U.$queuedListeners$=void 0),st=X(Be,"componentWillLoad")),st=pe(st,()=>X(Be,"componentWillRender")),pe(st,()=>ot(U,Be,Q))},pe=(U,Q)=>Ae(U)?U.then(Q):Q(),Ae=U=>U instanceof Promise||U&&U.then&&"function"==typeof U.then,ot=function(){var U=(0,l.c)(function*(Q,He,Be){var st;const Rt=Q.$hostElement$,on=Rt["s-rc"];Be&&(U=>{const Q=U.$cmpMeta$,He=U.$hostElement$,Be=Q.$flags$,Rt=ht(He.shadowRoot?He.shadowRoot:He.getRootNode(),Q,U.$modeName$);10&Be&&(He["s-sc"]=Rt,He.classList.add(Rt+"-h"),2&Be&&He.classList.add(Rt+"-s"))})(Q);qe(Q,He,Rt,Be),on&&(on.map(Xt=>Xt()),Rt["s-rc"]=void 0);{const Xt=null!==(st=Rt["s-p"])&&void 0!==st?st:[],vn=()=>J(Q);0===Xt.length?vn():(Promise.all(Xt).then(vn),Q.$flags$|=4,Xt.length=0)}});return function(He,Be,st){return U.apply(this,arguments)}}(),qe=(U,Q,He,Be)=>{try{Q=Q.render&&Q.render(),U.$flags$&=-17,U.$flags$|=2,((U,Q,He=!1)=>{var Be,st,Rt,Bt;const on=U.$hostElement$,Qt=U.$cmpMeta$,Xt=U.$vnode$||cn(null,null),vn=(U=>U&&U.$tag$===jt)(Q)?Q:Ut(null,null,Q);if(he=on.tagName,Qt.$attrsToReflect$&&(vn.$attrs$=vn.$attrs$||{},Qt.$attrsToReflect$.map(([qt,Vn])=>vn.$attrs$[Vn]=on[qt])),He&&vn.$attrs$)for(const qt of Object.keys(vn.$attrs$))on.hasAttribute(qt)&&!["key","ref","style","class"].includes(qt)&&(vn.$attrs$[qt]=on[qt]);if(vn.$tag$=null,vn.$flags$|=4,U.$vnode$=vn,vn.$elm$=Xt.$elm$=on.shadowRoot||on,K=on["s-sc"],te=0!=(1&Qt.$flags$),ye=on["s-cr"],de=!1,bt(Xt,vn,He),$n.$flags$|=1,$e){Cn(vn.$elm$);for(const qt of xt){const Vn=qt.$nodeToRelocate$;if(!Vn["s-ol"]){const _r=Cr.createTextNode("");_r["s-nr"]=Vn,Vn.parentNode.insertBefore(Vn["s-ol"]=_r,Vn)}}for(const qt of xt){const Vn=qt.$nodeToRelocate$,_r=qt.$slotRefNode$;if(_r){const yr=_r.parentNode;let Vr=_r.nextSibling;{let C=null===(Be=Vn["s-ol"])||void 0===Be?void 0:Be.previousSibling;for(;C;){let oe=null!==(st=C["s-nr"])&&void 0!==st?st:null;if(oe&&oe["s-sn"]===Vn["s-sn"]&&yr===oe.parentNode&&(oe=oe.nextSibling,!oe||!oe["s-nr"])){Vr=oe;break}C=C.previousSibling}}(!Vr&&yr!==Vn.parentNode||Vn.nextSibling!==Vr)&&Vn!==Vr&&(!Vn["s-hn"]&&Vn["s-ol"]&&(Vn["s-hn"]=Vn["s-ol"].parentNode.nodeName),yr.insertBefore(Vn,Vr),1===Vn.nodeType&&(Vn.hidden=null!==(Rt=Vn["s-ih"])&&void 0!==Rt&&Rt))}else 1===Vn.nodeType&&(He&&(Vn["s-ih"]=null!==(Bt=Vn.hidden)&&void 0!==Bt&&Bt),Vn.hidden=!0)}}de&&ln(vn.$elm$),$n.$flags$&=-2,xt.length=0,ye=void 0})(U,Q,Be)}catch(st){Ar(st,U.$hostElement$)}return null},J=U=>{const He=U.$hostElement$,st=U.$lazyInstance$,Rt=U.$ancestorComponent$;X(st,"componentDidRender"),64&U.$flags$?X(st,"componentDidUpdate"):(U.$flags$|=64,q(He),X(st,"componentDidLoad"),U.$onReadyResolve$(He),Rt||z()),U.$onInstanceResolve$(He),U.$onRenderResolve$&&(U.$onRenderResolve$(),U.$onRenderResolve$=void 0),512&U.$flags$&&kn(()=>ie(U,!1)),U.$flags$&=-517},ae=U=>{{const Q=Gn(U),He=Q.$hostElement$.isConnected;return He&&2==(18&Q.$flags$)&&ie(Q,!1),He}},z=U=>{q(Cr.documentElement),kn(()=>Tn(Yn,"appload",{detail:{namespace:"ionic"}}))},X=(U,Q,He)=>{if(U&&U[Q])try{return U[Q](He)}catch(Be){Ar(Be)}},q=U=>U.classList.add("hydrated"),pn=(U,Q,He)=>{var Be;const st=U.prototype;if(Q.$members$){U.watchers&&(Q.$watchers$=U.watchers);const Rt=Object.entries(Q.$members$);if(Rt.map(([Bt,[on]])=>{31&on||2&He&&32&on?Object.defineProperty(st,Bt,{get(){return((U,Q)=>Gn(this).$instanceValues$.get(Q))(0,Bt)},set(Qt){((U,Q,He,Be)=>{const st=Gn(U),Rt=st.$hostElement$,Bt=st.$instanceValues$.get(Q),on=st.$flags$,Qt=st.$lazyInstance$;He=((U,Q)=>null==U||et(U)?U:4&Q?"false"!==U&&(""===U||!!U):2&Q?parseFloat(U):1&Q?String(U):U)(He,Be.$members$[Q][0]);const Xt=Number.isNaN(Bt)&&Number.isNaN(He);if((!(8&on)||void 0===Bt)&&He!==Bt&&!Xt&&(st.$instanceValues$.set(Q,He),Qt)){if(Be.$watchers$&&128&on){const qt=Be.$watchers$[Q];qt&&qt.map(Vn=>{try{Qt[Vn](He,Bt,Q)}catch(_r){Ar(_r,Rt)}})}2==(18&on)&&ie(st,!1)}})(this,Bt,Qt,Q)},configurable:!0,enumerable:!0}):1&He&&64&on&&Object.defineProperty(st,Bt,{value(...Qt){var Xt;const vn=Gn(this);return null===(Xt=null==vn?void 0:vn.$onInstancePromise$)||void 0===Xt?void 0:Xt.then(()=>{var qt;return null===(qt=vn.$lazyInstance$)||void 0===qt?void 0:qt[Bt](...Qt)})}})}),1&He){const Bt=new Map;st.attributeChangedCallback=function(on,Qt,Xt){$n.jmp(()=>{var vn;const qt=Bt.get(on);if(this.hasOwnProperty(qt))Xt=this[qt],delete this[qt];else{if(st.hasOwnProperty(qt)&&"number"==typeof this[qt]&&this[qt]==Xt)return;if(null==qt){const Vn=Gn(this),_r=null==Vn?void 0:Vn.$flags$;if(_r&&!(8&_r)&&128&_r&&Xt!==Qt){const yr=Vn.$lazyInstance$,Vr=null===(vn=Q.$watchers$)||void 0===vn?void 0:vn[on];null==Vr||Vr.forEach(C=>{null!=yr[C]&&yr[C].call(yr,Xt,Qt,on)})}return}}this[qt]=(null!==Xt||"boolean"!=typeof this[qt])&&Xt})},U.observedAttributes=Array.from(new Set([...Object.keys(null!==(Be=Q.$watchers$)&&void 0!==Be?Be:{}),...Rt.filter(([on,Qt])=>15&Qt[0]).map(([on,Qt])=>{var Xt;const vn=Qt[1]||on;return Bt.set(vn,on),512&Qt[0]&&(null===(Xt=Q.$attrsToReflect$)||void 0===Xt||Xt.push([on,vn])),vn})]))}}return U},Nn=function(){var U=(0,l.c)(function*(Q,He,Be,st){let Rt;if(!(32&He.$flags$)){He.$flags$|=32;{if(Rt=Ci(Be),Rt.then){const Xt=()=>{};Rt=yield Rt,Xt()}Rt.isProxied||(Be.$watchers$=Rt.watchers,pn(Rt,Be,2),Rt.isProxied=!0);const Qt=()=>{};He.$flags$|=8;try{new Rt(He)}catch(Xt){Ar(Xt)}He.$flags$&=-9,He.$flags$|=128,Qt(),Wn(He.$lazyInstance$)}if(Rt.style){let Qt=Rt.style;"string"!=typeof Qt&&(Qt=Qt[He.$modeName$=(U=>Di.map(Q=>Q(U)).find(Q=>!!Q))(Q)]);const Xt=yn(Be,He.$modeName$);if(!sr.has(Xt)){const vn=()=>{};gt(Xt,Qt,!!(1&Be.$flags$)),vn()}}}const Bt=He.$ancestorComponent$,on=()=>ie(He,!0);Bt&&Bt["s-rc"]?Bt["s-rc"].push(on):on()});return function(He,Be,st,Rt){return U.apply(this,arguments)}}(),Wn=U=>{X(U,"connectedCallback")},On=U=>{const Q=U["s-cr"]=Cr.createComment("");Q["s-cn"]=!0,U.insertBefore(Q,U.firstChild)},mn=U=>{X(U,"disconnectedCallback")},Xn=function(){var U=(0,l.c)(function*(Q){if(!(1&$n.$flags$)){const He=Gn(Q);He.$rmListeners$&&(He.$rmListeners$.map(Be=>Be()),He.$rmListeners$=void 0),null!=He&&He.$lazyInstance$?mn(He.$lazyInstance$):null!=He&&He.$onReadyPromise$&&He.$onReadyPromise$.then(()=>mn(He.$lazyInstance$))}});return function(He){return U.apply(this,arguments)}}(),fr=(U,Q={})=>{var He;const st=[],Rt=Q.exclude||[],Bt=Yn.customElements,on=Cr.head,Qt=on.querySelector("meta[charset]"),Xt=Cr.createElement("style"),vn=[],qt=Cr.querySelectorAll(`[${fe}]`);let Vn,_r=!0,yr=0;for(Object.assign($n,Q),$n.$resourcesUrl$=new URL(Q.resourcesUrl||"./",Cr.baseURI).href,$n.$flags$|=2;yr<qt.length;yr++)gt(qt[yr].getAttribute(fe),Ot(qt[yr].innerHTML),!0);let Vr=!1;if(U.map(C=>{C[1].map(oe=>{var x;const ue={$flags$:oe[0],$tagName$:oe[1],$members$:oe[2],$listeners$:oe[3]};4&ue.$flags$&&(Vr=!0),ue.$members$=oe[2],ue.$listeners$=oe[3],ue.$attrsToReflect$=[],ue.$watchers$=null!==(x=oe[4])&&void 0!==x?x:{};const it=ue.$tagName$,Un=class extends HTMLElement{constructor(Xr){super(Xr),Pr(Xr=this,ue),1&ue.$flags$&&Xr.attachShadow({mode:"open",delegatesFocus:!!(16&ue.$flags$)})}connectedCallback(){Vn&&(clearTimeout(Vn),Vn=null),_r?vn.push(this):$n.jmp(()=>(U=>{if(!(1&$n.$flags$)){const Q=Gn(U),He=Q.$cmpMeta$,Be=()=>{};if(1&Q.$flags$)zr(U,Q,He.$listeners$),null!=Q&&Q.$lazyInstance$?Wn(Q.$lazyInstance$):null!=Q&&Q.$onReadyPromise$&&Q.$onReadyPromise$.then(()=>Wn(Q.$lazyInstance$));else{let st;if(Q.$flags$|=1,st=U.getAttribute(rt),st){if(1&He.$flags$){const Rt=ht(U.shadowRoot,He,U.getAttribute("s-mode"));U.classList.remove(Rt+"-h",Rt+"-s")}((U,Q,He,Be)=>{const Rt=U.shadowRoot,Bt=[],Qt=Rt?[]:null,Xt=Be.$vnode$=cn(Q,null);$n.$orgLocNodes$||Te(Cr.body,$n.$orgLocNodes$=new Map),U[rt]=He,U.removeAttribute(rt),je(Xt,Bt,[],Qt,U,U,He),Bt.map(vn=>{const qt=vn.$hostId$+"."+vn.$nodeId$,Vn=$n.$orgLocNodes$.get(qt),_r=vn.$elm$;Vn&&we&&""===Vn["s-en"]&&Vn.parentNode.insertBefore(_r,Vn.nextSibling),Rt||(_r["s-hn"]=Q,Vn&&(_r["s-ol"]=Vn,_r["s-ol"]["s-nr"]=_r)),$n.$orgLocNodes$.delete(qt)}),Rt&&Qt.map(vn=>{vn&&Rt.appendChild(vn)})})(U,He.$tagName$,st,Q)}st||12&He.$flags$&&On(U);{let Rt=U;for(;Rt=Rt.parentNode||Rt.host;)if(1===Rt.nodeType&&Rt.hasAttribute("s-id")&&Rt["s-p"]||Rt["s-p"]){Lt(Q,Q.$ancestorComponent$=Rt);break}}He.$members$&&Object.entries(He.$members$).map(([Rt,[Bt]])=>{if(31&Bt&&U.hasOwnProperty(Rt)){const on=U[Rt];delete U[Rt],U[Rt]=on}}),Nn(U,Q,He)}Be()}})(this))}disconnectedCallback(){$n.jmp(()=>Xn(this))}componentOnReady(){return Gn(this).$onReadyPromise$}};ue.$lazyBundleId$=C[0],!Rt.includes(it)&&!Bt.get(it)&&(st.push(it),Bt.define(it,pn(Un,ue,1)))})}),st.length>0&&(Vr&&(Xt.innerHTML+=Xe),Xt.innerHTML+=st+"{visibility:hidden}.hydrated{visibility:inherit}",Xt.innerHTML.length)){Xt.setAttribute("data-styles","");const C=null!==(He=$n.$nonce$)&&void 0!==He?He:dt(Cr);null!=C&&Xt.setAttribute("nonce",C),on.insertBefore(Xt,Qt?Qt.nextSibling:on.firstChild)}_r=!1,vn.length?vn.map(C=>C.connectedCallback()):$n.jmp(()=>Vn=setTimeout(z,30))},zr=(U,Q,He,Be)=>{He&&He.map(([st,Rt,Bt])=>{const on=yt(U,st),Qt=St(Q,Bt),Xt=Mt(st);$n.ael(on,Rt,Qt,Xt),(Q.$rmListeners$=Q.$rmListeners$||[]).push(()=>$n.rel(on,Rt,Qt,Xt))})},St=(U,Q)=>He=>{try{256&U.$flags$?U.$lazyInstance$[Q](He):(U.$queuedListeners$=U.$queuedListeners$||[]).push([Q,He])}catch(Be){Ar(Be)}},yt=(U,Q)=>4&Q?Cr:8&Q?Yn:16&Q?Cr.body:U,Mt=U=>Se?{passive:0!=(1&U),capture:0!=(2&U)}:0!=(2&U),Qn=new WeakMap,Gn=U=>Qn.get(U),Zn=(U,Q)=>Qn.set(Q.$lazyInstance$=U,Q),Pr=(U,Q)=>{const He={$flags$:0,$hostElement$:U,$cmpMeta$:Q,$instanceValues$:new Map};return He.$onInstancePromise$=new Promise(Be=>He.$onInstanceResolve$=Be),He.$onReadyPromise$=new Promise(Be=>He.$onReadyResolve$=Be),U["s-p"]=[],U["s-rc"]=[],zr(U,He,Q.$listeners$),Qn.set(U,He)},Er=(U,Q)=>Q in U,Ar=(U,Q)=>(0,console.error)(U,Q),ni=new Map,Ci=(U,Q,He)=>{const Be=U.$tagName$.replace(/-/g,"_"),st=U.$lazyBundleId$,Rt=ni.get(st);return Rt?Rt[Be]:A(1480)(`./${st}.entry.js`).then(Bt=>(ni.set(st,Bt),Bt[Be]),Ar)},sr=new Map,Di=[],Yn=typeof window<"u"?window:{},Cr=Yn.document||{head:{}},$n={$flags$:0,$resourcesUrl$:"",jmp:U=>U(),raf:U=>requestAnimationFrame(U),ael:(U,Q,He,Be)=>U.addEventListener(Q,He,Be),rel:(U,Q,He,Be)=>U.removeEventListener(Q,He,Be),ce:(U,Q)=>new CustomEvent(U,Q)},Gi=U=>{Object.assign($n,U)},we=!0,Se=(()=>{let U=!1;try{Cr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){U=!0}}))}catch{}return U})(),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ct=[],At=[],Kt=(U,Q)=>He=>{U.push(He),Y||(Y=!0,Q&&4&$n.$flags$?kn(Yt):$n.raf(Yt))},rn=U=>{for(let Q=0;Q<U.length;Q++)try{U[Q](performance.now())}catch(He){Ar(He)}U.length=0},Yt=()=>{rn(ct),rn(At),(Y=ct.length>0)&&$n.raf(Yt)},kn=U=>Promise.resolve(void 0).then(U),Wr=Kt(ct,!1),vt=Kt(At,!0)},2032:(tn,Qe,A)=>{"use strict";A.d(Qe,{a:()=>F,b:()=>B,p:()=>l});const l=(K,...ye)=>console.warn(`[Ionic Warning]: ${K}`,...ye),F=(K,...ye)=>console.error(`[Ionic Error]: ${K}`,...ye),B=(K,...ye)=>console.error(`<${K.tagName.toLowerCase()}> must be used inside ${ye.join(" or ")}.`)},4829:(tn,Qe,A)=>{"use strict";A.d(Qe,{d:()=>F,w:()=>l});const l=typeof window<"u"?window:void 0,F=typeof document<"u"?document:void 0},3452:(tn,Qe,A)=>{"use strict";A.d(Qe,{m:()=>Me});var l=A(1528),F=A(4829),B=A(2784),K=A(2032),ye=A(6384),he=A(8523),te=A(388);const de=Le=>(0,te.c)().duration(Le?400:300),$e=Le=>{let Fe,tt;const We=Le.width+8,Ne=(0,te.c)(),Ve=(0,te.c)();Le.isEndSide?(Fe=We+"px",tt="0px"):(Fe=-We+"px",tt="0px"),Ne.addElement(Le.menuInnerEl).fromTo("transform",`translateX(${Fe})`,`translateX(${tt})`);const fe="ios"===(0,he.b)(Le),Ke=fe?.2:.25;return Ve.addElement(Le.backdropEl).fromTo("opacity",.01,Ke),de(fe).addAnimation([Ne,Ve])},se=Le=>{let Fe,tt;const We=(0,he.b)(Le),Ne=Le.width;Le.isEndSide?(Fe=-Ne+"px",tt=Ne+"px"):(Fe=Ne+"px",tt=-Ne+"px");const Ve=(0,te.c)().addElement(Le.menuInnerEl).fromTo("transform",`translateX(${tt})`,"translateX(0px)"),rt=(0,te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`),fe=(0,te.c)().addElement(Le.backdropEl).fromTo("opacity",.01,.32);return de("ios"===We).addAnimation([Ve,rt,fe])},Y=Le=>{const Fe=(0,he.b)(Le),tt=Le.width*(Le.isEndSide?-1:1)+"px",We=(0,te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${tt})`);return de("ios"===Fe).addAnimation(We)},Me=(()=>{const Le=new Map,Fe=[],tt=function(){var Ie=(0,l.c)(function*(ke){const me=yield Ye(ke,!0);return!!me&&me.open()});return function(me){return Ie.apply(this,arguments)}}(),We=function(){var Ie=(0,l.c)(function*(ke){const me=yield void 0!==ke?Ye(ke,!0):Xe();return void 0!==me&&me.close()});return function(me){return Ie.apply(this,arguments)}}(),Ne=function(){var Ie=(0,l.c)(function*(ke){const me=yield Ye(ke,!0);return!!me&&me.toggle()});return function(me){return Ie.apply(this,arguments)}}(),Ve=function(){var Ie=(0,l.c)(function*(ke,me){const je=yield Ye(me);return je&&(je.disabled=!ke),je});return function(me,je){return Ie.apply(this,arguments)}}(),rt=function(){var Ie=(0,l.c)(function*(ke,me){const je=yield Ye(me);return je&&(je.swipeGesture=ke),je});return function(me,je){return Ie.apply(this,arguments)}}(),fe=function(){var Ie=(0,l.c)(function*(ke){if(null!=ke){const me=yield Ye(ke);return void 0!==me&&me.isOpen()}return void 0!==(yield Xe())});return function(me){return Ie.apply(this,arguments)}}(),Ke=function(){var Ie=(0,l.c)(function*(ke){const me=yield Ye(ke);return!!me&&!me.disabled});return function(me){return Ie.apply(this,arguments)}}(),Ye=function(){var Ie=(0,l.c)(function*(ke,me=!1){if(yield Re(),"start"===ke||"end"===ke){const Te=Fe.filter(Gt=>Gt.side===ke&&!Gt.disabled);if(Te.length>=1)return Te.length>1&&me&&(0,K.p)(`menuController queried for a menu on the "${ke}" side, but ${Te.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Te.map(Gt=>Gt.el)),Te[0].el;const Tt=Fe.filter(Gt=>Gt.side===ke);if(Tt.length>=1)return Tt.length>1&&me&&(0,K.p)(`menuController queried for a menu on the "${ke}" side, but ${Tt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Tt.map(Gt=>Gt.el)),Tt[0].el}else if(null!=ke)return lt(Te=>Te.menuId===ke);return lt(Te=>!Te.disabled)||(Fe.length>0?Fe[0].el:void 0)});return function(me){return Ie.apply(this,arguments)}}(),Xe=function(){var Ie=(0,l.c)(function*(){return yield Re(),Ut()});return function(){return Ie.apply(this,arguments)}}(),ge=function(){var Ie=(0,l.c)(function*(){return yield Re(),cn()});return function(){return Ie.apply(this,arguments)}}(),$=function(){var Ie=(0,l.c)(function*(){return yield Re(),jt()});return function(){return Ie.apply(this,arguments)}}(),be=(Ie,ke)=>{Le.set(Ie,ke)},et=function(){var Ie=(0,l.c)(function*(ke,me,je){if(jt())return!1;if(me){const Te=yield Xe();Te&&ke.el!==Te&&(yield Te.setOpen(!1,!1))}return ke._setOpen(me,je)});return function(me,je,Te){return Ie.apply(this,arguments)}}(),Ut=()=>lt(Ie=>Ie._isOpen),cn=()=>Fe.map(Ie=>Ie.el),jt=()=>Fe.some(Ie=>Ie.isAnimating),lt=Ie=>{const ke=Fe.find(Ie);if(void 0!==ke)return ke.el},Re=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ie=>new Promise(ke=>(0,ye.c)(Ie,ke))));return be("reveal",Y),be("push",se),be("overlay",$e),null==F.d||F.d.addEventListener("ionBackButton",Ie=>{const ke=Ut();ke&&Ie.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>ke.close())}),{registerAnimation:be,get:Ye,getMenus:ge,getOpen:Xe,isEnabled:Ke,swipeGesture:rt,isAnimating:$,isOpen:fe,enable:Ve,toggle:Ne,close:We,open:tt,_getOpenSync:Ut,_createAnimation:(Ie,ke)=>{const me=Le.get(Ie);if(!me)throw new Error("animation not registered");return me(ke)},_register:Ie=>{Fe.indexOf(Ie)<0&&Fe.push(Ie)},_unregister:Ie=>{const ke=Fe.indexOf(Ie);ke>-1&&Fe.splice(ke,1)},_setOpen:et}})()},8523:(tn,Qe,A)=>{"use strict";A.d(Qe,{a:()=>Y,b:()=>cn,c:()=>B,i:()=>jt});var l=A(2992);class F{constructor(){this.m=new Map}reset(Re){this.m=new Map(Object.entries(Re))}get(Re,Ie){const ke=this.m.get(Re);return void 0!==ke?ke:Ie}getBoolean(Re,Ie=!1){const ke=this.m.get(Re);return void 0===ke?Ie:"string"==typeof ke?"true"===ke:!!ke}getNumber(Re,Ie){const ke=parseFloat(this.m.get(Re));return isNaN(ke)?void 0!==Ie?Ie:NaN:ke}set(Re,Ie){this.m.set(Re,Ie)}}const B=new F,$e="ionic-persist-config",Y=(lt,Re)=>("string"==typeof lt&&(Re=lt,lt=void 0),(lt=>xe(lt))(lt).includes(Re)),xe=(lt=window)=>{if(typeof lt>"u")return[];lt.Ionic=lt.Ionic||{};let Re=lt.Ionic.platforms;return null==Re&&(Re=lt.Ionic.platforms=Me(lt),Re.forEach(Ie=>lt.document.documentElement.classList.add(`plt-${Ie}`))),Re},Me=lt=>{const Re=B.get("platform");return Object.keys(dt).filter(Ie=>{const ke=null==Re?void 0:Re[Ie];return"function"==typeof ke?ke(lt):dt[Ie](lt)})},Fe=lt=>!!(ze(lt,/iPad/i)||ze(lt,/Macintosh/i)&&Ke(lt)),Ne=lt=>ze(lt,/android|sink/i),Ke=lt=>et(lt,"(any-pointer:coarse)"),Xe=lt=>ge(lt)||$(lt),ge=lt=>!!(lt.cordova||lt.phonegap||lt.PhoneGap),$=lt=>{const Re=lt.Capacitor;return!(null==Re||!Re.isNative)},ze=(lt,Re)=>Re.test(lt.navigator.userAgent),et=(lt,Re)=>{var Ie;return null===(Ie=lt.matchMedia)||void 0===Ie?void 0:Ie.call(lt,Re).matches},dt={ipad:Fe,iphone:lt=>ze(lt,/iPhone/i),ios:lt=>ze(lt,/iPhone|iPod/i)||Fe(lt),android:Ne,phablet:lt=>{const Re=lt.innerWidth,Ie=lt.innerHeight,ke=Math.min(Re,Ie),me=Math.max(Re,Ie);return ke>390&&ke<520&&me>620&&me<800},tablet:lt=>{const Re=lt.innerWidth,Ie=lt.innerHeight,ke=Math.min(Re,Ie),me=Math.max(Re,Ie);return Fe(lt)||(lt=>Ne(lt)&&!ze(lt,/mobile/i))(lt)||ke>460&&ke<820&&me>780&&me<1400},cordova:ge,capacitor:$,electron:lt=>ze(lt,/electron/i),pwa:lt=>{var Re;return!!(null!==(Re=lt.matchMedia)&&void 0!==Re&&Re.call(lt,"(display-mode: standalone)").matches||lt.navigator.standalone)},mobile:Ke,mobileweb:lt=>Ke(lt)&&!Xe(lt),desktop:lt=>!Ke(lt),hybrid:Xe};let Ut;const cn=lt=>lt&&(0,l.g)(lt)||Ut,jt=(lt={})=>{if(typeof window>"u")return;const Re=window.document,Ie=window,ke=Ie.Ionic=Ie.Ionic||{},me={};lt._ael&&(me.ael=lt._ael),lt._rel&&(me.rel=lt._rel),lt._ce&&(me.ce=lt._ce),(0,l.a)(me);const je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(lt=>{try{const Re=lt.sessionStorage.getItem($e);return null!==Re?JSON.parse(Re):{}}catch{return{}}})(Ie)),{persistConfig:!1}),ke.config),(lt=>{const Re={};return lt.location.search.slice(1).split("&").map(Ie=>Ie.split("=")).map(([Ie,ke])=>[decodeURIComponent(Ie),decodeURIComponent(ke)]).filter(([Ie])=>((lt,Re)=>lt.substr(0,Re.length)===Re)(Ie,"ionic:")).map(([Ie,ke])=>[Ie.slice(6),ke]).forEach(([Ie,ke])=>{Re[Ie]=ke}),Re})(Ie)),lt);B.reset(je),B.getBoolean("persistConfig")&&((lt,Re)=>{try{lt.sessionStorage.setItem($e,JSON.stringify(Re))}catch{return}})(Ie,je),xe(Ie),ke.config=B,ke.mode=Ut=B.get("mode",Re.documentElement.getAttribute("mode")||(Y(Ie,"ios")?"ios":"md")),B.set("mode",Ut),Re.documentElement.setAttribute("mode",Ut),Re.documentElement.classList.add(Ut),B.getBoolean("_testing")&&B.set("animated",!1);const Te=Gt=>{var Ft;return null===(Ft=Gt.tagName)||void 0===Ft?void 0:Ft.startsWith("ION-")},Tt=Gt=>["ios","md"].includes(Gt);(0,l.c)(Gt=>{for(;Gt;){const Ft=Gt.mode||Gt.getAttribute("mode");if(Ft){if(Tt(Ft))return Ft;Te(Gt)&&console.warn('Invalid ionic mode: "'+Ft+'", expected: "ios" or "md"')}Gt=Gt.parentElement}return Ut})}},8512:(tn,Qe,A)=>{"use strict";A.r(Qe),A.d(Qe,{iosTransitionAnimation:()=>Me,shadow:()=>te});var l=A(388),F=A(6256);A(4829),A(2992);const he=Fe=>document.querySelector(`${Fe}.ion-cloned-element`),te=Fe=>Fe.shadowRoot||Fe,de=Fe=>{const tt="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs"),We="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=tt){const Ne=tt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ne?Ne.querySelector(We):null}return Fe.querySelector(We)},$e=(Fe,tt)=>{const We="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs");let Ne=[];if(null!=We){const Ve=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ve&&(Ne=Ve.querySelectorAll("ion-buttons"))}else Ne=Fe.querySelectorAll("ion-buttons");for(const Ve of Ne){const rt=Ve.closest("ion-header"),fe=rt&&!rt.classList.contains("header-collapse-condense-inactive"),Ke=Ve.querySelector("ion-back-button"),Ye=Ve.classList.contains("buttons-collapse");if(null!==Ke&&("start"===Ve.slot||""===Ve.slot)&&(Ye&&fe&&tt||!Ye))return Ke}return null},Y=(Fe,tt,We,Ne,Ve,rt,fe,Ke,Ye)=>{var Xe,ge;const $=tt?`calc(100% - ${Ve.right+4}px)`:Ve.left-4+"px",be=tt?"right":"left",Ue=tt?"left":"right",ze=tt?"right":"left",et=(null===(Xe=rt.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(ge=Ke.textContent)||void 0===ge?void 0:ge.trim()),Ut=(Ye.height-Le)/fe.height,cn=et?`scale(${Ye.width/fe.width}, ${Ut})`:`scale(${Ut})`,jt="scale(1)",Re=te(Ne).querySelector("ion-icon").getBoundingClientRect(),Ie=tt?Re.width/2-(Re.right-Ve.right)+"px":Ve.left-Re.width/2+"px",ke=tt?`-${window.innerWidth-Ve.right}px`:`${Ve.left}px`,me=`${Ye.top}px`,je=`${Ve.top}px`,Gt=We?[{offset:0,transform:`translate3d(${ke}, ${je}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${me}, 0)`}]:[{offset:0,transform:`translate3d(${Ie}, ${me}, 0)`},{offset:1,transform:`translate3d(${ke}, ${je}, 0)`}],nn=We?[{offset:0,opacity:1,transform:jt},{offset:1,opacity:0,transform:cn}]:[{offset:0,opacity:0,transform:cn},{offset:1,opacity:1,transform:jt}],Ct=We?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],gt=(0,l.c)(),ht=(0,l.c)(),Wt=(0,l.c)(),yn=he("ion-back-button"),Ot=te(yn).querySelector(".button-text"),gn=te(yn).querySelector("ion-icon");yn.text=Ne.text,yn.mode=Ne.mode,yn.icon=Ne.icon,yn.color=Ne.color,yn.disabled=Ne.disabled,yn.style.setProperty("display","block"),yn.style.setProperty("position","fixed"),ht.addElement(gn),gt.addElement(Ot),Wt.addElement(yn),Wt.beforeStyles({position:"absolute",top:"0px",[ze]:"0px"}).keyframes(Gt),gt.beforeStyles({"transform-origin":`${be} top`}).beforeAddWrite(()=>{Ne.style.setProperty("display","none"),yn.style.setProperty(be,$)}).afterAddWrite(()=>{Ne.style.setProperty("display",""),yn.style.setProperty("display","none"),yn.style.removeProperty(be)}).keyframes(nn),ht.beforeStyles({"transform-origin":`${Ue} center`}).keyframes(Ct),Fe.addAnimation([gt,ht,Wt])},xe=(Fe,tt,We,Ne,Ve,rt,fe,Ke)=>{var Ye,Xe;const ge=tt?"right":"left",$=tt?`calc(100% - ${Ve.right}px)`:`${Ve.left}px`,Ue=`${Ve.top}px`,et=tt?`-${window.innerWidth-Ke.right-8}px`:Ke.x-8+"px",Ut=Ke.y-2+"px",cn=(null===(Ye=fe.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(Xe=Ne.textContent)||void 0===Xe?void 0:Xe.trim()),lt=Ke.height/(rt.height-Le),Re="scale(1)",Ie=cn?`scale(${Ke.width/rt.width}, ${lt})`:`scale(${lt})`,je=We?[{offset:0,opacity:0,transform:`translate3d(${et}, ${Ut}, 0) ${Ie}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ue}, 0) ${Re}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ue}, 0) ${Re}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${et}, ${Ut}, 0) ${Ie}`}],Te=he("ion-title"),Tt=(0,l.c)();Te.innerText=Ne.innerText,Te.size=Ne.size,Te.color=Ne.color,Tt.addElement(Te),Tt.beforeStyles({"transform-origin":`${ge} top`,height:`${Ve.height}px`,display:"",position:"relative",[ge]:$}).beforeAddWrite(()=>{Ne.style.setProperty("opacity","0")}).afterAddWrite(()=>{Ne.style.setProperty("opacity",""),Te.style.setProperty("display","none")}).keyframes(je),Fe.addAnimation(Tt)},Me=(Fe,tt)=>{var We;try{const Ne="cubic-bezier(0.32,0.72,0,1)",Ve="opacity",rt="transform",fe="0%",Ye="rtl"===Fe.ownerDocument.dir,Xe=Ye?"-99.5%":"99.5%",ge=Ye?"33%":"-33%",$=tt.enteringEl,be=tt.leavingEl,Ue="back"===tt.direction,ze=$.querySelector(":scope > ion-content"),et=$.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),dt=$.querySelectorAll(":scope > ion-header > ion-toolbar"),Ut=(0,l.c)(),cn=(0,l.c)();if(Ut.addElement($).duration((null!==(We=tt.duration)&&void 0!==We?We:0)||540).easing(tt.easing||Ne).fill("both").beforeRemoveClass("ion-page-invisible"),be&&null!=Fe){const Ie=(0,l.c)();Ie.addElement(Fe),Ut.addAnimation(Ie)}if(ze||0!==dt.length||0!==et.length?(cn.addElement(ze),cn.addElement(et)):cn.addElement($.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ut.addAnimation(cn),Ue?cn.beforeClearStyles([Ve]).fromTo("transform",`translateX(${ge})`,`translateX(${fe})`).fromTo(Ve,.8,1):cn.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Xe})`,`translateX(${fe})`),ze){const Ie=te(ze).querySelector(".transition-effect");if(Ie){const ke=Ie.querySelector(".transition-cover"),me=Ie.querySelector(".transition-shadow"),je=(0,l.c)(),Te=(0,l.c)(),Tt=(0,l.c)();je.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Te.addElement(ke).beforeClearStyles([Ve]).fromTo(Ve,0,.1),Tt.addElement(me).beforeClearStyles([Ve]).fromTo(Ve,.03,.7),je.addAnimation([Te,Tt]),cn.addAnimation([je])}}const jt=$.querySelector("ion-header.header-collapse-condense"),{forward:lt,backward:Re}=((Fe,tt,We,Ne,Ve)=>{const rt=$e(Ne,We),fe=de(Ve),Ke=de(Ne),Ye=$e(Ve,We),Xe=null!==rt&&null!==fe&&!We,ge=null!==Ke&&null!==Ye&&We;if(Xe){const $=fe.getBoundingClientRect(),be=rt.getBoundingClientRect(),Ue=te(rt).querySelector(".button-text"),ze=Ue.getBoundingClientRect(),dt=te(fe).querySelector(".toolbar-title").getBoundingClientRect();xe(Fe,tt,We,fe,$,dt,Ue,ze),Y(Fe,tt,We,rt,be,Ue,ze,fe,dt)}else if(ge){const $=Ke.getBoundingClientRect(),be=Ye.getBoundingClientRect(),Ue=te(Ye).querySelector(".button-text"),ze=Ue.getBoundingClientRect(),dt=te(Ke).querySelector(".toolbar-title").getBoundingClientRect();xe(Fe,tt,We,Ke,$,dt,Ue,ze),Y(Fe,tt,We,Ye,be,Ue,ze,Ke,dt)}return{forward:Xe,backward:ge}})(Ut,Ye,Ue,$,be);if(dt.forEach(Ie=>{const ke=(0,l.c)();ke.addElement(Ie),Ut.addAnimation(ke);const me=(0,l.c)();me.addElement(Ie.querySelector("ion-title"));const je=(0,l.c)(),Te=Array.from(Ie.querySelectorAll("ion-buttons,[menuToggle]")),Tt=Ie.closest("ion-header"),Gt=null==Tt?void 0:Tt.classList.contains("header-collapse-condense-inactive");let Ft;Ft=Te.filter(Ue?Ct=>{const gt=Ct.classList.contains("buttons-collapse");return gt&&!Gt||!gt}:Ct=>!Ct.classList.contains("buttons-collapse")),je.addElement(Ft);const It=(0,l.c)();It.addElement(Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const nn=(0,l.c)();nn.addElement(te(Ie).querySelector(".toolbar-background"));const Dn=(0,l.c)(),Tn=Ie.querySelector("ion-back-button");if(Tn&&Dn.addElement(Tn),ke.addAnimation([me,je,It,nn,Dn]),je.fromTo(Ve,.01,1),It.fromTo(Ve,.01,1),Ue)Gt||me.fromTo("transform",`translateX(${ge})`,`translateX(${fe})`).fromTo(Ve,.01,1),It.fromTo("transform",`translateX(${ge})`,`translateX(${fe})`),Dn.fromTo(Ve,.01,1);else if(jt||me.fromTo("transform",`translateX(${Xe})`,`translateX(${fe})`).fromTo(Ve,.01,1),It.fromTo("transform",`translateX(${Xe})`,`translateX(${fe})`),nn.beforeClearStyles([Ve,"transform"]),(null==Tt?void 0:Tt.translucent)?nn.fromTo("transform",Ye?"translateX(-100%)":"translateX(100%)","translateX(0px)"):nn.fromTo(Ve,.01,"var(--opacity)"),lt||Dn.fromTo(Ve,.01,1),Tn&&!lt){const gt=(0,l.c)();gt.addElement(te(Tn).querySelector(".button-text")).fromTo("transform",Ye?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ke.addAnimation(gt)}}),be){const Ie=(0,l.c)(),ke=be.querySelector(":scope > ion-content"),me=be.querySelectorAll(":scope > ion-header > ion-toolbar"),je=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ke||0!==me.length||0!==je.length?(Ie.addElement(ke),Ie.addElement(je)):Ie.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ut.addAnimation(Ie),Ue){Ie.beforeClearStyles([Ve]).fromTo("transform",`translateX(${fe})`,Ye?"translateX(-100%)":"translateX(100%)");const Te=(0,F.g)(be);Ut.afterAddWrite(()=>{"normal"===Ut.getDirection()&&Te.style.setProperty("display","none")})}else Ie.fromTo("transform",`translateX(${fe})`,`translateX(${ge})`).fromTo(Ve,1,.8);if(ke){const Te=te(ke).querySelector(".transition-effect");if(Te){const Tt=Te.querySelector(".transition-cover"),Gt=Te.querySelector(".transition-shadow"),Ft=(0,l.c)(),It=(0,l.c)(),nn=(0,l.c)();Ft.addElement(Te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),It.addElement(Tt).beforeClearStyles([Ve]).fromTo(Ve,.1,0),nn.addElement(Gt).beforeClearStyles([Ve]).fromTo(Ve,.7,.03),Ft.addAnimation([It,nn]),Ie.addAnimation([Ft])}}me.forEach(Te=>{const Tt=(0,l.c)();Tt.addElement(Te);const Gt=(0,l.c)();Gt.addElement(Te.querySelector("ion-title"));const Ft=(0,l.c)(),It=Te.querySelectorAll("ion-buttons,[menuToggle]"),nn=Te.closest("ion-header"),Dn=null==nn?void 0:nn.classList.contains("header-collapse-condense-inactive"),Tn=Array.from(It).filter(Ot=>{const gn=Ot.classList.contains("buttons-collapse");return gn&&!Dn||!gn});Ft.addElement(Tn);const Ct=(0,l.c)(),gt=Te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");gt.length>0&&Ct.addElement(gt);const ht=(0,l.c)();ht.addElement(te(Te).querySelector(".toolbar-background"));const Wt=(0,l.c)(),yn=Te.querySelector("ion-back-button");if(yn&&Wt.addElement(yn),Tt.addAnimation([Gt,Ft,Ct,Wt,ht]),Ut.addAnimation(Tt),Wt.fromTo(Ve,.99,0),Ft.fromTo(Ve,.99,0),Ct.fromTo(Ve,.99,0),Ue){if(Dn||Gt.fromTo("transform",`translateX(${fe})`,Ye?"translateX(-100%)":"translateX(100%)").fromTo(Ve,.99,0),Ct.fromTo("transform",`translateX(${fe})`,Ye?"translateX(-100%)":"translateX(100%)"),ht.beforeClearStyles([Ve,"transform"]),(null==nn?void 0:nn.translucent)?ht.fromTo("transform","translateX(0px)",Ye?"translateX(-100%)":"translateX(100%)"):ht.fromTo(Ve,"var(--opacity)",0),yn&&!Re){const gn=(0,l.c)();gn.addElement(te(yn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(Ye?-124:124)+"px"})`),Tt.addAnimation(gn)}}else Dn||Gt.fromTo("transform",`translateX(${fe})`,`translateX(${ge})`).fromTo(Ve,.99,0).afterClearStyles([rt,Ve]),Ct.fromTo("transform",`translateX(${fe})`,`translateX(${ge})`).afterClearStyles([rt,Ve]),Wt.afterClearStyles([Ve]),Gt.afterClearStyles([Ve]),Ft.afterClearStyles([Ve])})}return Ut}catch(Ne){throw Ne}},Le=10},6556:(tn,Qe,A)=>{"use strict";A.r(Qe),A.d(Qe,{mdTransitionAnimation:()=>ye});var l=A(388),F=A(6256);A(4829),A(2992);const ye=(he,te)=>{var de,$e,se;const Y="40px",Me="back"===te.direction,Fe=te.leavingEl,tt=(0,F.g)(te.enteringEl),We=tt.querySelector("ion-toolbar"),Ne=(0,l.c)();if(Ne.addElement(tt).fill("both").beforeRemoveClass("ion-page-invisible"),Me?Ne.duration((null!==(de=te.duration)&&void 0!==de?de:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ne.duration((null!==($e=te.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${Y})`,"translateY(0px)").fromTo("opacity",.01,1),We){const Ve=(0,l.c)();Ve.addElement(We),Ne.addAnimation(Ve)}if(Fe&&Me){Ne.duration((null!==(se=te.duration)&&void 0!==se?se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ve=(0,l.c)();Ve.addElement((0,F.g)(Fe)).onFinish(rt=>{1===rt&&Ve.elements.length>0&&Ve.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${Y})`).fromTo("opacity",1,0),Ne.addAnimation(Ve)}return Ne}},3816:(tn,Qe,A)=>{"use strict";A.d(Qe,{B:()=>Ft,G:()=>It,O:()=>nn,a:()=>xe,b:()=>Me,c:()=>We,d:()=>Dn,e:()=>Tn,f:()=>jt,g:()=>Re,h:()=>me,i:()=>Te,j:()=>Ve,k:()=>rt,l:()=>Le,m:()=>Fe,n:()=>Xe,o:()=>Ut,s:()=>Gt,t:()=>Ne});var l=A(1528),F=A(4829),B=A(2784),K=A(8523),ye=A(495),he=A(6384),te=A(2032);let de=0,$e=0;const se=new WeakMap,Y=Ct=>({create:gt=>fe(Ct,gt),dismiss:(gt,ht,Wt)=>ze(document,gt,ht,Ct,Wt),getTop:()=>(0,l.c)(function*(){return Ut(document,Ct)})()}),xe=Y("ion-alert"),Me=Y("ion-action-sheet"),Le=Y("ion-loading"),Fe=Y("ion-modal"),We=Y("ion-popover"),Ne=Y("ion-toast"),Ve=Ct=>{typeof document<"u"&&Ue(document);const gt=de++;Ct.overlayIndex=gt},rt=Ct=>(Ct.hasAttribute("id")||(Ct.id="ion-overlay-"+ ++$e),Ct.id),fe=(Ct,gt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ct).then(()=>{const ht=document.createElement(Ct);return ht.classList.add("overlay-hidden"),Object.assign(ht,Object.assign(Object.assign({},gt),{hasController:!0})),Ie(document).appendChild(ht),new Promise(Wt=>(0,he.c)(ht,Wt))}):Promise.resolve(),Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Xe=(Ct,gt)=>{const ht=Ct.querySelector(Ke);$(ht,gt)},ge=(Ct,gt)=>{const ht=Array.from(Ct.querySelectorAll(Ke));$(ht.length>0?ht[ht.length-1]:null,gt)},$=(Ct,gt)=>{let ht=Ct;const Wt=null==Ct?void 0:Ct.shadowRoot;Wt&&(ht=Wt.querySelector(Ke)||Ct),ht?(0,he.f)(ht):gt.focus()},Ue=Ct=>{0===de&&(de=1,Ct.addEventListener("focus",gt=>{((Ct,gt)=>{const ht=Ut(gt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Wt=Ct.target;ht&&Wt&&!ht.classList.contains("ion-disable-focus-trap")&&(ht.shadowRoot?(()=>{if(ht.contains(Wt))ht.lastFocus=Wt;else if("ION-TOAST"===Wt.tagName)$(ht.lastFocus,ht);else{const gn=ht.lastFocus;Xe(ht,ht),gn===gt.activeElement&&ge(ht,ht),ht.lastFocus=gt.activeElement}})():(()=>{if(ht===Wt)ht.lastFocus=void 0;else if("ION-TOAST"===Wt.tagName)$(ht.lastFocus,ht);else{const gn=(0,he.g)(ht);if(!gn.contains(Wt))return;const hn=gn.querySelector(".ion-overlay-wrapper");if(!hn)return;if(hn.contains(Wt)||Wt===gn.querySelector("ion-backdrop"))ht.lastFocus=Wt;else{const An=ht.lastFocus;Xe(hn,ht),An===gt.activeElement&&ge(hn,ht),ht.lastFocus=gt.activeElement}}})())})(gt,Ct)},!0),Ct.addEventListener("ionBackButton",gt=>{const ht=Ut(Ct);null!=ht&&ht.backdropDismiss&&gt.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ht.dismiss(void 0,Ft)})}),(0,B.shoudUseCloseWatcher)()||Ct.addEventListener("keydown",gt=>{if("Escape"===gt.key){const ht=Ut(Ct);null!=ht&&ht.backdropDismiss&&ht.dismiss(void 0,Ft)}}))},ze=(Ct,gt,ht,Wt,yn)=>{const Ot=Ut(Ct,Wt,yn);return Ot?Ot.dismiss(gt,ht):Promise.reject("overlay does not exist")},dt=(Ct,gt)=>((Ct,gt)=>(void 0===gt&&(gt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ct.querySelectorAll(gt)).filter(ht=>ht.overlayIndex>0)))(Ct,gt).filter(ht=>!(Ct=>Ct.classList.contains("overlay-hidden"))(ht)),Ut=(Ct,gt,ht)=>{const Wt=dt(Ct,gt);return void 0===ht?Wt[Wt.length-1]:Wt.find(yn=>yn.id===ht)},cn=(Ct=!1)=>{const ht=Ie(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ht&&(Ct?ht.setAttribute("aria-hidden","true"):ht.removeAttribute("aria-hidden"))},jt=function(){var Ct=(0,l.c)(function*(gt,ht,Wt,yn,Ot){var gn,hn;if(gt.presented)return;cn(!0),void 0!==F.d&&dt(F.d).forEach(fn=>fn.setAttribute("aria-hidden","true")),gt.presented=!0,gt.willPresent.emit(),null===(gn=gt.willPresentShorthand)||void 0===gn||gn.emit();const An=(0,K.b)(gt),nr=gt.enterAnimation?gt.enterAnimation:K.c.get(ht,"ios"===An?Wt:yn);(yield ke(gt,nr,gt.el,Ot))&&(gt.didPresent.emit(),null===(hn=gt.didPresentShorthand)||void 0===hn||hn.emit()),"ION-TOAST"!==gt.el.tagName&&lt(gt.el),gt.keyboardClose&&(null===document.activeElement||!gt.el.contains(document.activeElement))&&gt.el.focus(),gt.el.removeAttribute("aria-hidden")});return function(ht,Wt,yn,Ot,gn){return Ct.apply(this,arguments)}}(),lt=function(){var Ct=(0,l.c)(function*(gt){let ht=document.activeElement;if(!ht)return;const Wt=null==ht?void 0:ht.shadowRoot;Wt&&(ht=Wt.querySelector(Ke)||ht),yield gt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ht.focus()});return function(ht){return Ct.apply(this,arguments)}}(),Re=function(){var Ct=(0,l.c)(function*(gt,ht,Wt,yn,Ot,gn,hn){var An,nr,Ln;if(!gt.presented)return!1;void 0!==F.d&&1===dt(F.d).length&&cn(!1),gt.presented=!1;try{gt.el.style.setProperty("pointer-events","none"),gt.willDismiss.emit({data:ht,role:Wt}),null===(An=gt.willDismissShorthand)||void 0===An||An.emit({data:ht,role:Wt});const qn=(0,K.b)(gt),fn=gt.leaveAnimation?gt.leaveAnimation:K.c.get(yn,"ios"===qn?Ot:gn);Wt!==It&&(yield ke(gt,fn,gt.el,hn)),gt.didDismiss.emit({data:ht,role:Wt}),null===(nr=gt.didDismissShorthand)||void 0===nr||nr.emit({data:ht,role:Wt}),(se.get(gt)||[]).forEach(pr=>pr.destroy()),se.delete(gt),gt.el.classList.add("overlay-hidden"),gt.el.style.removeProperty("pointer-events"),void 0!==gt.el.lastFocus&&(gt.el.lastFocus=void 0)}catch(qn){console.error(qn)}return gt.el.remove(),void 0!==F.d&&(null===(Ln=Ut(F.d))||void 0===Ln||Ln.removeAttribute("aria-hidden")),!0});return function(ht,Wt,yn,Ot,gn,hn,An){return Ct.apply(this,arguments)}}(),Ie=Ct=>Ct.querySelector("ion-app")||Ct.body,ke=function(){var Ct=(0,l.c)(function*(gt,ht,Wt,yn){Wt.classList.remove("overlay-hidden");const gn=ht(gt.el,yn);(!gt.animated||!K.c.getBoolean("animated",!0))&&gn.duration(0),gt.keyboardClose&&gn.beforeAddWrite(()=>{const An=Wt.ownerDocument.activeElement;null!=An&&An.matches("input,ion-input, ion-textarea")&&An.blur()});const hn=se.get(gt)||[];return se.set(gt,[...hn,gn]),yield gn.play(),!0});return function(ht,Wt,yn,Ot){return Ct.apply(this,arguments)}}(),me=(Ct,gt)=>{let ht;const Wt=new Promise(yn=>ht=yn);return je(Ct,gt,yn=>{ht(yn.detail)}),Wt},je=(Ct,gt,ht)=>{const Wt=yn=>{(0,he.b)(Ct,gt,Wt),ht(yn)};(0,he.a)(Ct,gt,Wt)},Te=Ct=>"cancel"===Ct||Ct===Ft,Tt=Ct=>Ct(),Gt=(Ct,gt)=>{if("function"==typeof Ct)return K.c.get("_zoneGate",Tt)(()=>{try{return Ct(gt)}catch(Wt){throw Wt}})},Ft="backdrop",It="gesture",nn=39,Dn=Ct=>{let ht,gt=!1;const Wt=(0,ye.C)(),yn=(hn=!1)=>{if(ht&&!hn)return{delegate:ht,inline:gt};const{el:An,hasController:nr,delegate:Ln}=Ct;return gt=null!==An.parentNode&&!nr,ht=gt?Ln||Wt:Ln,{inline:gt,delegate:ht}};return{attachViewToDom:function(){var hn=(0,l.c)(function*(An){const{delegate:nr}=yn(!0);if(nr)return yield nr.attachViewToDom(Ct.el,An);const{hasController:Ln}=Ct;if(Ln&&void 0!==An)throw new Error("framework delegate is missing");return null});return function(nr){return hn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:hn}=yn();hn&&void 0!==Ct.el&&hn.removeViewFromDom(Ct.el.parentElement,Ct.el)}}},Tn=()=>{let Ct;const gt=()=>{Ct&&(Ct(),Ct=void 0)};return{addClickListener:(Wt,yn)=>{gt();const Ot=void 0!==yn?document.getElementById(yn):null;Ot?Ct=((hn,An)=>{const nr=()=>{An.present()};return hn.addEventListener("click",nr),()=>{hn.removeEventListener("click",nr)}})(Ot,Wt):(0,te.p)(`A trigger element with the ID "${yn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Wt)},removeClickListener:gt}}},6964:(tn,Qe,A)=>{"use strict";A.d(Qe,{A:()=>te});var l=A(1528),F=A(4704),B=A(4496),K=A(9460),ye=A(9008),he=A(6088);let te=(()=>{var de;class $e{constructor(Y,xe,Me){this.firestore=Y,this.firebaseService=xe,this.utilsService=Me}initializeAppData(){var Y=this;return(0,l.c)(function*(){try{if(Y.utilsService.isOnline()){const Me=Y.getUsersFromLocalStorage();if(console.log(Me),Me)return yield Y.synchronizeData(),new Promise((Le,Fe)=>{Y.fetchUsersFromFirebase().then(()=>{Y.fetchPostsFromFirebase().then(()=>{Y.fetchCommentsFromFirebase().then(()=>{Le()}).catch(tt=>Fe(tt))}).catch(tt=>Fe(tt))}).catch(tt=>Fe(tt))});yield Y.synchronizeData()}else yield Y.fetchDataFromLocalStorage();return Promise.resolve()}catch(xe){return Promise.reject(xe)}})()}synchronizeData(){var Y=this;return(0,l.c)(function*(){try{yield Y.syncUsers(),yield Y.syncPosts(),yield Y.syncComments()}catch(xe){throw new Error("Error al sincronizar datos: "+xe.message)}})()}fetchDataFromLocalStorage(){var Y=this;return(0,l.c)(function*(){try{const xe=Y.getUsersFromLocalStorage(),Me=Y.getPostsFromLocalStorage(),Le=Y.getCommentsFromLocalStorage();if(0===xe.length||0===Me.length||0===Le.length)throw new Error("No hay datos almacenados localmente.");yield Y.synchronizeData()}catch(xe){throw new Error("Error al obtener datos de localStorage: "+xe.message)}})()}syncUsers(){var Y=this;return(0,l.c)(function*(){try{(yield Y.firebaseService.getAllUser2()).pipe((0,F.k)(Me=>Me.map(Le=>{const Fe=Le.payload.doc.data();return{uid:Fe.uid,email:Fe.email,password:Fe.password,name:Fe.name}}))).subscribe(Me=>{Y.updateUsersLocalStorage(Me[0])})}catch(xe){throw new Error("Error al sincronizar usuarios: "+xe.message)}})()}syncPosts(){var Y=this;return(0,l.c)(function*(){try{(yield Y.firebaseService.getAllPosts2()).pipe((0,F.k)(Me=>Me.map(Le=>{const Fe=Le.payload.doc.data();return{iduser:Fe.iduser,descripcion:Fe.descripcion,date_time:Fe.date_time}}))).subscribe(Me=>{Y.updatePostsLocalStorage(Me[0])})}catch(xe){throw new Error("Error al sincronizar publicaciones: "+xe.message)}})()}syncComments(){var Y=this;return(0,l.c)(function*(){try{(yield Y.firebaseService.getAllComments2()).pipe((0,F.k)(Me=>Me.map(Le=>{const Fe=Le.payload.doc.data();return{PostId:Fe.PostId,iduser:Fe.iduser,respuesta:Fe.respuesta,date_time:Fe.date_time}}))).subscribe(Me=>{Y.updateCommentsLocalStorage(Me[0])})}catch(xe){throw new Error("Error al sincronizar comentarios: "+xe.message)}})()}updateUsersLocalStorage(Y){localStorage.setItem("users",JSON.stringify(Y))}updatePostsLocalStorage(Y){localStorage.setItem("publicaciones",JSON.stringify(Y))}updateCommentsLocalStorage(Y){localStorage.setItem("comentarios",JSON.stringify(Y))}getUsersFromLocalStorage(){const Y=localStorage.getItem("users");return Y?JSON.parse(Y):[]}getPostsFromLocalStorage(){const Y=localStorage.getItem("publicaciones");return Y?JSON.parse(Y):[]}getCommentsFromLocalStorage(){const Y=localStorage.getItem("comentarios");return Y?JSON.parse(Y):[]}fetchUsersFromFirebase(){return new Promise((Y,xe)=>{this.firestore.collection("users").valueChanges().pipe((0,F.k)(Me=>{localStorage.setItem("users",JSON.stringify(Me))})).subscribe(()=>Y(),Me=>xe(Me))})}fetchPostsFromFirebase(){return new Promise((Y,xe)=>{this.firestore.collection("publicaciones").valueChanges().pipe((0,F.k)(Me=>{localStorage.setItem("publicaciones",JSON.stringify(Me))})).subscribe(()=>Y(),Me=>xe(Me))})}fetchCommentsFromFirebase(){return new Promise((Y,xe)=>{this.firestore.collection("comentarios").valueChanges().pipe((0,F.k)(Me=>{localStorage.setItem("comentarios",JSON.stringify(Me))})).subscribe(()=>Y(),Me=>xe(Me))})}checkUser(Y){const xe=localStorage.getItem("users");return xe&&JSON.parse(xe).find(Fe=>Fe.email===Y.email)||null}}return(de=$e).\u0275fac=function(Y){return new(Y||de)(B.CoB(K.i4),B.CoB(ye.R),B.CoB(he.e))},de.\u0275prov=B.wxM({token:de,factory:de.\u0275fac,providedIn:"root"}),$e})()},9008:(tn,Qe,A)=>{"use strict";A.d(Qe,{R:()=>ct});var l=A(1528),F=A(4496),B=A(3572),K=A(1944),$e=(A(7144),A(9360),A(5976),A(4920),A(9460)),se=A(6176);A(3680);var ze=A(5718);const bt=(0,se.qo)(ze.UN,!0),pe=(0,se.qo)(ze.i4,!0),z=(0,se.qo)(ze.gZ,!0),Ar=(0,se.qo)(ze.Sm,!0);var De=A(6088);let ct=(()=>{var At;class Kt{constructor(){this.auth=(0,F.uUt)(B._o),this.firestore=(0,F.uUt)($e.i4),this.utilsSvc=(0,F.uUt)(De.e)}getAuth(){return(0,K.o)()}signIn(Yt){return(0,l.c)(function*(){return(0,K.ab)((0,K.o)(),Yt.email,Yt.password)})()}signUp(Yt){return(0,K.aa)((0,K.o)(),Yt.email,Yt.password)}createPost(Yt){return this.firestore.collection("publicaciones").add(Yt)}getAllPosts(Yt){var kn=this;return(0,l.c)(function*(){return yield kn.firestore.collection(Yt).snapshotChanges()})()}getAllPosts2(){var Yt=this;return(0,l.c)(function*(){return yield Yt.firestore.collection("Publicacion").snapshotChanges()})()}getAllUser(Yt){var kn=this;return(0,l.c)(function*(){return yield kn.firestore.collection(Yt).snapshotChanges()})()}getAllUser2(){var Yt=this;return(0,l.c)(function*(){return yield Yt.firestore.collection("Users").snapshotChanges()})()}getAllComments(Yt){var kn=this;return(0,l.c)(function*(){return yield kn.firestore.collection(Yt).snapshotChanges()})()}getAllComments2(){var Yt=this;return(0,l.c)(function*(){return yield Yt.firestore.collection("Comentario").snapshotChanges()})()}commentOnPost(Yt){return this.firestore.collection("comentarios").add(Yt)}getCommentsForPost(Yt){return this.firestore.collection("publicaciones").doc(Yt).collection("comentarios").valueChanges()}updateUser(Yt){return(0,K.ak)((0,K.o)().currentUser,{displayName:Yt})}sendRecoveryEmail(Yt){return(0,K.a5)((0,K.o)(),Yt)}signOut(){(0,K.o)().signOut(),localStorage.removeItem("user"),this.utilsSvc.routerLink("/auth")}setDocument(Yt,kn){return Ar(bt(z(),Yt),kn)}getDocument(Yt){return(0,l.c)(function*(){return(yield pe(bt(z(),Yt))).data()})()}saveDataToFirebase(Yt,kn,Wr){var vt=this;return(0,l.c)(function*(){yield Promise.all(Yt.map(U=>{const Q=U.id;return vt.firestore.collection("users").doc(Q).set(U)})),yield Promise.all(kn.map(U=>{const Q=U.id;return vt.firestore.collection("posts").doc(Q).set(U)})),yield Promise.all(Wr.map(U=>{const Q=U.id;return vt.firestore.collection("comments").doc(Q).set(U)}))})()}}return(At=Kt).\u0275fac=function(Yt){return new(Yt||At)},At.\u0275prov=F.wxM({token:At,factory:At.\u0275fac,providedIn:"root"}),Kt})()},6088:(tn,Qe,A)=>{"use strict";A.d(Qe,{e:()=>ye});var l=A(1528),F=A(4496),B=A(2112),K=A(9148);let ye=(()=>{var he;class te{constructor($e,se,Y){this.loadingCtrl=$e,this.toastCtrl=se,this.router=Y}loading(){var $e=this;return(0,l.c)(function*(){return $e.loadingCtrl.create({spinner:"crescent"})})()}presentToast($e){var se=this;return(0,l.c)(function*(){(yield se.toastCtrl.create($e)).present()})()}routerLink($e){var se=this;return(0,l.c)(function*(){return se.router.navigateByUrl($e)})()}saveInLocalStorage($e,se){localStorage.setItem($e,JSON.stringify(se))}getFromLocalStorage($e){return JSON.parse(localStorage.getItem($e))}isOnline(){return navigator.onLine}}return(he=te).\u0275fac=function($e){return new($e||he)(F.CoB(B.Kg),F.CoB(B.Gq),F.CoB(K.E5))},he.\u0275prov=F.wxM({token:he,factory:he.\u0275fac,providedIn:"root"}),te})()},472:(tn,Qe,A)=>{"use strict";var l=A(4476),F=A(4496),B=A(9148),K=A(304),ye=A(2112);let he=(()=>{var kt;class bt{constructor(){}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275cmp=F.In1({type:kt,selectors:[["app-root"]],decls:2,vars:0,template:function(xt,Cn){1&xt&&(F.I0R(0,"ion-app"),F.wR5(1,"ion-router-outlet"),F.C$Y())},dependencies:[ye.qk,ye.Cg]}),bt})();var te=A(9008),de=A(6088);const Y=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([A.e(9312),A.e(5060)]).then(A.bind(A,5060)).then(kt=>kt.AuthPageModule),canActivate:[(()=>{var kt;class bt{constructor(){this.firebaseSvc=(0,F.uUt)(te.R),this.utilsSvc=(0,F.uUt)(de.e)}canActivate(xt,Cn){return new Promise(zn=>{this.firebaseSvc.getAuth().onAuthStateChanged(Mn=>{Mn?(this.utilsSvc.routerLink("/main/home"),zn(!1)):zn(!0)})})}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275prov=F.wxM({token:kt,factory:kt.\u0275fac,providedIn:"root"}),bt})()]},{path:"main",loadChildren:()=>A.e(220).then(A.bind(A,220)).then(kt=>kt.MainPageModule),canActivate:[(()=>{var kt;class bt{constructor(){this.firebaseSvc=(0,F.uUt)(te.R),this.utilsSvc=(0,F.uUt)(de.e)}canActivate(xt,Cn){let zn=localStorage.getItem("user");return new Promise(Mn=>{this.firebaseSvc.getAuth().onAuthStateChanged(Sn=>{Sn?zn&&Mn(!0):(this.utilsSvc.routerLink("/auth"),Mn(!1))})})}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275prov=F.wxM({token:kt,factory:kt.\u0275fac,providedIn:"root"}),bt})()]},{path:"home",loadChildren:()=>Promise.all([A.e(3609),A.e(9312)]).then(A.bind(A,3609)).then(kt=>kt.HomePageModule)}];let xe=(()=>{var kt;class bt{}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275mod=F.a4G({type:kt}),kt.\u0275inj=F.s3X({imports:[B.qQ.forRoot(Y,{preloadingStrategy:B.eu}),B.qQ]}),bt})();var Me=A(6e3);const Le_firebaseConfig={apiKey:"AIzaSyA2mCdHQA0EvbUfuf38-BIHo9GlKLniZF4",authDomain:"devsupo-f074f.firebaseapp.com",projectId:"devsupo-f074f",storageBucket:"devsupo-f074f.appspot.com",messagingSenderId:"733158526910",appId:"1:733158526910:web:f1e2a692ee70136315b3ef",measurementId:"G-P5NS3TMCBX"};var Fe=A(1368),tt=A(1424),We=A(3800),Ne=A(800),Ve=A(2700),rt=A(7228),fe=A(5657),Ke=A(3252),Ye=A(308);const Xe=new Ke._(Ye.K);var $=A(3412),be=A(4704),Ue=A(6684),ze=A(7368),et=A(2376),dt=A(8880),Ut=A(560),cn=A(5448);const lt={connector:()=>new fe.E};function Re(kt,bt=lt){const{connector:ln}=bt;return(0,cn.i)((xt,Cn)=>{const zn=ln();(0,Ut.Uv)(kt(function jt(kt){return new Ke._(bt=>kt.subscribe(bt))}(zn))).subscribe(Cn),Cn.add(xt.subscribe(zn))})}var me=A(3992),je=A(9212),Te=A(112),Tt=A(7773),Ft=A(320),It=A(7400);function nn(kt,bt){return bt?ln=>(0,rt.W)(bt.pipe((0,me.U)(1),function Gt(){return(0,cn.i)((kt,bt)=>{kt.subscribe((0,Tt.e)(bt,Ye.K))})}()),ln.pipe(nn(kt))):(0,It.O)((ln,xt)=>(0,Ut.Uv)(kt(ln,xt)).pipe((0,me.U)(1),(0,Ft.e)(ln)))}var Dn=A(3048);const ht="Service workers are disabled or not supported by this browser";class yn{constructor(bt){if(this.serviceWorker=bt,bt){const xt=(0,Ne.w)(bt,"controllerchange").pipe((0,be.k)(()=>bt.controller)),Cn=(0,tt.Q)(()=>(0,Ve.of)(bt.controller)),zn=(0,rt.W)(Cn,xt);this.worker=zn.pipe((0,Ue.I)(Ge=>!!Ge)),this.registration=this.worker.pipe((0,ze.G)(()=>bt.getRegistration()));const ie=(0,Ne.w)(bt,"message").pipe((0,be.k)(Ge=>Ge.data)).pipe((0,Ue.I)(Ge=>Ge&&Ge.type)).pipe(function ke(kt){return kt?bt=>Re(kt)(bt):bt=>function Ie(kt,bt){const ln=(0,dt.m)(kt)?kt:()=>kt;return(0,dt.m)(bt)?Re(bt,{connector:ln}):xt=>new et.C(xt,ln)}(new fe.E)(bt)}());ie.connect(),this.events=ie}else this.worker=this.events=this.registration=function Wt(kt){return(0,tt.Q)(()=>(0,We.c)(new Error(kt)))}(ht)}postMessage(bt,ln){return this.worker.pipe((0,me.U)(1),(0,je.y)(xt=>{xt.postMessage({action:bt,...ln})})).toPromise().then(()=>{})}postMessageWithOperation(bt,ln,xt){const Cn=this.waitForOperationCompleted(xt),zn=this.postMessage(bt,ln);return Promise.all([zn,Cn]).then(([,Mn])=>Mn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(bt){let ln;return ln="string"==typeof bt?xt=>xt.type===bt:xt=>bt.includes(xt.type),this.events.pipe((0,Ue.I)(ln))}nextEventOfType(bt){return this.eventsOfType(bt).pipe((0,me.U)(1))}waitForOperationCompleted(bt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ue.I)(ln=>ln.nonce===bt),(0,me.U)(1),(0,be.k)(ln=>{if(void 0!==ln.result)return ln.result;throw new Error(ln.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ot=(()=>{var kt;class bt{get isEnabled(){return this.sw.isEnabled}constructor(xt){if(this.sw=xt,this.pushManager=null,this.subscriptionChanges=new fe.E,!xt.isEnabled)return this.messages=Xe,this.notificationClicks=Xe,void(this.subscription=Xe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,be.k)(zn=>zn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,be.k)(zn=>zn.data)),this.pushManager=this.sw.registration.pipe((0,be.k)(zn=>zn.pushManager));const Cn=this.pushManager.pipe((0,ze.G)(zn=>zn.getSubscription()));this.subscription=(0,$.U)(Cn,this.subscriptionChanges)}requestSubscription(xt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ht));const Cn={userVisibleOnly:!0};let zn=this.decodeBase64(xt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Mn=new Uint8Array(new ArrayBuffer(zn.length));for(let Sn=0;Sn<zn.length;Sn++)Mn[Sn]=zn.charCodeAt(Sn);return Cn.applicationServerKey=Mn,this.pushManager.pipe((0,ze.G)(Sn=>Sn.subscribe(Cn)),(0,me.U)(1)).toPromise().then(Sn=>(this.subscriptionChanges.next(Sn),Sn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,me.U)(1),(0,ze.G)(Cn=>{if(null===Cn)throw new Error("Not subscribed to push notifications.");return Cn.unsubscribe().then(zn=>{if(!zn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ht))}decodeBase64(xt){return atob(xt)}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)(F.CoB(yn))},kt.\u0275prov=F.wxM({token:kt,factory:kt.\u0275fac}),bt})(),gn=(()=>{var kt;class bt{get isEnabled(){return this.sw.isEnabled}constructor(xt){if(this.sw=xt,!xt.isEnabled)return this.versionUpdates=Xe,void(this.unrecoverable=Xe);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ht));const xt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:xt},xt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ht));const xt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:xt},xt)}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)(F.CoB(yn))},kt.\u0275prov=F.wxM({token:kt,factory:kt.\u0275fac}),bt})();const hn=new F.UbH("");function An(kt,bt,ln,xt){return()=>{if(!(0,Fe.c0)(xt)||!("serviceWorker"in navigator)||!1===ln.enabled)return;let Cn;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ln.registrationStrategy)Cn=ln.registrationStrategy();else{const[Mn,...Sn]=(ln.registrationStrategy||"registerWhenStable:30000").split(":");switch(Mn){case"registerImmediately":Cn=(0,Ve.of)(null);break;case"registerWithDelay":Cn=nr(+Sn[0]||0);break;case"registerWhenStable":Cn=Sn[0]?(0,$.U)(Ln(kt),nr(+Sn[0])):Ln(kt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ln.registrationStrategy}`)}}kt.get(F.WW2).runOutsideAngular(()=>Cn.pipe((0,me.U)(1)).subscribe(()=>navigator.serviceWorker.register(bt,{scope:ln.scope}).catch(Mn=>console.error("Service worker registration failed with:",Mn))))}}function nr(kt){return(0,Ve.of)(null).pipe(function gt(kt,bt=Te.M){const ln=function Ct(kt=0,bt,ln=Te.a){let xt=-1;return null!=bt&&((0,Dn.G)(bt)?ln=bt:xt=bt),new Ke._(Cn=>{let zn=function Tn(kt){return kt instanceof Date&&!isNaN(kt)}(kt)?+kt-ln.now():kt;zn<0&&(zn=0);let Mn=0;return ln.schedule(function(){Cn.closed||(Cn.next(Mn++),0<=xt?this.schedule(void 0,xt):Cn.complete())},zn)})}(kt,bt);return nn(()=>ln)}(kt))}function Ln(kt){return kt.get(F.Swk).isStable.pipe((0,Ue.I)(ln=>ln))}function qn(kt,bt){return new yn((0,Fe.c0)(bt)&&!1!==kt.enabled?navigator.serviceWorker:void 0)}class fn{}function Pn(kt,bt={}){return(0,F.AFj)([Ot,gn,{provide:hn,useValue:kt},{provide:fn,useValue:bt},{provide:yn,useFactory:qn,deps:[fn,F.AHE]},{provide:F.kZF,useFactory:An,deps:[F.zZn,hn,fn,F.AHE],multi:!0}])}let pr=(()=>{var kt;class bt{static register(xt,Cn={}){return{ngModule:bt,providers:[Pn(xt,Cn)]}}}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275mod=F.a4G({type:kt}),kt.\u0275inj=F.s3X({providers:[Ot,gn]}),bt})();var br=A(9460),or=A(6964);function Bn(kt){return()=>kt.initializeAppData()}let dr=(()=>{var kt;class bt{}return(kt=bt).\u0275fac=function(xt){return new(xt||kt)},kt.\u0275mod=F.a4G({type:kt,bootstrap:[he]}),kt.\u0275inj=F.s3X({providers:[{provide:B.XE,useClass:K.um},{provide:F.kZF,useFactory:Bn,deps:[or.A],multi:!0}],imports:[l.iE,ye.wZ.forRoot(),xe,Me.UN.initializeApp(Le_firebaseConfig),br.Se.enablePersistence(),pr.register("ngsw-worker.js",{enabled:!(0,F.sPQ)(),registrationStrategy:"registerWhenStable:30000"}),B.qQ]}),bt})();(0,F.agy)(),l.o_().bootstrapModule(dr).catch(kt=>console.log(kt))},6700:(tn,Qe,A)=>{"use strict";A.d(Qe,{g:()=>F});var l=A(5657);class F extends l.E{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const ye=super._subscribe(K);return!ye.closed&&K.next(this._value),ye}getValue(){const{hasError:K,thrownError:ye,_value:he}=this;if(K)throw ye;return this._throwIfClosed(),he}next(K){super.next(this._value=K)}}},3252:(tn,Qe,A)=>{"use strict";A.d(Qe,{_:()=>de});var l=A(1760),F=A(6928),B=A(8091),K=A(3928),ye=A(4491),he=A(8880),te=A(2075);let de=(()=>{class xe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Fe=new xe;return Fe.source=this,Fe.operator=Le,Fe}subscribe(Le,Fe,tt){const We=function Y(xe){return xe&&xe instanceof l.yR||function se(xe){return xe&&(0,he.m)(xe.next)&&(0,he.m)(xe.error)&&(0,he.m)(xe.complete)}(xe)&&(0,F.GI)(xe)}(Le)?Le:new l.ot(Le,Fe,tt);return(0,te.c)(()=>{const{operator:Ne,source:Ve}=this;We.add(Ne?Ne.call(We,Ve):Ve?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Fe){Le.error(Fe)}}forEach(Le,Fe){return new(Fe=$e(Fe))((tt,We)=>{const Ne=new l.ot({next:Ve=>{try{Le(Ve)}catch(rt){We(rt),Ne.unsubscribe()}},error:We,complete:tt});this.subscribe(Ne)})}_subscribe(Le){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Le)}[B.a](){return this}pipe(...Le){return(0,K.Y)(Le)(this)}toPromise(Le){return new(Le=$e(Le))((Fe,tt)=>{let We;this.subscribe(Ne=>We=Ne,Ne=>tt(Ne),()=>Fe(We))})}}return xe.create=Me=>new xe(Me),xe})();function $e(xe){var Me;return null!==(Me=null!=xe?xe:ye.config.Promise)&&void 0!==Me?Me:Promise}},5657:(tn,Qe,A)=>{"use strict";A.d(Qe,{E:()=>te});var l=A(3252),F=A(6928);const K=(0,A(4912).w)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=A(1248),he=A(2075);let te=(()=>{class $e extends l._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const xe=new de(this,this);return xe.operator=Y,xe}_throwIfClosed(){if(this.closed)throw new K}next(Y){(0,he.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(Y)}})}error(Y){(0,he.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:xe}=this;for(;xe.length;)xe.shift().error(Y)}})}complete(){(0,he.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:xe,isStopped:Me,observers:Le}=this;return xe||Me?F.au:(this.currentObservers=null,Le.push(Y),new F.wH(()=>{this.currentObservers=null,(0,ye.k)(Le,Y)}))}_checkFinalizedStatuses(Y){const{hasError:xe,thrownError:Me,isStopped:Le}=this;xe?Y.error(Me):Le&&Y.complete()}asObservable(){const Y=new l._;return Y.source=this,Y}}return $e.create=(se,Y)=>new de(se,Y),$e})();class de extends te{constructor(se,Y){super(),this.destination=se,this.source=Y}next(se){var Y,xe;null===(xe=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===xe||xe.call(Y,se)}error(se){var Y,xe;null===(xe=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===xe||xe.call(Y,se)}complete(){var se,Y;null===(Y=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===Y||Y.call(se)}_subscribe(se){var Y,xe;return null!==(xe=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(se))&&void 0!==xe?xe:F.au}}},1760:(tn,Qe,A)=>{"use strict";A.d(Qe,{ot:()=>tt,yR:()=>xe});var l=A(8880),F=A(6928),B=A(4491),K=A(1984),ye=A(308);const he=$e("C",void 0,void 0);function $e(fe,Ke,Ye){return{kind:fe,value:Ke,error:Ye}}var se=A(3376),Y=A(2075);class xe extends F.wH{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,F.GI)(Ke)&&Ke.add(this)):this.destination=rt}static create(Ke,Ye,Xe){return new tt(Ke,Ye,Xe)}next(Ke){this.isStopped?Ve(function de(fe){return $e("N",fe,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?Ve(function te(fe){return $e("E",void 0,fe)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?Ve(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Le(fe,Ke){return Me.call(fe,Ke)}class Fe{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Ke)}catch(Xe){We(Xe)}}error(Ke){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Ke)}catch(Xe){We(Xe)}else We(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Ye){We(Ye)}}}class tt extends xe{constructor(Ke,Ye,Xe){let ge;if(super(),(0,l.m)(Ke)||!Ke)ge={next:null!=Ke?Ke:void 0,error:null!=Ye?Ye:void 0,complete:null!=Xe?Xe:void 0};else{let $;this&&B.config.useDeprecatedNextContext?($=Object.create(Ke),$.unsubscribe=()=>this.unsubscribe(),ge={next:Ke.next&&Le(Ke.next,$),error:Ke.error&&Le(Ke.error,$),complete:Ke.complete&&Le(Ke.complete,$)}):ge=Ke}this.destination=new Fe(ge)}}function We(fe){B.config.useDeprecatedSynchronousErrorHandling?(0,Y.q)(fe):(0,K.U)(fe)}function Ve(fe,Ke){const{onStoppedNotification:Ye}=B.config;Ye&&se.u.setTimeout(()=>Ye(fe,Ke))}const rt={closed:!0,next:ye.K,error:function Ne(fe){throw fe},complete:ye.K}},6928:(tn,Qe,A)=>{"use strict";A.d(Qe,{au:()=>he,wH:()=>ye,GI:()=>te});var l=A(8880);const B=(0,A(4912).w)($e=>function(Y){$e(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((xe,Me)=>`${Me+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var K=A(1248);class ye{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Le of Y)Le.remove(this);else Y.remove(this);const{initialTeardown:xe}=this;if((0,l.m)(xe))try{xe()}catch(Le){se=Le instanceof B?Le.errors:[Le]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Le of Me)try{de(Le)}catch(Fe){se=null!=se?se:[],Fe instanceof B?se=[...se,...Fe.errors]:se.push(Fe)}}if(se)throw new B(se)}}add(se){var Y;if(se&&se!==this)if(this.closed)de(se);else{if(se instanceof ye){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(se)}}_hasParent(se){const{_parentage:Y}=this;return Y===se||Array.isArray(Y)&&Y.includes(se)}_addParent(se){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(se),Y):Y?[Y,se]:se}_removeParent(se){const{_parentage:Y}=this;Y===se?this._parentage=null:Array.isArray(Y)&&(0,K.k)(Y,se)}remove(se){const{_finalizers:Y}=this;Y&&(0,K.k)(Y,se),se instanceof ye&&se._removeParent(this)}}ye.EMPTY=(()=>{const $e=new ye;return $e.closed=!0,$e})();const he=ye.EMPTY;function te($e){return $e instanceof ye||$e&&"closed"in $e&&(0,l.m)($e.remove)&&(0,l.m)($e.add)&&(0,l.m)($e.unsubscribe)}function de($e){(0,l.m)($e)?$e():$e.unsubscribe()}},4491:(tn,Qe,A)=>{"use strict";A.d(Qe,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(tn,Qe,A)=>{"use strict";A.d(Qe,{C:()=>he});var l=A(3252),F=A(6928),B=A(8084),K=A(7773),ye=A(5448);class he extends l._{constructor(de,$e){super(),this.source=de,this.subjectFactory=$e,this._subject=null,this._refCount=0,this._connection=null,(0,ye.e)(de)&&(this.lift=de.lift)}_subscribe(de){return this.getSubject().subscribe(de)}getSubject(){const de=this._subject;return(!de||de.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:de}=this;this._subject=this._connection=null,null==de||de.unsubscribe()}connect(){let de=this._connection;if(!de){de=this._connection=new F.wH;const $e=this.getSubject();de.add(this.source.subscribe((0,K.e)($e,void 0,()=>{this._teardown(),$e.complete()},se=>{this._teardown(),$e.error(se)},()=>this._teardown()))),de.closed&&(this._connection=null,de=F.wH.EMPTY)}return de}refCount(){return(0,B.O)()(this)}}},6040:(tn,Qe,A)=>{"use strict";A.d(Qe,{E:()=>se});var l=A(3252),F=A(4300),B=A(9900),K=A(528),ye=A(4187),he=A(6624),te=A(7904),de=A(7773),$e=A(9399);function se(...Me){const Le=(0,he.e_)(Me),Fe=(0,he.yu)(Me),{args:tt,keys:We}=(0,F.Q)(Me);if(0===tt.length)return(0,B.Q)([],Le);const Ne=new l._(function Y(Me,Le,Fe=K.Z){return tt=>{xe(Le,()=>{const{length:We}=Me,Ne=new Array(We);let Ve=We,rt=We;for(let fe=0;fe<We;fe++)xe(Le,()=>{const Ke=(0,B.Q)(Me[fe],Le);let Ye=!1;Ke.subscribe((0,de.e)(tt,Xe=>{Ne[fe]=Xe,Ye||(Ye=!0,rt--),rt||tt.next(Fe(Ne.slice()))},()=>{--Ve||tt.complete()}))},tt)},tt)}}(tt,Le,We?Ve=>(0,te.q)(We,Ve):K.Z));return Fe?Ne.pipe((0,ye.j)(Fe)):Ne}function xe(Me,Le,Fe){Me?(0,$e._)(Fe,Me,Le):Le()}},7228:(tn,Qe,A)=>{"use strict";A.d(Qe,{W:()=>ye});var l=A(267),B=A(6624),K=A(9900);function ye(...he){return function F(){return(0,l.u)(1)}()((0,K.Q)(he,(0,B.e_)(he)))}},1424:(tn,Qe,A)=>{"use strict";A.d(Qe,{Q:()=>B});var l=A(3252),F=A(560);function B(K){return new l._(ye=>{(0,F.Uv)(K()).subscribe(ye)})}},8960:(tn,Qe,A)=>{"use strict";A.d(Qe,{k:()=>F});const F=new(A(3252)._)(ye=>ye.complete())},9900:(tn,Qe,A)=>{"use strict";A.d(Qe,{Q:()=>Ke});var l=A(560),F=A(3920),B=A(2924),he=A(3252),de=A(3835),$e=A(8880),se=A(9399);function xe(Ye,Xe){if(!Ye)throw new Error("Iterable cannot be null");return new he._(ge=>{(0,se._)(ge,Xe,()=>{const $=Ye[Symbol.asyncIterator]();(0,se._)(ge,Xe,()=>{$.next().then(be=>{be.done?ge.complete():ge.next(be.value)})},0,!0)})})}var Me=A(5099),Le=A(5432),Fe=A(5428),tt=A(1688),We=A(376),Ne=A(8272),Ve=A(5832);function Ke(Ye,Xe){return Xe?function fe(Ye,Xe){if(null!=Ye){if((0,Me.O)(Ye))return function K(Ye,Xe){return(0,l.Uv)(Ye).pipe((0,B.y)(Xe),(0,F.y)(Xe))}(Ye,Xe);if((0,Fe.G)(Ye))return function te(Ye,Xe){return new he._(ge=>{let $=0;return Xe.schedule(function(){$===Ye.length?ge.complete():(ge.next(Ye[$++]),ge.closed||this.schedule())})})}(Ye,Xe);if((0,Le.u)(Ye))return function ye(Ye,Xe){return(0,l.Uv)(Ye).pipe((0,B.y)(Xe),(0,F.y)(Xe))}(Ye,Xe);if((0,We.E)(Ye))return xe(Ye,Xe);if((0,tt.i)(Ye))return function Y(Ye,Xe){return new he._(ge=>{let $;return(0,se._)(ge,Xe,()=>{$=Ye[de.w](),(0,se._)(ge,Xe,()=>{let be,Ue;try{({value:be,done:Ue}=$.next())}catch(ze){return void ge.error(ze)}Ue?ge.complete():ge.next(be)},0,!0)}),()=>(0,$e.m)(null==$?void 0:$.return)&&$.return()})}(Ye,Xe);if((0,Ve.K)(Ye))return function rt(Ye,Xe){return xe((0,Ve._)(Ye),Xe)}(Ye,Xe)}throw(0,Ne.W)(Ye)}(Ye,Xe):(0,l.Uv)(Ye)}},800:(tn,Qe,A)=>{"use strict";A.d(Qe,{w:()=>se});var l=A(560),F=A(3252),B=A(7400),K=A(5428),ye=A(8880),he=A(4187);const te=["addListener","removeListener"],de=["addEventListener","removeEventListener"],$e=["on","off"];function se(Fe,tt,We,Ne){if((0,ye.m)(We)&&(Ne=We,We=void 0),Ne)return se(Fe,tt,We).pipe((0,he.j)(Ne));const[Ve,rt]=function Le(Fe){return(0,ye.m)(Fe.addEventListener)&&(0,ye.m)(Fe.removeEventListener)}(Fe)?de.map(fe=>Ke=>Fe[fe](tt,Ke,We)):function xe(Fe){return(0,ye.m)(Fe.addListener)&&(0,ye.m)(Fe.removeListener)}(Fe)?te.map(Y(Fe,tt)):function Me(Fe){return(0,ye.m)(Fe.on)&&(0,ye.m)(Fe.off)}(Fe)?$e.map(Y(Fe,tt)):[];if(!Ve&&(0,K.G)(Fe))return(0,B.O)(fe=>se(fe,tt,We))((0,l.Uv)(Fe));if(!Ve)throw new TypeError("Invalid event target");return new F._(fe=>{const Ke=(...Ye)=>fe.next(1<Ye.length?Ye:Ye[0]);return Ve(Ke),()=>rt(Ke)})}function Y(Fe,tt){return We=>Ne=>Fe[We](tt,Ne)}},560:(tn,Qe,A)=>{"use strict";A.d(Qe,{Uv:()=>Me});var l=A(1316),F=A(5428),B=A(5432),K=A(3252),ye=A(5099),he=A(376),te=A(8272),de=A(1688),$e=A(5832),se=A(8880),Y=A(1984),xe=A(8091);function Me(fe){if(fe instanceof K._)return fe;if(null!=fe){if((0,ye.O)(fe))return function Le(fe){return new K._(Ke=>{const Ye=fe[xe.a]();if((0,se.m)(Ye.subscribe))return Ye.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,F.G)(fe))return function Fe(fe){return new K._(Ke=>{for(let Ye=0;Ye<fe.length&&!Ke.closed;Ye++)Ke.next(fe[Ye]);Ke.complete()})}(fe);if((0,B.u)(fe))return function tt(fe){return new K._(Ke=>{fe.then(Ye=>{Ke.closed||(Ke.next(Ye),Ke.complete())},Ye=>Ke.error(Ye)).then(null,Y.U)})}(fe);if((0,he.E)(fe))return Ne(fe);if((0,de.i)(fe))return function We(fe){return new K._(Ke=>{for(const Ye of fe)if(Ke.next(Ye),Ke.closed)return;Ke.complete()})}(fe);if((0,$e.K)(fe))return function Ve(fe){return Ne((0,$e._)(fe))}(fe)}throw(0,te.W)(fe)}function Ne(fe){return new K._(Ke=>{(function rt(fe,Ke){var Ye,Xe,ge,$;return(0,l.kH)(this,void 0,void 0,function*(){try{for(Ye=(0,l.mA)(fe);!(Xe=yield Ye.next()).done;)if(Ke.next(Xe.value),Ke.closed)return}catch(be){ge={error:be}}finally{try{Xe&&!Xe.done&&($=Ye.return)&&(yield $.call(Ye))}finally{if(ge)throw ge.error}}Ke.complete()})})(fe,Ke).catch(Ye=>Ke.error(Ye))})}},3412:(tn,Qe,A)=>{"use strict";A.d(Qe,{U:()=>he});var l=A(267),F=A(560),B=A(8960),K=A(6624),ye=A(9900);function he(...te){const de=(0,K.e_)(te),$e=(0,K._8)(te,1/0),se=te;return se.length?1===se.length?(0,F.Uv)(se[0]):(0,l.u)($e)((0,ye.Q)(se,de)):B.k}},2700:(tn,Qe,A)=>{"use strict";A.d(Qe,{of:()=>B});var l=A(6624),F=A(9900);function B(...K){const ye=(0,l.e_)(K);return(0,F.Q)(K,ye)}},3800:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>B});var l=A(3252),F=A(8880);function B(K,ye){const he=(0,F.m)(K)?K:()=>K,te=de=>de.error(he());return new l._(ye?de=>ye.schedule(te,0,de):te)}},7773:(tn,Qe,A)=>{"use strict";A.d(Qe,{e:()=>F});var l=A(1760);function F(K,ye,he,te,de){return new B(K,ye,he,te,de)}class B extends l.yR{constructor(ye,he,te,de,$e,se){super(ye),this.onFinalize=$e,this.shouldUnsubscribe=se,this._next=he?function(Y){try{he(Y)}catch(xe){ye.error(xe)}}:super._next,this._error=de?function(Y){try{de(Y)}catch(xe){ye.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(Y){ye.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},2156:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>B});var l=A(5448),F=A(7773);function B(K){return(0,l.i)((ye,he)=>{let te=!1;ye.subscribe((0,F.e)(he,de=>{te=!0,he.next(de)},()=>{te||he.next(K),he.complete()}))})}},4e3:(tn,Qe,A)=>{"use strict";A.d(Qe,{a:()=>K});var l=A(528),F=A(5448),B=A(7773);function K(he,te=l.Z){return he=null!=he?he:ye,(0,F.i)((de,$e)=>{let se,Y=!0;de.subscribe((0,B.e)($e,xe=>{const Me=te(xe);(Y||!he(se,Me))&&(Y=!1,se=Me,$e.next(xe))}))})}function ye(he,te){return he===te}},6684:(tn,Qe,A)=>{"use strict";A.d(Qe,{I:()=>B});var l=A(5448),F=A(7773);function B(K,ye){return(0,l.i)((he,te)=>{let de=0;he.subscribe((0,F.e)(te,$e=>K.call(ye,$e,de++)&&te.next($e)))})}},5084:(tn,Qe,A)=>{"use strict";A.d(Qe,{K:()=>te});var l=A(7696),F=A(6684),B=A(3992),K=A(2156),ye=A(8124),he=A(528);function te(de,$e){const se=arguments.length>=2;return Y=>Y.pipe(de?(0,F.I)((xe,Me)=>de(xe,Me,Y)):he.Z,(0,B.U)(1),se?(0,K.G)($e):(0,ye._)(()=>new l.G))}},4704:(tn,Qe,A)=>{"use strict";A.d(Qe,{k:()=>B});var l=A(5448),F=A(7773);function B(K,ye){return(0,l.i)((he,te)=>{let de=0;he.subscribe((0,F.e)(te,$e=>{te.next(K.call(ye,$e,de++))}))})}},320:(tn,Qe,A)=>{"use strict";A.d(Qe,{e:()=>F});var l=A(4704);function F(B){return(0,l.k)(()=>B)}},267:(tn,Qe,A)=>{"use strict";A.d(Qe,{u:()=>B});var l=A(7400),F=A(528);function B(K=1/0){return(0,l.O)(F.Z,K)}},7400:(tn,Qe,A)=>{"use strict";A.d(Qe,{O:()=>de});var l=A(4704),F=A(560),B=A(5448),K=A(9399),ye=A(7773),te=A(8880);function de($e,se,Y=1/0){return(0,te.m)(se)?de((xe,Me)=>(0,l.k)((Le,Fe)=>se(xe,Le,Me,Fe))((0,F.Uv)($e(xe,Me))),Y):("number"==typeof se&&(Y=se),(0,B.i)((xe,Me)=>function he($e,se,Y,xe,Me,Le,Fe,tt){const We=[];let Ne=0,Ve=0,rt=!1;const fe=()=>{rt&&!We.length&&!Ne&&se.complete()},Ke=Xe=>Ne<xe?Ye(Xe):We.push(Xe),Ye=Xe=>{Le&&se.next(Xe),Ne++;let ge=!1;(0,F.Uv)(Y(Xe,Ve++)).subscribe((0,ye.e)(se,$=>{null==Me||Me($),Le?Ke($):se.next($)},()=>{ge=!0},void 0,()=>{if(ge)try{for(Ne--;We.length&&Ne<xe;){const $=We.shift();Fe?(0,K._)(se,Fe,()=>Ye($)):Ye($)}fe()}catch($){se.error($)}}))};return $e.subscribe((0,ye.e)(se,Ke,()=>{rt=!0,fe()})),()=>{null==tt||tt()}}(xe,Me,$e,Y)))}},3920:(tn,Qe,A)=>{"use strict";A.d(Qe,{y:()=>K});var l=A(9399),F=A(5448),B=A(7773);function K(ye,he=0){return(0,F.i)((te,de)=>{te.subscribe((0,B.e)(de,$e=>(0,l._)(de,ye,()=>de.next($e),he),()=>(0,l._)(de,ye,()=>de.complete(),he),$e=>(0,l._)(de,ye,()=>de.error($e),he)))})}},8084:(tn,Qe,A)=>{"use strict";A.d(Qe,{O:()=>B});var l=A(5448),F=A(7773);function B(){return(0,l.i)((K,ye)=>{let he=null;K._refCount++;const te=(0,F.e)(ye,void 0,void 0,void 0,()=>{if(!K||K._refCount<=0||0<--K._refCount)return void(he=null);const de=K._connection,$e=he;he=null,de&&(!$e||de===$e)&&de.unsubscribe(),ye.unsubscribe()});K.subscribe(te),te.closed||(he=K.connect())})}},208:(tn,Qe,A)=>{"use strict";A.d(Qe,{K:()=>K});var l=A(5448),F=A(7773);function K(ye,he){return(0,l.i)(function B(ye,he,te,de,$e){return(se,Y)=>{let xe=te,Me=he,Le=0;se.subscribe((0,F.e)(Y,Fe=>{const tt=Le++;Me=xe?ye(Me,Fe,tt):(xe=!0,Fe),de&&Y.next(Me)},$e&&(()=>{xe&&Y.next(Me),Y.complete()})))}}(ye,he,arguments.length>=2,!0))}},5568:(tn,Qe,A)=>{"use strict";A.d(Qe,{W:()=>K});var l=A(7228),F=A(6624),B=A(5448);function K(...ye){const he=(0,F.e_)(ye);return(0,B.i)((te,de)=>{(he?(0,l.W)(ye,te,he):(0,l.W)(ye,te)).subscribe(de)})}},2924:(tn,Qe,A)=>{"use strict";A.d(Qe,{y:()=>F});var l=A(5448);function F(B,K=0){return(0,l.i)((ye,he)=>{he.add(B.schedule(()=>ye.subscribe(he),K))})}},7368:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>K});var l=A(560),F=A(5448),B=A(7773);function K(ye,he){return(0,F.i)((te,de)=>{let $e=null,se=0,Y=!1;const xe=()=>Y&&!$e&&de.complete();te.subscribe((0,B.e)(de,Me=>{null==$e||$e.unsubscribe();let Le=0;const Fe=se++;(0,l.Uv)(ye(Me,Fe)).subscribe($e=(0,B.e)(de,tt=>de.next(he?he(Me,tt,Fe,Le++):tt),()=>{$e=null,xe()}))},()=>{Y=!0,xe()}))})}},3992:(tn,Qe,A)=>{"use strict";A.d(Qe,{U:()=>K});var l=A(8960),F=A(5448),B=A(7773);function K(ye){return ye<=0?()=>l.k:(0,F.i)((he,te)=>{let de=0;he.subscribe((0,B.e)(te,$e=>{++de<=ye&&(te.next($e),ye<=de&&te.complete())}))})}},9212:(tn,Qe,A)=>{"use strict";A.d(Qe,{y:()=>ye});var l=A(8880),F=A(5448),B=A(7773),K=A(528);function ye(he,te,de){const $e=(0,l.m)(he)||te||de?{next:he,error:te,complete:de}:he;return $e?(0,F.i)((se,Y)=>{var xe;null===(xe=$e.subscribe)||void 0===xe||xe.call($e);let Me=!0;se.subscribe((0,B.e)(Y,Le=>{var Fe;null===(Fe=$e.next)||void 0===Fe||Fe.call($e,Le),Y.next(Le)},()=>{var Le;Me=!1,null===(Le=$e.complete)||void 0===Le||Le.call($e),Y.complete()},Le=>{var Fe;Me=!1,null===(Fe=$e.error)||void 0===Fe||Fe.call($e,Le),Y.error(Le)},()=>{var Le,Fe;Me&&(null===(Le=$e.unsubscribe)||void 0===Le||Le.call($e)),null===(Fe=$e.finalize)||void 0===Fe||Fe.call($e)}))}):K.Z}},8124:(tn,Qe,A)=>{"use strict";A.d(Qe,{_:()=>K});var l=A(7696),F=A(5448),B=A(7773);function K(he=ye){return(0,F.i)((te,de)=>{let $e=!1;te.subscribe((0,B.e)(de,se=>{$e=!0,de.next(se)},()=>$e?de.complete():de.error(he())))})}function ye(){return new l.G}},1364:(tn,Qe,A)=>{"use strict";A.d(Qe,{m:()=>ye});var l=A(6928);class F extends l.wH{constructor(te,de){super()}schedule(te,de=0){return this}}const B={setInterval(he,te,...de){const{delegate:$e}=B;return null!=$e&&$e.setInterval?$e.setInterval(he,te,...de):setInterval(he,te,...de)},clearInterval(he){const{delegate:te}=B;return((null==te?void 0:te.clearInterval)||clearInterval)(he)},delegate:void 0};var K=A(1248);class ye extends F{constructor(te,de){super(te,de),this.scheduler=te,this.work=de,this.pending=!1}schedule(te,de=0){var $e;if(this.closed)return this;this.state=te;const se=this.id,Y=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(Y,se,de)),this.pending=!0,this.delay=de,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(Y,this.id,de),this}requestAsyncId(te,de,$e=0){return B.setInterval(te.flush.bind(te,this),$e)}recycleAsyncId(te,de,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return de;null!=de&&B.clearInterval(de)}execute(te,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(te,de);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,de){let se,$e=!1;try{this.work(te)}catch(Y){$e=!0,se=Y||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:te,scheduler:de}=this,{actions:$e}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.k)($e,this),null!=te&&(this.id=this.recycleAsyncId(de,te,null)),this.delay=null,super.unsubscribe()}}}},9816:(tn,Qe,A)=>{"use strict";A.d(Qe,{k:()=>B});var l=A(5960);class F{constructor(ye,he=F.now){this.schedulerActionCtor=ye,this.now=he}schedule(ye,he=0,te){return new this.schedulerActionCtor(this,ye).schedule(te,he)}}F.now=l.K.now;class B extends F{constructor(ye,he=F.now){super(ye,he),this.actions=[],this._active=!1}flush(ye){const{actions:he}=this;if(this._active)return void he.push(ye);let te;this._active=!0;do{if(te=ye.execute(ye.state,ye.delay))break}while(ye=he.shift());if(this._active=!1,te){for(;ye=he.shift();)ye.unsubscribe();throw te}}}},112:(tn,Qe,A)=>{"use strict";A.d(Qe,{M:()=>B,a:()=>K});var l=A(1364);const B=new(A(9816).k)(l.m),K=B},5960:(tn,Qe,A)=>{"use strict";A.d(Qe,{K:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3376:(tn,Qe,A)=>{"use strict";A.d(Qe,{u:()=>l});const l={setTimeout(F,B,...K){const{delegate:ye}=l;return null!=ye&&ye.setTimeout?ye.setTimeout(F,B,...K):setTimeout(F,B,...K)},clearTimeout(F){const{delegate:B}=l;return((null==B?void 0:B.clearTimeout)||clearTimeout)(F)},delegate:void 0}},3835:(tn,Qe,A)=>{"use strict";A.d(Qe,{w:()=>F});const F=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8091:(tn,Qe,A)=>{"use strict";A.d(Qe,{a:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7696:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>F});const F=(0,A(4912).w)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},6624:(tn,Qe,A)=>{"use strict";A.d(Qe,{_8:()=>he,e_:()=>ye,yu:()=>K});var l=A(8880),F=A(3048);function B(te){return te[te.length-1]}function K(te){return(0,l.m)(B(te))?te.pop():void 0}function ye(te){return(0,F.G)(B(te))?te.pop():void 0}function he(te,de){return"number"==typeof B(te)?te.pop():de}},4300:(tn,Qe,A)=>{"use strict";A.d(Qe,{Q:()=>ye});const{isArray:l}=Array,{getPrototypeOf:F,prototype:B,keys:K}=Object;function ye(te){if(1===te.length){const de=te[0];if(l(de))return{args:de,keys:null};if(function he(te){return te&&"object"==typeof te&&F(te)===B}(de)){const $e=K(de);return{args:$e.map(se=>de[se]),keys:$e}}}return{args:te,keys:null}}},1248:(tn,Qe,A)=>{"use strict";function l(F,B){if(F){const K=F.indexOf(B);0<=K&&F.splice(K,1)}}A.d(Qe,{k:()=>l})},4912:(tn,Qe,A)=>{"use strict";function l(F){const K=F(ye=>{Error.call(ye),ye.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}A.d(Qe,{w:()=>l})},7904:(tn,Qe,A)=>{"use strict";function l(F,B){return F.reduce((K,ye,he)=>(K[ye]=B[he],K),{})}A.d(Qe,{q:()=>l})},2075:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>B,q:()=>K});var l=A(4491);let F=null;function B(ye){if(l.config.useDeprecatedSynchronousErrorHandling){const he=!F;if(he&&(F={errorThrown:!1,error:null}),ye(),he){const{errorThrown:te,error:de}=F;if(F=null,te)throw de}}else ye()}function K(ye){l.config.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ye)}},9399:(tn,Qe,A)=>{"use strict";function l(F,B,K,ye=0,he=!1){const te=B.schedule(function(){K(),he?F.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(F.add(te),!he)return te}A.d(Qe,{_:()=>l})},528:(tn,Qe,A)=>{"use strict";function l(F){return F}A.d(Qe,{Z:()=>l})},5428:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>l});const l=F=>F&&"number"==typeof F.length&&"function"!=typeof F},376:(tn,Qe,A)=>{"use strict";A.d(Qe,{E:()=>F});var l=A(8880);function F(B){return Symbol.asyncIterator&&(0,l.m)(null==B?void 0:B[Symbol.asyncIterator])}},8880:(tn,Qe,A)=>{"use strict";function l(F){return"function"==typeof F}A.d(Qe,{m:()=>l})},5099:(tn,Qe,A)=>{"use strict";A.d(Qe,{O:()=>B});var l=A(8091),F=A(8880);function B(K){return(0,F.m)(K[l.a])}},1688:(tn,Qe,A)=>{"use strict";A.d(Qe,{i:()=>B});var l=A(3835),F=A(8880);function B(K){return(0,F.m)(null==K?void 0:K[l.w])}},5432:(tn,Qe,A)=>{"use strict";A.d(Qe,{u:()=>F});var l=A(8880);function F(B){return(0,l.m)(null==B?void 0:B.then)}},5832:(tn,Qe,A)=>{"use strict";A.d(Qe,{K:()=>K,_:()=>B});var l=A(1316),F=A(8880);function B(ye){return(0,l.o7)(this,arguments,function*(){const te=ye.getReader();try{for(;;){const{value:de,done:$e}=yield(0,l.U1)(te.read());if($e)return yield(0,l.U1)(void 0);yield yield(0,l.U1)(de)}}finally{te.releaseLock()}})}function K(ye){return(0,F.m)(null==ye?void 0:ye.getReader)}},3048:(tn,Qe,A)=>{"use strict";A.d(Qe,{G:()=>F});var l=A(8880);function F(B){return B&&(0,l.m)(B.schedule)}},5448:(tn,Qe,A)=>{"use strict";A.d(Qe,{e:()=>F,i:()=>B});var l=A(8880);function F(K){return(0,l.m)(null==K?void 0:K.lift)}function B(K){return ye=>{if(F(ye))return ye.lift(function(he){try{return K(he,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(tn,Qe,A)=>{"use strict";A.d(Qe,{j:()=>K});var l=A(4704);const{isArray:F}=Array;function K(ye){return(0,l.k)(he=>function B(ye,he){return F(he)?ye(...he):ye(he)}(ye,he))}},308:(tn,Qe,A)=>{"use strict";function l(){}A.d(Qe,{K:()=>l})},3928:(tn,Qe,A)=>{"use strict";A.d(Qe,{W:()=>F,Y:()=>B});var l=A(528);function F(...K){return B(K)}function B(K){return 0===K.length?l.Z:1===K.length?K[0]:function(he){return K.reduce((te,de)=>de(te),he)}}},1984:(tn,Qe,A)=>{"use strict";A.d(Qe,{U:()=>B});var l=A(4491),F=A(3376);function B(K){F.u.setTimeout(()=>{const{onUnhandledError:ye}=l.config;if(!ye)throw K;ye(K)})}},8272:(tn,Qe,A)=>{"use strict";function l(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(Qe,{W:()=>l})},1480:(tn,Qe,A)=>{var l={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,68],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function F(B){if(!A.o(l,B))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+B+"'");throw he.code="MODULE_NOT_FOUND",he});var K=l[B],ye=K[0];return Promise.all(K.slice(1).map(A.e)).then(()=>A(ye))}F.keys=()=>Object.keys(l),F.id=1480,tn.exports=F},1368:(tn,Qe,A)=>{"use strict";A.d(Qe,{MD:()=>rs,MP:()=>We,OM:()=>Vs,Qd:()=>Le,Sg:()=>Ci,Ud:()=>te,XV:()=>st,YZ:()=>Is,_k:()=>Ho,ay:()=>we,c0:()=>os,mQ:()=>$e,mg:()=>ye,oB:()=>Ne,uC:()=>tt,u_:()=>De,uf:()=>Eo,ug:()=>K,uy:()=>B});var l=A(4496);let F=null;function B(){return F}function K(E){var S;null!==(S=F)&&void 0!==S||(F=E)}class ye{}const te=new l.UbH("");let de=(()=>{var E;class S{historyGo(k){throw new Error("")}}return(E=S).\u0275fac=function(k){return new(k||E)},E.\u0275prov=l.wxM({token:E,factory:()=>(0,l.uUt)(se),providedIn:"platform"}),S})();const $e=new l.UbH("");let se=(()=>{var E;class S extends de{constructor(){super(),this._doc=(0,l.uUt)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(k){const re=B().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",k,!1),()=>re.removeEventListener("popstate",k)}onHashChange(k){const re=B().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",k,!1),()=>re.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,re,ve){this._history.pushState(k,re,ve)}replaceState(k,re,ve){this._history.replaceState(k,re,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(E=S).\u0275fac=function(k){return new(k||E)},E.\u0275prov=l.wxM({token:E,factory:()=>new E,providedIn:"platform"}),S})();function Y(E,S){if(0==E.length)return S;if(0==S.length)return E;let Ee=0;return E.endsWith("/")&&Ee++,S.startsWith("/")&&Ee++,2==Ee?E+S.substring(1):1==Ee?E+S:E+"/"+S}function xe(E){const S=E.match(/#|\?|$/),Ee=S&&S.index||E.length;return E.slice(0,Ee-("/"===E[Ee-1]?1:0))+E.slice(Ee)}function Me(E){return E&&"?"!==E[0]?"?"+E:E}let Le=(()=>{var E;class S{historyGo(k){throw new Error("")}}return(E=S).\u0275fac=function(k){return new(k||E)},E.\u0275prov=l.wxM({token:E,factory:()=>(0,l.uUt)(tt),providedIn:"root"}),S})();const Fe=new l.UbH("");let tt=(()=>{var E;class S extends Le{constructor(k,re){var ve,ut,un;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(ve=null!==(ut=null!=re?re:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ut?ut:null===(un=(0,l.uUt)(te).location)||void 0===un?void 0:un.origin)&&void 0!==ve?ve:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Y(this._baseHref,k)}path(k=!1){const re=this._platformLocation.pathname+Me(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&k?`${re}${ve}`:re}pushState(k,re,ve,ut){const un=this.prepareExternalUrl(ve+Me(ut));this._platformLocation.pushState(k,re,un)}replaceState(k,re,ve,ut){const un=this.prepareExternalUrl(ve+Me(ut));this._platformLocation.replaceState(k,re,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var re,ve;null===(re=(ve=this._platformLocation).historyGo)||void 0===re||re.call(ve,k)}}return(E=S).\u0275fac=function(k){return new(k||E)(l.CoB(de),l.CoB(Fe,8))},E.\u0275prov=l.wxM({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),We=(()=>{var E;class S extends Le{constructor(k,re){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){var re;const ve=null!==(re=this._platformLocation.hash)&&void 0!==re?re:"#";return ve.length>0?ve.substring(1):ve}prepareExternalUrl(k){const re=Y(this._baseHref,k);return re.length>0?"#"+re:re}pushState(k,re,ve,ut){let un=this.prepareExternalUrl(ve+Me(ut));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(k,re,un)}replaceState(k,re,ve,ut){let un=this.prepareExternalUrl(ve+Me(ut));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(k,re,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var re,ve;null===(re=(ve=this._platformLocation).historyGo)||void 0===re||re.call(ve,k)}}return(E=S).\u0275fac=function(k){return new(k||E)(l.CoB(de),l.CoB(Fe,8))},E.\u0275prov=l.wxM({token:E,factory:E.\u0275fac}),S})(),Ne=(()=>{var E;class S{constructor(k){this._subject=new l._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const re=this._locationStrategy.getBaseHref();this._basePath=function Ke(E){if(new RegExp("^(https?:)?//").test(E)){const[,Ee]=E.split(/\/\/[^\/]+/);return Ee}return E}(xe(fe(re))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,re=""){return this.path()==this.normalize(k+Me(re))}normalize(k){return S.stripTrailingSlash(function rt(E,S){if(!E||!S.startsWith(E))return S;const Ee=S.substring(E.length);return""===Ee||["/",";","?","#"].includes(Ee[0])?Ee:S}(this._basePath,fe(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,re="",ve=null){this._locationStrategy.pushState(ve,"",k,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Me(re)),ve)}replaceState(k,re="",ve=null){this._locationStrategy.replaceState(ve,"",k,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Me(re)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var re,ve;null===(re=(ve=this._locationStrategy).historyGo)||void 0===re||re.call(ve,k)}onUrlChange(k){var re;return this._urlChangeListeners.push(k),null!==(re=this._urlChangeSubscription)&&void 0!==re||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(k);var ut;this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(null===(ut=this._urlChangeSubscription)||void 0===ut||ut.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",re){this._urlChangeListeners.forEach(ve=>ve(k,re))}subscribe(k,re,ve){return this._subject.subscribe({next:k,error:re,complete:ve})}}return(E=S).normalizeQueryParams=Me,E.joinWithSlash=Y,E.stripTrailingSlash=xe,E.\u0275fac=function(k){return new(k||E)(l.CoB(Le))},E.\u0275prov=l.wxM({token:E,factory:()=>function Ve(){return new Ne((0,l.CoB)(Le))}(),providedIn:"root"}),S})();function fe(E){return E.replace(/\/index.html$/,"")}function Ci(E,S){S=encodeURIComponent(S);for(const Ee of E.split(";")){const k=Ee.indexOf("="),[re,ve]=-1==k?[Ee,""]:[Ee.slice(0,k),Ee.slice(k+1)];if(re.trim()===S)return decodeURIComponent(ve)}return null}class Gi{constructor(S,Ee,k,re){this.$implicit=S,this.ngForOf=Ee,this.index=k,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let we=(()=>{var E;class S{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,re,ve){this._viewContainer=k,this._template=re,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const re=this._viewContainer;k.forEachOperation((ve,ut,un)=>{if(null==ve.previousIndex)re.createEmbeddedView(this._template,new Gi(ve.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)re.remove(null===ut?void 0:ut);else if(null!==ut){const Ht=re.get(ut);re.move(Ht,un),Se(Ht,ve)}});for(let ve=0,ut=re.length;ve<ut;ve++){const Ht=re.get(ve).context;Ht.index=ve,Ht.count=ut,Ht.ngForOf=this._ngForOf}k.forEachIdentityChange(ve=>{Se(re.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(k,re){return!0}}return(E=S).\u0275fac=function(k){return new(k||E)(l.GI1(l.y8U),l.GI1(l.Yw2),l.GI1(l.Uj7))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Se(E,S){E.context.$implicit=S.item}let De=(()=>{var E;class S{constructor(k,re){this._viewContainer=k,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){At("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){At("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,re){return!0}}return(E=S).\u0275fac=function(k){return new(k||E)(l.GI1(l.y8U),l.GI1(l.Yw2))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function At(E,S){if(S&&!S.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,l.GEN)(S)}'.`)}let st=(()=>{var E;class S{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(this._shouldRecreateView(k)){var re;const ve=this._viewContainerRef;if(this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ut=this._createContextForwardProxy();this._viewRef=ve.createEmbeddedView(this.ngTemplateOutlet,ut,{injector:null!==(re=this.ngTemplateOutletInjector)&&void 0!==re?re:void 0})}}_shouldRecreateView(k){return!!k.ngTemplateOutlet||!!k.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(k,re,ve)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,re,ve),get:(k,re,ve)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,re,ve)}})}}return(E=S).\u0275fac=function(k){return new(k||E)(l.GI1(l.y8U))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.SYr]}),S})(),rs=(()=>{var E;class S{}return(E=S).\u0275fac=function(k){return new(k||E)},E.\u0275mod=l.a4G({type:E}),E.\u0275inj=l.s3X({}),S})();const Ho="browser",Xi="server";function os(E){return E===Ho}function Eo(E){return E===Xi}let Is=(()=>{var E;class S{}return(E=S).\u0275prov=(0,l.wxM)({token:E,providedIn:"root",factory:()=>os((0,l.uUt)(l.AHE))?new wi((0,l.uUt)(te),window):new Wa}),S})();class wi{constructor(S,Ee){this.document=S,this.window=Ee,this.offset=()=>[0,0]}setOffset(S){this.offset=Array.isArray(S)?()=>S:S}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(S){this.window.scrollTo(S[0],S[1])}scrollToAnchor(S){const Ee=function Pi(E,S){const Ee=E.getElementById(S)||E.getElementsByName(S)[0];if(Ee)return Ee;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const k=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let re=k.currentNode;for(;re;){const ve=re.shadowRoot;if(ve){const ut=ve.getElementById(S)||ve.querySelector(`[name="${S}"]`);if(ut)return ut}re=k.nextNode()}}return null}(this.document,S);Ee&&(this.scrollToElement(Ee),Ee.focus())}setHistoryScrollRestoration(S){this.window.history.scrollRestoration=S}scrollToElement(S){const Ee=S.getBoundingClientRect(),k=Ee.left+this.window.pageXOffset,re=Ee.top+this.window.pageYOffset,ve=this.offset();this.window.scrollTo(k-ve[0],re-ve[1])}}class Wa{setOffset(S){}getScrollPosition(){return[0,0]}scrollToPosition(S){}scrollToAnchor(S){}setHistoryScrollRestoration(S){}}class Vs{}},4496:(tn,Qe,A)=>{"use strict";A.d(Qe,{qid:()=>NE,QHP:()=>Wp,kZF:()=>Pw,Ev2:()=>jR,Swk:()=>pd,YND:()=>Km,kD9:()=>Ww,ESV:()=>pR,ayF:()=>CR,syz:()=>Es,GMv:()=>kd,SIe:()=>bo,eAe:()=>qs,_w7:()=>el,_6O:()=>qt,UbH:()=>Yn,zZn:()=>Os,Uj7:()=>$E,YNh:()=>GE,KYU:()=>Q_,obV:()=>R0,oF$:()=>Ph,WW2:()=>io,T7N:()=>os,AHE:()=>ju,crf:()=>Hm,q87:()=>cI,O8F:()=>ad,yzm:()=>Qc,Qfh:()=>Zs,Yw2:()=>Nr,G4X:()=>aR,eOv:()=>Mw,j1C:()=>kM,a8Z:()=>Cw,y8U:()=>op,K6R:()=>ko,I44:()=>l_,cZD:()=>_P,kdu:()=>bP,SIz:()=>FI,Gk1:()=>UT,grM:()=>Bw,agy:()=>SR,wd:()=>Ge,uUt:()=>Jn,sPQ:()=>AR,_Ap:()=>ji,AFj:()=>Vi,m4O:()=>GR,o9M:()=>AP,SMS:()=>Xo,sRj:()=>IP,oPY:()=>Dw,i4S:()=>cl,GUM:()=>Tp,g9Y:()=>sp,OBp:()=>Ot,aS5:()=>Aw,Mn9:()=>Sw,iMv:()=>uE,G58:()=>gn,y02:()=>xC,IHs:()=>bt,K_M:()=>Zn,Guz:()=>Ul,w5$:()=>PE,gX2:()=>Rw,auf:()=>Wm,GEN:()=>Mn,eg9:()=>NI,Wk5:()=>bi,QJr:()=>M0,SYr:()=>Rs,M5G:()=>HD,UHJ:()=>zD,yG2:()=>Rv,e48:()=>KI,eAK:()=>JI,szK:()=>ID,In1:()=>ul,Sc5:()=>Fo,wxM:()=>Mt,s3X:()=>Qn,a4G:()=>Us,UTH:()=>bs,GI1:()=>cu,wR5:()=>oE,C_f:()=>lE,C$Y:()=>B_,I0R:()=>U_,KQA:()=>MC,otF:()=>Bm,CoB:()=>di,gJ8:()=>Tl,KEo:()=>Rf,qCj:()=>hE,Gqi:()=>DD,GaO:()=>uD,_Xx:()=>dD,kPM:()=>cD,E7m:()=>XI,_6D:()=>pE,q4q:()=>tw,wto:()=>CD,CGJ:()=>Ic,usT:()=>Id,K6U:()=>Xd,YFg:()=>og,yuY:()=>ap,OEk:()=>ND,cNF:()=>mE,oRS:()=>H_,kNx:()=>jD,iHE:()=>_E,OKB:()=>vE,CC$:()=>ED}),A(1528);let B=null,ye=1;const he=Symbol("SIGNAL");function te(t){const n=B;return B=t,n}function Le(t){if((!Xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==ye)){if(!t.producerMustRecompute(t)&&!rt(t))return t.dirty=!1,void(t.lastCleanEpoch=ye);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ye}}function rt(t){ge(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(Le(i),a!==i.version))return!0}return!1}function Ye(t,n){if(function $(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}(t),ge(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ye(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];ge(u),u.producerIndexOfThis[a]=n}}function Xe(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function ge(t){var n,i,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let cn=null;var Tn=A(5657),Ct=A(6928),gt=A(6700),ht=A(4704);const yn="https://g.co/ng/security#xss";class Ot extends Error{constructor(n,i){super(gn(n,i)),this.code=n}}function gn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function fn(t){return{toString:t}.toString()}const pr="__parameters__";function dr(t,n,i){return fn(()=>{const a=function Bn(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}(n);function u(...h){if(this instanceof u)return a.apply(this,h),this;const g=new u(...h);return v.annotation=g,v;function v(I,O,j){const Z=I.hasOwnProperty(pr)?I[pr]:Object.defineProperty(I,pr,{value:[]})[pr];for(;Z.length<=j;)Z.push(null);return(Z[j]=Z[j]||[]).push(g),I}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const bt=globalThis;function Cn(t){for(let n in t)if(t[n]===Cn)return n;throw Error("Could not find renamed property on target object.")}function zn(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Mn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Sn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ie=Cn({__forward_ref__:Cn});function Ge(t){return t.__forward_ref__=Ge,t.toString=function(){return Mn(this())},t}function pe(t){return Ae(t)?t():t}function Ae(t){return"function"==typeof t&&t.hasOwnProperty(ie)&&t.__forward_ref__===Ge}function Mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gn(t){return Pr(t,ni)||Pr(t,sr)}function Zn(t){return null!==Gn(t)}function Pr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ar(t){return t&&(t.hasOwnProperty(Ci)||t.hasOwnProperty(Di))?t[Ci]:null}const ni=Cn({\u0275prov:Cn}),Ci=Cn({\u0275inj:Cn}),sr=Cn({ngInjectableDef:Cn}),Di=Cn({ngInjectorDef:Cn});class Yn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Mt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rn(t){return t&&!!t.\u0275providers}const Yt=Cn({\u0275cmp:Cn}),kn=Cn({\u0275dir:Cn}),Wr=Cn({\u0275pipe:Cn}),vt=Cn({\u0275mod:Cn}),U=Cn({\u0275fac:Cn}),Q=Cn({__NG_ELEMENT_ID__:Cn}),He=Cn({__NG_ENV_ID__:Cn});function Be(t){return"string"==typeof t?t:null==t?"":String(t)}function vn(t,n){throw new Ot(-201,!1)}var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let Vn;function _r(){return Vn}function yr(t){const n=Vn;return Vn=t,n}function Vr(t,n,i){const a=Gn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&qt.Optional?null:void 0!==n?n:void vn()}const x={},ue="__NG_DI_FLAG__",it="ngTempTokenPath",Xr=/\n/gm,yi="__source";let Ri;function Yi(t){const n=Ri;return Ri=t,n}function ma(t,n=qt.Default){if(void 0===Ri)throw new Ot(-203,!1);return null===Ri?Vr(t,void 0,n):Ri.get(t,n&qt.Optional?null:void 0,n)}function di(t,n=qt.Default){return(_r()||ma)(pe(t),n)}function Jn(t,n=qt.Default){return di(t,Qi(n))}function Qi(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _s(t){const n=[];for(let i=0;i<t.length;i++){const a=pe(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ot(900,!1);let u,h=qt.Default;for(let g=0;g<a.length;g++){const v=a[g],I=Ho(v);"number"==typeof I?-1===I?u=v.token:h|=I:u=v}n.push(di(u,h))}else n.push(di(a))}return n}function rs(t,n){return t[ue]=n,t.prototype[ue]=n,t}function Ho(t){return t[ue]}const os=rs(dr("Optional"),8),Zs=rs(dr("SkipSelf"),4);function Oo(t,n){return t.hasOwnProperty(U)?t[U]:null}function Pi(t,n){t.forEach(i=>Array.isArray(i)?Pi(i,n):n(i))}function Wa(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Vs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ki(t,n,i){let a=si(t,n);return a>=0?t[1|a]=i:(a=~a,function ss(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Co(t,n){const i=si(t,n);if(i>=0)return t[1|i]}function si(t,n){return function as(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const h=a+(u-a>>1),g=t[h<<i];if(n===g)return h<<i;g>n?u=h:a=h+1}return~(u<<i)}(t,n,1)}const Sr={},xr=[],Es=new Yn(""),va=new Yn("",-1),Ko=new Yn("");class ls{get(n,i=x){if(i===x){const a=new Error(`NullInjectorError: No provider for ${Mn(n)}!`);throw a.name="NullInjectorError",a}return i}}var Cs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cs||{}),ko=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ko||{}),bi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(bi||{});function us(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=n.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}i=u+1}}function ai(t,n,i){let a=0;for(;a<i.length;){const u=i[a];if("number"==typeof u){if(0!==u)break;a++;const h=i[a++],g=i[a++],v=i[a++];t.setAttribute(n,g,v,h)}else{const h=u,g=i[++a];ea(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function Ha(t){return 3===t||4===t||6===t}function ea(t){return 64===t.charCodeAt(0)}function co(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||Ds(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function Ds(t,n,i,a,u){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const v=t[h++];if("number"==typeof v){if(v===n){g=-1;break}if(v>n){g=h-1;break}}}for(;h<t.length;){const v=t[h];if("number"==typeof v)break;if(v===i){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const ws="ng-template";function za(t,n,i,a){let u=0;if(a){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==us(n[u+1].toLowerCase(),i,0))return!0}else if(ta(t))return!1;if(u=n.indexOf(1,u),u>-1){let h;for(;++u<n.length&&"string"==typeof(h=n[u]);)if(h.toLowerCase()===i)return!0}return!1}function ta(t){return 4===t.type&&t.value!==ws}function V(t,n,i){return n===(4!==t.type||i?t.value:ws)}function P(t,n,i){let a=4;const u=t.attrs,h=null!==u?function wn(t){for(let n=0;n<t.length;n++)if(Ha(t[n]))return n;return t.length}(u):0;let g=!1;for(let v=0;v<n.length;v++){const I=n[v];if("number"!=typeof I){if(!g)if(4&a){if(a=2|1&a,""!==I&&!V(t,I,i)||""===I&&1===n.length){if(le(a))return!1;g=!0}}else if(8&a){if(null===u||!za(t,u,I,i)){if(le(a))return!1;g=!0}}else{const O=n[++v],j=L(I,u,ta(t),i);if(-1===j){if(le(a))return!1;g=!0;continue}if(""!==O){let Z;if(Z=j>h?"":u[j+1].toLowerCase(),2&a&&O!==Z){if(le(a))return!1;g=!0}}}}else{if(!g&&!le(a)&&!le(I))return!1;if(g&&le(I))continue;g=!1,a=I|1&a}}return le(a)||g}function le(t){return 0==(1&t)}function L(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let h=!1;for(;u<n.length;){const g=n[u];if(g===t)return u;if(3===g||6===g)h=!0;else{if(1===g||2===g){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=h?1:2}return-1}return function ri(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function Ce(t,n,i=!1){for(let a=0;a<n.length;a++)if(P(t,n[a],i))return!0;return!1}function Fi(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function oo(t,n){return t?":not("+n.trim()+")":n}function Do(t){let n=t[0],i=1,a=2,u="",h=!1;for(;i<t.length;){let g=t[i];if("string"==typeof g)if(2&a){const v=t[++i];u+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!le(g)&&(n+=oo(h,u),u=""),a=g,h=h||!le(a);i++}return""!==u&&(n+=oo(h,u)),n}function ul(t){return fn(()=>{var n;const i=Ji(t),a={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ko.Emulated,styles:t.styles||xr,_:null,schemas:t.schemas||null,tView:null,id:""};Bs(a);const u=t.dependencies;return a.directiveDefs=Ur(u,!1),a.pipeDefs=Ur(u,!0),a.id=function Wl(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function qo(t){return rr(t)||li(t)}function bu(t){return null!==t}function Us(t){return fn(()=>({type:t.type,bootstrap:t.bootstrap||xr,declarations:t.declarations||xr,imports:t.imports||xr,exports:t.exports||xr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ka(t,n){if(null==t)return Sr;const i={};for(const u in t)if(t.hasOwnProperty(u)){const h=t[u];let g,v,I=bi.None;var a;Array.isArray(h)?(I=h[0],g=h[1],v=null!==(a=h[2])&&void 0!==a?a:g):(g=h,v=h),n?(i[g]=I!==bi.None?[u,I]:u,n[g]=v):i[g]=u}return i}function Fo(t){return fn(()=>{const n=Ji(t);return Bs(n),n})}function bs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function rr(t){return t[Yt]||null}function li(t){return t[kn]||null}function ii(t){return t[Wr]||null}function ji(t){const n=rr(t)||li(t)||ii(t);return null!==n&&n.standalone}function Li(t,n){const i=t[vt]||null;if(!i&&!0===n)throw new Error(`Type ${Mn(t)} does not have '\u0275mod' property.`);return i}function Ji(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Sr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||xr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ka(t.inputs,n),outputs:Ka(t.outputs),debugInfo:null}}function Bs(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function Ur(t,n){if(!t)return null;const i=n?ii:qo;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(bu)}function Vi(t){return{\u0275providers:t}}function qa(...t){return{\u0275providers:Yo(0,t),\u0275fromNgModule:!0}}function Yo(t,...n){const i=[],a=new Set;let u;const h=g=>{i.push(g)};return Pi(n,g=>{const v=g;$s(v,h,[],a)&&(u||(u=[]),u.push(v))}),void 0!==u&&na(u,h),i}function na(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:u}=t[i];wo(u,h=>{n(h,a)})}}function $s(t,n,i,a){if(!(t=pe(t)))return!1;let u=null,h=Ar(t);const g=!h&&rr(t);if(h||g){if(g&&!g.standalone)return!1;u=t}else{const I=t.ngModule;if(h=Ar(I),!h)return!1;u=I}const v=a.has(u);if(g){if(v)return!1;if(a.add(u),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of I)$s(O,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let O;a.add(u);try{Pi(h.imports,j=>{$s(j,n,i,a)&&(O||(O=[]),O.push(j))})}finally{}void 0!==O&&na(O,n)}if(!v){const O=Oo(u)||(()=>new u);n({provide:u,useFactory:O,deps:xr},u),n({provide:Ko,useValue:u,multi:!0},u),n({provide:Es,useValue:()=>di(u),multi:!0},u)}const I=h.providers;if(null!=I&&!v){const O=t;wo(I,j=>{n(j,O)})}}}return u!==t&&void 0!==t.providers}function wo(t,n){for(let i of t)rn(i)&&(i=i.\u0275providers),Array.isArray(i)?wo(i,n):n(i)}const Lo=Cn({provide:String,useValue:Cn});function xi(t){return null!==t&&"object"==typeof t&&Lo in t}function To(t){return"function"==typeof t}const cl=new Yn(""),Vo={},fc={};let Ea;function Gs(){return void 0===Ea&&(Ea=new ls),Ea}class bo{}class Ca extends bo{get destroyed(){return this._destroyed}constructor(n,i,a,u){super(),this.parent=i,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ho(n,g=>this.processProvider(g)),this.records.set(va,Ao(void 0,this)),u.has("environment")&&this.records.set(bo,Ao(void 0,this));const h=this.records.get(cl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ko,xr,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=te(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Yi(this),a=yr(void 0);try{return n()}finally{Yi(i),yr(a)}}get(n,i=x,a=qt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(He))return n[He](this);a=Qi(a);const h=Yi(this),g=yr(void 0);try{if(!(a&qt.SkipSelf)){let I=this.records.get(n);if(void 0===I){const O=function Ni(t){return"function"==typeof t||"object"==typeof t&&t instanceof Yn}(n)&&Gn(n);I=O&&this.injectableDefInScope(O)?Ao(Da(n),Vo):null,this.records.set(n,I)}if(null!=I)return this.hydrate(n,I)}return(a&qt.Self?Gs():this.parent).get(n,i=a&qt.Optional&&i===x?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[it]=v[it]||[]).unshift(Mn(n)),h)throw v;return function Xi(t,n,i,a){const u=t[it];throw n[yi]&&u.unshift(n[yi]),t.message=function No(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Mn(n);if(Array.isArray(n))u=n.map(Mn).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let v=n[g];h.push(g+":"+("string"==typeof v?JSON.stringify(v):Mn(v)))}u=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(Xr,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[it]=null,t}(v,n,"R3InjectorError",this.source)}throw v}finally{yr(g),Yi(h)}}resolveInjectorInitializers(){const n=te(null),i=Yi(this),a=yr(void 0);try{const h=this.get(Es,xr,qt.Self);for(const g of h)g()}finally{Yi(i),yr(a),te(n)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Mn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(n){let i=To(n=pe(n))?n:pe(n&&n.provide);const a=function ia(t){return xi(t)?Ao(void 0,t.useValue):Ao(Su(t),Vo)}(n);if(!To(n)&&!0===n.multi){let u=this.records.get(i);u||(u=Ao(void 0,Vo,!0),u.factory=()=>_s(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,a)}hydrate(n,i){const a=te(null);try{return i.value===Vo&&(i.value=fc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function dl(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{te(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=pe(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Da(t){const n=Gn(t),i=null!==n?n.factory:Oo(t);if(null!==i)return i;if(t instanceof Yn)throw new Ot(204,!1);if(t instanceof Function)return function Au(t){if(t.length>0)throw new Ot(204,!1);const i=function Er(t){return t&&(t[ni]||t[sr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ot(204,!1)}function Su(t,n,i){let a;if(To(t)){const u=pe(t);return Oo(u)||Da(u)}if(xi(t))a=()=>pe(t.useValue);else if(function ya(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(..._s(t.deps||[]));else if(function ra(t){return!(!t||!t.useExisting)}(t))a=()=>di(pe(t.useExisting));else{const u=pe(t&&(t.useClass||t.provide));if(!function Qo(t){return!!t.deps}(t))return Oo(u)||Da(u);a=()=>new u(..._s(t.deps))}return a}function Ao(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ho(t,n){for(const i of t)Array.isArray(i)?ho(i,n):i&&rn(i)?ho(i.\u0275providers,n):n(i)}function Xo(t,n){t instanceof Ca&&t.assertNotDestroyed();const a=Yi(t),u=yr(void 0);try{return n()}finally{Yi(a),yr(u)}}function fo(){return void 0!==_r()||null!=function Ls(){return Ri}()}const $r=0,an=1,jn=2,Fr=3,hi=4,mi=5,Wi=6,ar=7,Yr=8,eo=9,Gr=10,en=11,Jo=12,Or=13,As=14,tr=15,bn=16,Ss=17,cs=18,js=19,Hl=20,So=21,Ws=22,es=23,gr=25,wa=1,Kr=7,oa=9,oi=10;var Ta=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ta||{});function pt(t){return Array.isArray(t)&&"object"==typeof t[wa]}function zi(t){return Array.isArray(t)&&!0===t[wa]}function so(t){return 0!=(4&t.flags)}function ba(t){return t.componentOffset>-1}function ds(t){return 1==(1&t.flags)}function Ui(t){return!!t.template}function Aa(t){return 0!=(512&t[jn])}class qr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function to(t,n,i,a){null!==n?n.applyValueToInputSignal(n,a):t[i]=a}function Rs(){return Ya}function Ya(t){return t.type.prototype.ngOnChanges&&(t.setInput=pl),fl}function fl(){const t=Ru(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Sr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function pl(t,n,i,a,u){const h=this.declaredInputs[a],g=Ru(t)||function Ma(t,n){return t[sa]=n}(t,{previous:Sr,current:null}),v=g.current||(g.current={}),I=g.previous,O=I[h];v[h]=new qr(O&&O.currentValue,i,I===Sr),to(t,n,u,i)}Rs.ngInherit=!0;const sa="__ngSimpleChanges__";function Ru(t){return t[sa]||null}const aa=function(t,n,i){};let Pu=!1;function ur(t){for(;Array.isArray(t);)t=t[$r];return t}function Si(t,n){return ur(n[t])}function wr(t,n){return ur(n[t.index])}function la(t,n){return t.data[n]}function Uo(t,n){const i=n[t];return pt(i)?i:i[$r]}function $i(t){return 128==(128&t[jn])}function po(t,n){return null==n?null:t[n]}function _i(t){t[Ss]=0}function Ra(t){1024&t[jn]||(t[jn]|=1024,$i(t)&&Pa(t))}function Xa(t){var n;return!!(9216&t[jn]||null!==(n=t[es])&&void 0!==n&&n.dirty)}function ml(t){var n;if(null===(n=t[Gr].changeDetectionScheduler)||void 0===n||n.notify(1),Xa(t))Pa(t);else if(64&t[jn])if(function Qa(){return Pu}())t[jn]|=1024,Pa(t);else{var i;null===(i=t[Gr].changeDetectionScheduler)||void 0===i||i.notify()}}function Pa(t){var n;null===(n=t[Gr].changeDetectionScheduler)||void 0===n||n.notify();let i=xs(t);for(;null!==i&&!(8192&i[jn])&&(i[jn]|=8192,$i(i));)i=xs(i)}function Hs(t,n){if(256==(256&t[jn]))throw new Ot(911,!1);null===t[So]&&(t[So]=[]),t[So].push(n)}function xs(t){const n=t[Fr];return zi(n)?n[Fr]:n}const ir={lFrame:jh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _c(){return ir.bindingsEnabled}function Na(){return null!==ir.skipHydrationRootTNode}function $t(){return ir.lFrame.lView}function Dr(){return ir.lFrame.tView}function Id(t){return ir.lFrame.contextLView=t,t[Yr]}function Ic(t){return ir.lFrame.contextLView=null,t}function Zr(){let t=Nu();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nu(){return ir.lFrame.currentTNode}function ui(t,n){const i=ir.lFrame;i.currentTNode=t,i.isParent=n}function Ec(){return ir.lFrame.isParent}function ci(){ir.lFrame.isParent=!1}function Ir(){return ir.lFrame.bindingIndex++}function Dd(t,n){const i=ir.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ou(n)}function Ou(t){ir.lFrame.currentDirectiveIndex=t}function Dc(){return ir.lFrame.currentQueryIndex}function ku(t){ir.lFrame.currentQueryIndex=t}function Pp(t){const n=t[an];return 2===n.type?n.declTNode:1===n.type?t[mi]:null}function Gh(t,n,i){if(i&qt.SkipSelf){let u=n,h=t;for(;!(u=u.parent,null!==u||i&qt.Host||(u=Pp(h),null===u||(h=h[As],10&u.type))););if(null===u)return!1;n=u,t=h}const a=ir.lFrame=bd();return a.currentTNode=n,a.lView=t,!0}function Td(t){const n=bd(),i=t[an];ir.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function bd(){const t=ir.lFrame,n=null===t?null:t.child;return null===n?jh(t):n}function jh(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ad(){const t=ir.lFrame;return ir.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wc=Ad;function Sd(){const t=Ad();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ao(){return ir.lFrame.selectedIndex}function fs(t){ir.lFrame.selectedIndex=t}function ei(){const t=ir.lFrame;return la(t.tView,t.selectedIndex)}let Md=!0;function Ns(){return Md}function ps(t){Md=t}function Ks(t,n){for(let O=n.directiveStart,j=n.directiveEnd;O<j;O++){const Oe=t.data[O].type.prototype,{ngAfterContentInit:Je,ngAfterContentChecked:mt,ngAfterViewInit:Vt,ngAfterViewChecked:dn,ngOnDestroy:_n}=Oe;var i,a,u,h,g,v,I;Je&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-O,Je),mt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(O,mt),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(O,mt)),Vt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-O,Vt),dn&&((null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(O,dn),(null!==(v=t.viewCheckHooks)&&void 0!==v?v:t.viewCheckHooks=[]).push(O,dn)),null!=_n&&(null!==(I=t.destroyHooks)&&void 0!==I?I:t.destroyHooks=[]).push(O,_n)}}function lo(t,n,i){Il(t,n,3,i)}function Ql(t,n,i,a){(3&t[jn])===i&&Il(t,n,i,a)}function Xl(t,n){let i=t[jn];(3&i)===n&&(i&=16383,i+=1,t[jn]=i)}function Il(t,n,i,a){const h=null!=a?a:-1,g=n.length-1;let v=0;for(let I=void 0!==a?65535&t[Ss]:0;I<g;I++)if("number"==typeof n[I+1]){if(v=n[I],null!=a&&v>=a)break}else n[I]<0&&(t[Ss]+=65536),(v<h||-1==h)&&(Np(t,i,n,I),t[Ss]=(4294901760&t[Ss])+I+2),I++}function Zl(t,n){aa(4,t,n);const i=te(null);try{n.call(t)}finally{te(i),aa(5,t,n)}}function Np(t,n,i,a){const u=i[a]<0,h=i[a+1],v=t[u?-i[a]:i[a]];u?t[jn]>>14<t[Ss]>>16&&(3&t[jn])===n&&(t[jn]+=16384,Zl(v,h)):Zl(v,h)}const gs=-1;class da{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function El(t){return t!==gs}function Cl(t){return 32767&t}function Jl(t,n){let i=function ha(t){return t>>16}(t),a=n;for(;i>0;)a=a[As],i--;return a}let Dl=!0;function y(t){const n=Dl;return Dl=t,n}const m=255,w=5;let H=0;const ce={};function Pt(t,n){const i=Hn(t,n);if(-1!==i)return i;const a=n[an];a.firstCreatePass&&(t.injectorIndex=n.length,sn(a.data,t),sn(n,null),sn(a.blueprint,null));const u=er(t,n),h=t.injectorIndex;if(El(u)){const g=Cl(u),v=Jl(u,n),I=v[an].data;for(let O=0;O<8;O++)n[h+O]=v[g+O]|I[g+O]}return n[h+8]=u,h}function sn(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Hn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function er(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){if(a=Fp(u),null===a)return gs;if(i++,u=u[As],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return gs}function Rr(t,n,i){!function at(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Q)&&(a=i[Q]),null==a&&(a=i[Q]=H++);const u=a&m;n.data[t+(u>>w)]|=1<<u}(t,n,i)}function Bo(t,n,i){if(i&qt.Optional||void 0!==t)return t;vn()}function eu(t,n,i,a){if(i&qt.Optional&&void 0===a&&(a=null),!(i&(qt.Self|qt.Host))){const u=t[eo],h=yr(void 0);try{return u?u.get(n,a,i&qt.Optional):Vr(n,a,i&qt.Optional)}finally{yr(h)}}return Bo(a,0,i)}function La(t,n,i,a=qt.Default,u){if(null!==t){if(2048&n[jn]&&!(a&qt.Self)){const g=function iy(t,n,i,a,u){let h=t,g=n;for(;null!==h&&null!==g&&2048&g[jn]&&!(512&g[jn]);){const v=Uu(h,g,i,a|qt.Self,ce);if(v!==ce)return v;let I=h.parent;if(!I){const O=g[Hl];if(O){const j=O.get(i,ce,a);if(j!==ce)return j}I=Fp(g),g=g[As]}h=I}return u}(t,n,i,a,ce);if(g!==ce)return g}const h=Uu(t,n,i,a,ce);if(h!==ce)return h}return eu(n,i,a,u)}function Uu(t,n,i,a,u){const h=function nu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof n?n>=0?n&m:Kh:n}(i);if("function"==typeof h){if(!Gh(n,t,a))return a&qt.Host?Bo(u,0,a):eu(n,i,a,u);try{let g;if(g=h(a),null!=g||a&qt.Optional)return g;vn()}finally{wc()}}else if("number"==typeof h){let g=null,v=Hn(t,n),I=gs,O=a&qt.Host?n[tr][mi]:null;for((-1===v||a&qt.SkipSelf)&&(I=-1===v?er(t,n):n[v+8],I!==gs&&bc(a,!1)?(g=n[an],v=Cl(I),n=Jl(I,n)):v=-1);-1!==v;){const j=n[an];if(Pd(h,v,j.data)){const Z=wl(v,n,i,g,a,O);if(Z!==ce)return Z}I=n[v+8],I!==gs&&bc(a,n[an].data[v+8]===O)&&Pd(h,v,n)?(g=j,v=Cl(I),n=Jl(I,n)):v=-1}}return u}function wl(t,n,i,a,u,h){const g=n[an],v=g.data[t+8],j=tu(v,g,i,null==a?ba(v)&&Dl:a!=g&&0!=(3&v.type),u&qt.Host&&h===v);return null!==j?fa(n,g,j,v):ce}function tu(t,n,i,a,u){const h=t.providerIndexes,g=n.data,v=1048575&h,I=t.directiveStart,j=h>>20,Oe=u?v+j:t.directiveEnd;for(let Je=a?v:v+j;Je<Oe;Je++){const mt=g[Je];if(Je<I&&i===mt||Je>=I&&mt.type===i)return Je}if(u){const Je=g[I];if(Je&&Ui(Je)&&Je.type===i)return I}return null}function fa(t,n,i,a){let u=t[i];const h=n.data;if(function Lu(t){return t instanceof da}(u)){const g=u;g.resolving&&function on(t,n){throw n&&n.join(" > "),new Ot(-200,t)}(function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Be(t)}(h[i]));const v=y(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?yr(g.injectImpl):null;Gh(t,a,qt.Default);try{u=t[i]=g.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Rd(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=n.type.prototype;if(a){var g,v;const Z=Ya(n);(null!==(g=i.preOrderHooks)&&void 0!==g?g:i.preOrderHooks=[]).push(t,Z),(null!==(v=i.preOrderCheckHooks)&&void 0!==v?v:i.preOrderCheckHooks=[]).push(t,Z)}var I,O,j;u&&(null!==(I=i.preOrderHooks)&&void 0!==I?I:i.preOrderHooks=[]).push(0-t,u),h&&((null!==(O=i.preOrderHooks)&&void 0!==O?O:i.preOrderHooks=[]).push(t,h),(null!==(j=i.preOrderCheckHooks)&&void 0!==j?j:i.preOrderCheckHooks=[]).push(t,h))}(i,h[i],n)}finally{null!==O&&yr(O),y(v),g.resolving=!1,wc()}}return u}function Pd(t,n,i){return!!(i[n+(t>>w)]&1<<t)}function bc(t,n){return!(t&qt.Self||t&qt.Host&&n)}class Ii{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return La(this._tNode,this._lView,n,Qi(a),i)}}function Kh(){return new Ii(Zr(),$t())}function Bm(t){return fn(()=>{const n=t.prototype.constructor,i=n[U]||Bu(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[U]||Bu(u);if(h&&h!==i)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Bu(t){return Ae(t)?()=>{const n=Bu(pe(t));return n&&n()}:Oo(t)}function Fp(t){const n=t[an],i=n.type;return 2===i?n.declTNode:1===i?t[mi]:null}function Tl(t){return function no(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const h=i[u];if(Ha(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(h===n)return i[u+1];u+=2}}}return null}(Zr(),t)}function $p(t,n=null,i=null,a){const u=Nd(t,n,i,a);return u.resolveInjectorInitializers(),u}function Nd(t,n=null,i=null,a,u=new Set){const h=[i||xr,qa(t)];return a=a||("object"==typeof t?void 0:Mn(t)),new Ca(h,n||Gs(),a||null,u)}let Os=(()=>{var t;class n{static create(a,u){if(Array.isArray(a))return $p({name:""},u,a,"");{var h;const g=null!==(h=a.name)&&void 0!==h?h:"";return $p({name:g},a.parent,a.providers,g)}}}return(t=n).THROW_IF_NOT_FOUND=x,t.NULL=new ls,t.\u0275prov=Mt({token:t,providedIn:"any",factory:()=>di(va)}),t.__NG_ELEMENT_ID__=-1,n})();function Od(t){return t.ngOriginalError}class qs{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Od(n);for(;i&&Od(i);)i=Od(i);return i||null}}const Ac=new Yn("",{providedIn:"root",factory:()=>Jn(qs).handleError.bind(void 0)});let Ja=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Gm,t.__NG_ENV_ID__=i=>i,n})();class Qh extends Ja{constructor(n){super(),this._lView=n}onDestroy(n){return Hs(this._lView,n),()=>function ua(t,n){if(null===t[So])return;const i=t[So].indexOf(n);-1!==i&&t[So].splice(i,1)}(this._lView,n)}}function Gm(){return new Qh($t())}function dy(){return Sc(Zr(),$t())}function Sc(t,n){return new kd(wr(t,n))}let kd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=dy,n})();function Xh(t){return t instanceof kd?t.nativeElement:t}function Zh(t){return n=>{setTimeout(t,void 0,n)}}const el=class Mc extends Tn.E{constructor(n=!1){var i;super(),this.destroyRef=void 0,this.__isAsync=n,fo()&&(this.destroyRef=null!==(i=Jn(Ja,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const i=te(null);try{super.next(n)}finally{te(i)}}subscribe(n,i,a){let u=n,h=i||(()=>null),g=a;if(n&&"object"==typeof n){var v,I,O;const Z=n;u=null===(v=Z.next)||void 0===v?void 0:v.bind(Z),h=null===(I=Z.error)||void 0===I?void 0:I.bind(Z),g=null===(O=Z.complete)||void 0===O?void 0:O.bind(Z)}this.__isAsync&&(h=Zh(h),u&&(u=Zh(u)),g&&(g=Zh(g)));const j=super.subscribe({next:u,error:h,complete:g});return n instanceof Ct.wH&&n.add(j),j}};function ro(){return this._results[Symbol.iterator]()}class Fd{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new el}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Fd.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=ro)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const a=function wi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Is(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=n[a];if(i&&(u=i(u),h=i(h)),h!==u)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ld(t){return 128==(128&t.flags)}let Ud;function Wm(t){Ud=t}const Wp=new Yn("",{providedIn:"root",factory:()=>hy}),hy="ng",Hm=new Yn(""),ju=new Yn("",{providedIn:"platform",factory:()=>"unknown"}),Km=new Yn("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Al(){if(void 0!==Ud)return Ud;if(typeof document<"u")return document;throw new Ot(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let qp=()=>null;function tf(t,n,i=!1){return qp(t,n,i)}const sf=new Yn("",{providedIn:"root",factory:()=>!1});let xc;function Qu(t){var n;return(null===(n=function Nc(){if(void 0===xc&&(xc=null,bt.trustedTypes))try{xc=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xc}())||void 0===n?void 0:n.createScriptURL(t))||t}class Oc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yn})`}}function Ga(t){return t instanceof Oc?t.changingThisBreaksApplicationSecurity:t}function su(t,n){const i=function nv(t){return t instanceof Oc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${yn})`)}return i===n}const yy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Bc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bc||{});function Xd(t){const n=Gc();return n?n.sanitize(Bc.URL,t)||"":su(t,"URL")?Ga(t):function uf(t){return(t=String(t)).match(yy)?t:"unsafe:"+t}(Be(t))}function $c(t){const n=Gc();if(n)return Qu(n.sanitize(Bc.RESOURCE_URL,t)||"");if(su(t,"ResourceURL"))return Qu(Ga(t));throw new Ot(904,!1)}function og(t,n,i){return function Sy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?$c:Xd}(n,i)(t)}function Gc(){const t=$t();return t&&t[Gr].sanitizer}const sg=/^>|^->|<!--|-->|--!>|<!-$/g,Ry=/(<|>)/g,cv="\u200b$1\u200b";const Zd=new Map;let pf=0;const gf="__ngContext__";function Po(t,n){pt(n)?(t[gf]=n[js],function pv(t){Zd.set(t[js],t)}(n)):t[gf]=n}function $o(t){return t instanceof Function?t():t}var Qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qc||{});let yg;function th(t,n){return yg(t,n)}function uu(t,n,i,a,u){if(null!=a){let h,g=!1;zi(a)?h=a:pt(a)&&(g=!0,a=a[$r]);const v=ur(a);0===t&&null!==i?null==u?tc(n,i,v):Nl(n,i,v,u||null,!0):1===t&&null!==i?Nl(n,i,v,u||null,!0):2===t?function ic(t,n,i){const a=kl(t,n);a&&function wg(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,v,g):3===t&&n.destroyNode(v),null!=h&&function Tv(t,n,i,a,u){const h=i[Kr];h!==ur(i)&&uu(n,t,a,h,u);for(let v=oi;v<i.length;v++){const I=i[v];ah(I[an],I,t,n,a,h)}}(n,t,h,i,u)}}function nh(t,n){return t.createComment(function dv(t){return t.replace(sg,n=>n.replace(Ry,cv))}(n))}function wf(t,n,i){return t.createElement(n,i)}function Ig(t,n){var i;null===(i=n[Gr].changeDetectionScheduler)||void 0===i||i.notify(1),ah(t,n,n[en],2,null,null)}function Tf(t,n){const i=t[oa],a=i.indexOf(n);i.splice(a,1)}function rh(t,n){if(t.length<=oi)return;const i=oi+n,a=t[i];if(a){const u=a[bn];null!==u&&u!==t&&Tf(u,a),n>0&&(t[i-1][hi]=a[hi]);const h=Vs(t,oi+n);!function By(t,n){Ig(t,n),n[$r]=null,n[mi]=null}(a[an],a);const g=h[cs];null!==g&&g.detachView(h[an]),a[Fr]=null,a[hi]=null,a[jn]&=-129}return a}function Xc(t,n){if(!(256&n[jn])){const i=n[en];i.destroyNode&&ah(t,n,i,3,null,null),function $y(t){let n=t[Jo];if(!n)return Cg(t[an],t);for(;n;){let i=null;if(pt(n))i=n[Jo];else{const a=n[oi];a&&(i=a)}if(!i){for(;n&&!n[hi]&&n!==t;)pt(n)&&Cg(n[an],n),n=n[Fr];null===n&&(n=t),pt(n)&&Cg(n[an],n),i=n&&n[hi]}n=i}}(n)}}function Cg(t,n){if(256&n[jn])return;const i=te(null);try{n[jn]&=-129,n[jn]|=256,n[es]&&function fe(t){if(ge(t),Xe(t))for(let n=0;n<t.producerNode.length;n++)Ye(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[es]),function Iv(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof da)){const h=i[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const v=u[h[g]],I=h[g+1];aa(4,v,I);try{I.call(v)}finally{aa(5,v,I)}}else{aa(4,u,h);try{h.call(u)}finally{aa(5,u,h)}}}}}(t,n),function Dg(t,n){const i=t.cleanup,a=n[ar];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const g=i[h+3];g>=0?a[g]():a[-g].unsubscribe(),h+=2}else i[h].call(a[i[h+1]]);null!==a&&(n[ar]=null);const u=n[So];if(null!==u){n[So]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,n),1===n[an].type&&n[en].destroy();const a=n[bn];if(null!==a&&zi(n[Fr])){a!==n[Fr]&&Tf(a,n);const u=n[cs];null!==u&&u.detachView(t)}!function xy(t){Zd.delete(t[js])}(n)}finally{te(i)}}function ih(t,n,i){return function bf(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[$r];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===ko.None||h===ko.Emulated)return null}return wr(a,i)}}(t,n.parent,i)}function Nl(t,n,i,a,u){t.insertBefore(n,i,a,u)}function tc(t,n,i){t.appendChild(n,i)}function Ol(t,n,i,a,u){null!==a?Nl(t,n,i,a,u):tc(t,n,i)}function kl(t,n){return t.parentNode(n)}function nc(t,n,i){return Dv(t,n,i)}let sh,Dv=function Cv(t,n,i){return 40&t.type?wr(t,i):null};function Zc(t,n,i,a){const u=ih(t,a,n),h=n[en],v=nc(a.parent||n[mi],a,n);if(null!=u)if(Array.isArray(i))for(let I=0;I<i.length;I++)Ol(h,u,i[I],v,!1);else Ol(h,u,i,v,!1);void 0!==sh&&sh(h,a,n,i,u)}function rc(t,n){if(null!==n){const i=n.type;if(3&i)return wr(n,t);if(4&i)return Tg(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return rc(t,a);{const u=t[n.index];return zi(u)?Tg(-1,u):ur(u)}}if(32&i)return th(n,t)()||ur(t[n.index]);{const a=wv(t,n);return null!==a?Array.isArray(a)?a[0]:rc(xs(t[tr]),a):rc(t,n.next)}}return null}function wv(t,n){return null!==n?t[tr][mi].projection[n.projection]:null}function Tg(t,n){const i=oi+t+1;if(i<n.length){const a=n[i],u=a[an].firstChild;if(null!==u)return rc(a,u)}return n[Kr]}function bg(t,n,i,a,u,h,g){for(;null!=i;){const v=a[i.index],I=i.type;if(g&&0===n&&(v&&Po(ur(v),a),i.flags|=2),32!=(32&i.flags))if(8&I)bg(t,n,i.child,a,u,h,!1),uu(n,t,u,v,h);else if(32&I){const O=th(i,a);let j;for(;j=O();)uu(n,t,u,j,h);uu(n,t,u,v,h)}else 16&I?Ag(t,n,a,i,u,h):uu(n,t,u,v,h);i=g?i.projectionNext:i.next}}function ah(t,n,i,a,u,h){bg(i,a,t.firstChild,n,u,h,!1)}function Ag(t,n,i,a,u,h){const g=i[tr],I=g[mi].projection[a.projection];if(Array.isArray(I))for(let O=0;O<I.length;O++)uu(n,t,u,I[O],h);else{let O=I;const j=g[Fr];Ld(a)&&(O.flags|=128),bg(t,n,O,j,u,h,!0)}}function Sv(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Mv(t,n,i){const{mergedAttrs:a,classes:u,styles:h}=i;null!==a&&ai(t,n,a),null!==u&&Sv(t,n,u),null!==h&&function Av(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}const Tr={};function Rv(t=1){Mf(Dr(),$t(),ao()+t,!1)}function Mf(t,n,i,a){if(!a)if(3==(3&n[jn])){const h=t.preOrderCheckHooks;null!==h&&lo(n,h,i)}else{const h=t.preOrderHooks;null!==h&&Ql(n,h,0,i)}fs(i)}function cu(t,n=qt.Default){const i=$t();return null===i?di(t,n):La(Zr(),i,pe(t),n)}function Rf(){throw new Error("invalid")}function Pv(t,n,i,a,u,h){const g=te(null);try{let v=null;u&bi.SignalBased&&(v=n[a][he]),null!==v&&void 0!==v.transformFn&&(h=v.transformFn(h)),u&bi.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,v,h,i,a):to(n,v,a,h)}finally{te(g)}}function Pf(t,n,i,a,u,h,g,v,I,O,j){const Z=n.blueprint.slice();return Z[$r]=u,Z[jn]=204|a,(null!==O||t&&2048&t[jn])&&(Z[jn]|=2048),_i(Z),Z[Fr]=Z[As]=t,Z[Yr]=i,Z[Gr]=g||t&&t[Gr],Z[en]=v||t&&t[en],Z[eo]=I||t&&t[eo]||null,Z[mi]=h,Z[js]=function fv(){return pf++}(),Z[Wi]=j,Z[Hl]=O,Z[tr]=2==n.type?t[tr]:Z,Z}function du(t,n,i,a,u){let h=t.data[n];if(null===h)h=function xf(t,n,i,a,u){const h=Nu(),g=Ec(),I=t.data[n]=function Fg(t,n,i,a,u,h){let g=n?n.injectorIndex:-1,v=0;return Na()&&(v|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=I),null!==h&&(g?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I,I.prev=h)),I}(t,n,i,a,u),function Za(){return ir.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=a,h.attrs=u;const g=function _l(){const t=ir.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return ui(h,!0),h}function oc(t,n,i,a){if(0===i)return-1;const u=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function Mg(t,n,i,a,u){const h=ao(),g=2&a;try{fs(-1),g&&n.length>gr&&Mf(t,n,gr,!1),aa(g?2:0,u),i(a,u)}finally{fs(h),aa(g?3:1,u)}}function Rg(t,n,i){if(so(n)){const a=te(null);try{const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,i[g],g)}}finally{te(a)}}}function lh(t,n,i){_c()&&(function Bg(t,n,i,a){const u=i.directiveStart,h=i.directiveEnd;ba(i)&&function Yy(t,n,i){const a=wr(n,t),u=Nf(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const v=ed(t,Pf(t,u,null,g,a,n,null,t[Gr].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=v}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Pt(i,n),Po(a,n);const g=i.initialInputs;for(let v=u;v<h;v++){const I=t.data[v],O=fa(n,t,v,i);Po(O,n),null!==g&&jg(0,v-u,O,I,0,g),Ui(I)&&(Uo(i.index,n)[Yr]=fa(n,t,v,i))}}(t,n,i,wr(i,n)),64==(64&i.flags)&&kv(t,n,i))}function Pg(t,n,i=wr){const a=n.localNames;if(null!==a){let u=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],v=-1===g?i(n,t):t[g];t[u++]=v}}}function Nf(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function xg(t,n,i,a,u,h,g,v,I,O,j){const Z=gr+a,Oe=Z+u,Je=function Ng(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:Tr);return i}(Z,Oe),mt="function"==typeof O?O():O;return Je[an]={type:t,blueprint:Je,template:i,queries:null,viewQuery:v,declTNode:n,data:Je.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:mt,incompleteFirstPass:!1,ssrId:j}}let Of=()=>null;function Nv(t,n,i,a,u){for(let g in n){var h;if(!n.hasOwnProperty(g))continue;const v=n[g];if(void 0===v)continue;null!==(h=a)&&void 0!==h||(a={});let I,O=bi.None;Array.isArray(v)?(I=v[0],O=v[1]):I=v;let j=g;if(null!==u){if(!u.hasOwnProperty(g))continue;j=u[g]}0===t?kf(a,i,j,I,O):kf(a,i,j,I)}return a}function kf(t,n,i,a,u){let h;t.hasOwnProperty(i)?(h=t[i]).push(n,a):h=t[i]=[n,a],void 0!==u&&h.push(u)}function Fs(t,n,i,a,u,h,g,v){const I=wr(n,i);let j,O=n.inputs;!v&&null!=O&&(j=O[a])?(Hg(t,i,j,a,u),ba(n)&&function Vg(t,n){const i=Uo(n,t);16&i[jn]||(i[jn]|=64)}(i,n.index)):3&n.type&&(a=function Lg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,n.value||"",a):u,h.setProperty(I,a,u))}function uh(t,n,i,a){if(_c()){const u=null===a?null:{"":-1},h=function Fv(t,n){const i=t.directiveRegistry;let a=null,u=null;if(i)for(let g=0;g<i.length;g++){const v=i[g];if(Ce(n,v.selectors,!1))if(a||(a=[]),Ui(v))if(null!==v.findHostDirectiveDefs){const I=[];u=u||new Map,v.findHostDirectiveDefs(v,I,u),a.unshift(...I,v),ch(t,n,I.length)}else a.unshift(v),ch(t,n,0);else{var h;u=u||new Map,null===(h=v.findHostDirectiveDefs)||void 0===h||h.call(v,v,a,u),a.push(v)}}return null===a?null:[a,u]}(t,i);let g,v;null===h?g=v=null:[g,v]=h,null!==g&&Ov(t,n,i,g,u,v),u&&function Lv(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const h=i[n[u+1]];if(null==h)throw new Ot(-301,!1);a.push(n[u],h)}}}(i,a,u)}i.mergedAttrs=co(i.mergedAttrs,i.attrs)}function Ov(t,n,i,a,u,h){for(let Z=0;Z<a.length;Z++)Rr(Pt(i,n),t,a[Z].type);!function qy(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let Z=0;Z<a.length;Z++){const Oe=a[Z];Oe.providersResolver&&Oe.providersResolver(Oe)}let g=!1,v=!1,I=oc(t,n,a.length,null);for(let Z=0;Z<a.length;Z++){const Oe=a[Z];i.mergedAttrs=co(i.mergedAttrs,Oe.hostAttrs),Gg(t,i,n,I,Oe),Ky(I,Oe,u),null!==Oe.contentQueries&&(i.flags|=4),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(i.flags|=64);const Je=Oe.type.prototype;var O,j;!g&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((null!==(O=t.preOrderHooks)&&void 0!==O?O:t.preOrderHooks=[]).push(i.index),g=!0),v||!Je.ngOnChanges&&!Je.ngDoCheck||((null!==(j=t.preOrderCheckHooks)&&void 0!==j?j:t.preOrderCheckHooks=[]).push(i.index),v=!0),I++}!function Fl(t,n,i){const u=n.directiveEnd,h=t.data,g=n.attrs,v=[];let I=null,O=null;for(let j=n.directiveStart;j<u;j++){const Z=h[j],Oe=i?i.get(Z):null,mt=Oe?Oe.outputs:null;I=Nv(0,Z.inputs,j,I,Oe?Oe.inputs:null),O=Nv(1,Z.outputs,j,O,mt);const Vt=null===I||null===g||ta(n)?null:Qy(I,j,g);v.push(Vt)}null!==I&&(I.hasOwnProperty("class")&&(n.flags|=8),I.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=I,n.outputs=O}(t,i,h)}function kv(t,n,i){const a=i.directiveStart,u=i.directiveEnd,h=i.index,g=function wd(){return ir.lFrame.currentDirectiveIndex}();try{fs(h);for(let v=a;v<u;v++){const I=t.data[v],O=n[v];Ou(v),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&$g(I,O)}}finally{fs(-1),Ou(g)}}function $g(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ch(t,n,i){var a;n.componentOffset=i,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Ky(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Ui(n)&&(i[""]=t)}}function Gg(t,n,i,a,u){t.data[a]=u;const h=u.factory||(u.factory=Oo(u.type)),g=new da(h,Ui(u),cu);t.blueprint[a]=g,i[a]=g,function Ug(t,n,i,a,u){const h=u.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~n.index;(function zy(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=v&&g.push(v),g.push(i,a,h)}}(t,n,a,oc(t,i,u.hostVars,Tr),u)}function pa(t,n,i,a,u,h){const g=wr(t,n);!function dh(t,n,i,a,u,h,g){if(null==h)t.removeAttribute(n,u,i);else{const v=null==g?Be(h):g(h,a||"",u);t.setAttribute(n,u,v,i)}}(n[en],g,h,t.value,i,a,u)}function jg(t,n,i,a,u,h){const g=h[n];if(null!==g)for(let v=0;v<g.length;)Pv(a,i,g[v++],g[v++],g[v++],g[v++])}function Qy(t,n,i){let a=null,u=0;for(;u<i.length;){const h=i[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const g=t[h];for(let v=0;v<g.length;v+=3)if(g[v]===n){a.push(h,g[v+1],g[v+2],i[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function sc(t,n,i,a){return[t,!0,0,n,null,a,null,i,null,null]}function Vv(t,n){const i=t.contentQueries;if(null!==i){const a=te(null);try{for(let u=0;u<i.length;u+=2){const g=i[u+1];if(-1!==g){const v=t.data[g];ku(i[u]),v.contentQueries(2,n[g],g)}}}finally{te(a)}}}function ed(t,n){return t[Jo]?t[Or][hi]=n:t[Jo]=n,t[Or]=n,n}function Ff(t,n,i){ku(0);const a=te(null);try{n(t,i)}finally{te(a)}}function Wg(t){return t[ar]||(t[ar]=[])}function fh(t){return t.cleanup||(t.cleanup=[])}function Lf(t,n){const i=t[eo],a=i?i.get(qs,null):null;a&&a.handleError(n)}function Hg(t,n,i,a,u){for(let h=0;h<i.length;){const g=i[h++],v=i[h++],I=i[h++];Pv(t.data[g],n[g],a,v,I,u)}}function Vf(t,n){const i=Uo(n,t),a=i[an];!function zg(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const u=i[$r];null!==u&&null===i[Wi]&&(i[Wi]=tf(u,i[eo])),ph(a,i,i[Yr])}function ph(t,n,i){Td(n);try{var a;const u=t.viewQuery;null!==u&&Ff(1,u,i);const h=t.template;null!==h&&Mg(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[cs])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Vv(t,n),t.staticViewQueries&&Ff(2,t.viewQuery,i);const g=t.components;null!==g&&function Kg(t,n){for(let i=0;i<n.length;i++)Vf(t,n[i])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[jn]&=-5,Sd()}}function hu(t,n){return!n||null===n.firstChild||Ld(t)}function fu(t,n,i,a=!0){const u=n[an];if(function Eg(t,n,i,a){const u=oi+a,h=i.length;a>0&&(i[u-1][hi]=n),a<h-oi?(n[hi]=i[u],Wa(i,oi+a,n)):(i.push(n),n[hi]=null),n[Fr]=i;const g=n[bn];null!==g&&i!==g&&function Gy(t,n){const i=t[oa];n[tr]!==n[Fr][Fr][tr]&&(t[jn]|=Ta.HasTransplantedViews),null===i?t[oa]=[n]:i.push(n)}(g,n);const v=n[cs];null!==v&&v.insertView(t),ml(n),n[jn]|=128}(u,n,t,i),a){const g=Tg(i,t),v=n[en],I=kl(v,t[Kr]);null!==I&&function yv(t,n,i,a,u,h){a[$r]=u,a[mi]=n,ah(t,a,i,1,u,h)}(u,t[mi],v,n,I,g)}const h=n[Wi];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function nd(t,n,i,a,u=!1){for(;null!==i;){const h=n[i.index];null!==h&&a.push(ur(h)),zi(h)&&ac(h,a);const g=i.type;if(8&g)nd(t,n,i.child,a);else if(32&g){const v=th(i,n);let I;for(;I=v();)a.push(I)}else if(16&g){const v=wv(n,i);if(Array.isArray(v))a.push(...v);else{const I=xs(n[tr]);nd(I[an],I,v,a,!0)}}i=u?i.projectionNext:i.next}return a}function ac(t,n){for(let i=oi;i<t.length;i++){const a=t[i],u=a[an].firstChild;null!==u&&nd(a[an],a,u,n)}t[Kr]!==t[$r]&&n.push(t[Kr])}let qg=[];const Qg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pa(t.lView)},consumerOnSignalRead(){this.lView[es]=this}};function $v(t){return Gv(t[Jo])}function Xg(t){return Gv(t[hi])}function Gv(t){for(;null!==t&&!zi(t);)t=t[hi];return t}const Zg=100;function Bf(t,n=!0,i=0){const a=t[Gr],u=a.rendererFactory;var g;null===(g=u.begin)||void 0===g||g.call(u);try{!function Jy(t,n){Gf(t,n);let i=0;for(;Xa(t);){if(i===Zg)throw new Ot(103,!1);i++,Gf(t,1)}}(t,i)}catch(O){throw n&&Lf(t,O),O}finally{var v,I;null===(v=u.end)||void 0===v||v.call(u),null===(I=a.inlineEffectRunner)||void 0===I||I.flush()}}function eI(t,n,i,a){var u;const h=n[jn];if(256==(256&h))return;null===(u=n[Gr].inlineEffectRunner)||void 0===u||u.flush(),Td(n);let v=null,I=null;(function tI(t){return 2!==t.type})(t)&&(I=function Yg(t){var n;return null!==(n=t[es])&&void 0!==n?n:function Bv(t){var n;const i=null!==(n=qg.pop())&&void 0!==n?n:Object.create(Qg);return i.lView=t,i}(t)}(n),v=function Ne(t){return t&&(t.nextProducerIndex=0),te(t)}(I));try{_i(n),function Cd(t){return ir.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Mg(t,n,i,2,a);const O=3==(3&h);if(O){const Oe=t.preOrderCheckHooks;null!==Oe&&lo(n,Oe,null)}else{const Oe=t.preOrderHooks;null!==Oe&&Ql(n,Oe,0,null),Xl(n,0)}if(function Wv(t){for(let n=$v(t);null!==n;n=Xg(n)){if(!(n[jn]&Ta.HasTransplantedViews))continue;const i=n[oa];for(let a=0;a<i.length;a++){Ra(i[a])}}}(n),jv(n,0),null!==t.contentQueries&&Vv(t,n),O){const Oe=t.contentCheckHooks;null!==Oe&&lo(n,Oe)}else{const Oe=t.contentHooks;null!==Oe&&Ql(n,Oe,1),Xl(n,1)}!function Sg(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)fs(~u);else{const h=u,g=i[++a],v=i[++a];Dd(g,h),v(2,n[h])}}}finally{fs(-1)}}(t,n);const j=t.components;null!==j&&Jg(n,j,0);const Z=t.viewQuery;if(null!==Z&&Ff(2,Z,a),O){const Oe=t.viewCheckHooks;null!==Oe&&lo(n,Oe)}else{const Oe=t.viewHooks;null!==Oe&&Ql(n,Oe,2),Xl(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ws]){for(const Oe of n[Ws])Oe();n[Ws]=null}n[jn]&=-73}catch(O){throw Pa(n),O}finally{null!==I&&(function Ve(t,n){if(te(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xe(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ye(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(I,v),function rd(t){t.lView[es]!==t&&(t.lView=null,qg.push(t))}(I)),Sd()}}function jv(t,n){for(let i=$v(t);null!==i;i=Xg(i))for(let a=oi;a<i.length;a++)$f(i[a],n)}function Hv(t,n,i){$f(Uo(n,t),i)}function $f(t,n){$i(t)&&Gf(t,n)}function Gf(t,n){const a=t[an],u=t[jn],h=t[es];let g=!!(0===n&&16&u);if(g||(g=!!(64&u&&0===n)),g||(g=!!(1024&u)),g||(g=!(null==h||!h.dirty||!rt(h))),h&&(h.dirty=!1),t[jn]&=-9217,g)eI(a,t,a.template,t[Yr]);else if(8192&u){jv(t,1);const v=a.components;null!==v&&Jg(t,v,1)}}function Jg(t,n,i){for(let a=0;a<n.length;a++)Hv(t,n[a],i)}function id(t){var n;for(null===(n=t[Gr].changeDetectionScheduler)||void 0===n||n.notify();t;){t[jn]|=64;const i=xs(t);if(Aa(t)&&!i)return t;t=i}return null}class pu{get rootNodes(){const n=this._lView,i=n[an];return nd(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(n){this._lView[Yr]=n}get destroyed(){return 256==(256&this._lView[jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Fr];if(zi(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(rh(n,a),Vs(i,a))}this._attachedToViewContainer=!1}Xc(this._lView[an],this._lView)}onDestroy(n){Hs(this._lView,n)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[jn]&=-129}reattach(){ml(this._lView),this._lView[jn]|=128}detectChanges(){this._lView[jn]|=1024,Bf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ig(this._lView[an],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=n,ml(this._lView)}}let Nr=(()=>{class n{}return n.__NG_ELEMENT_ID__=mh,n})();const zv=Nr,Kv=class extends zv{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const u=function td(t,n,i,a){const u=te(null);try{var h,g;const v=n.tView,j=Pf(t,v,i,4096&t[jn]?4096:16,null,n,null,null,null,null!==(h=null==a?void 0:a.injector)&&void 0!==h?h:null,null!==(g=null==a?void 0:a.dehydratedView)&&void 0!==g?g:null);j[bn]=t[n.index];const Oe=t[cs];return null!==Oe&&(j[cs]=Oe.createEmbeddedView(v)),ph(v,j,i),j}finally{te(u)}}(this._declarationLView,this._declarationTContainer,n,{injector:i,dehydratedView:a});return new pu(u)}};function mh(){return vh(Zr(),$t())}function vh(t,n){return 4&t.type?new Kv(n,t,Sc(t,n)):null}class Ch{}class am{}class qf{}class r_{resolveComponentFactory(n){throw function n_(t){const n=Error(`No component factory found for ${Mn(t)}.`);return n.ngComponent=t,n}(n)}}let sd=(()=>{class n{}return n.NULL=new r_,n})();class ad{}let cI=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Yf(){const t=$t(),i=Uo(Zr().index,t);return(pt(i)?i:t)[en]}(),n})(),Qf=(()=>{var t;class n{}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:()=>null}),n})();const Xf={},i_=new Set;function Qs(t){var n,i;i_.has(t)||(i_.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}function lm(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new el(!1),this.onMicrotaskEmpty=new el(!1),this.onStable=new el(!1),this.onError=new el(!1),typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function um(){const t="function"==typeof bt.requestAnimationFrame;let n=bt[t?"requestAnimationFrame":"setTimeout"],i=bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function g0(t){const n=()=>{!function ld(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,o_(t),t.isCheckStableRunning=!0,cm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),o_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,h,g,v)=>{if(function dI(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(v))return i.invokeTask(u,h,g,v);try{return ep(t),i.invokeTask(u,h,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),s_(t)}},onInvoke:(i,a,u,h,g,v,I)=>{try{return ep(t),i.invoke(u,h,g,v,I)}finally{t.shouldCoalesceRunChangeDetection&&n(),s_(t)}},onHasTask:(i,a,u,h)=>{i.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,o_(t),cm(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,u,h)=>(i.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Ot(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+u,n,Dh,lm,lm);try{return h.runTask(g,i,a)}finally{h.cancelTask(g)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const Dh={};function cm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function o_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ep(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function s_(t){t._nesting--,cm(t)}class wh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new el,this.onMicrotaskEmpty=new el,this.onStable=new el,this.onError=new el}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}var il=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(il||{});const a_={destroy(){}};function l_(t,n){var i,a,u;!n&&function E(t){if(!fo())throw new Ot(-203,!1)}();const h=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:Jn(Os);if(!function nl(t){return"browser"===(null!=t?t:Jn(Os)).get(ju)}(h))return a_;Qs("NgAfterNextRender");const g=h.get(ud),v=null!==(a=g.handler)&&void 0!==a?a:g.handler=new hm,I=null!==(u=null==n?void 0:n.phase)&&void 0!==u?u:il.MixedReadWrite,O=()=>{v.unregister(Z),j()},j=h.get(Ja).onDestroy(O),Z=Xo(h,()=>new u_(I,()=>{O(),t()}));return v.register(Z),{destroy:O}}class u_{constructor(n,i){var a;this.phase=n,this.callbackFn=i,this.zone=Jn(io),this.errorHandler=Jn(qs,{optional:!0}),null===(a=Jn(Ch,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class hm{constructor(){this.executingCallbacks=!1,this.buckets={[il.EarlyRead]:new Set,[il.Write]:new Set,[il.MixedReadWrite]:new Set,[il.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ud=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:()=>new t}),n})();function Ul(t){return!!Li(t)}function ol(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const v=n[g];"number"==typeof v?h=v:1==h?u=Sn(u,v):2==h&&(a=Sn(a,v+": "+n[++g]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}class dd extends sd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=rr(n);return new bh(i,this.ngModule)}}function Iu(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}class gI{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=Qi(a);const u=this.injector.get(n,Xf,a);return u!==Xf||i===Xf?u:this.parentInjector.get(n,i,a)}}class bh extends qf{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Iu(n.inputs);if(null!==i)for(const u of a)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return a}get outputs(){return Iu(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ts(t){return t.map(Do).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,u){const h=te(null);try{var v;let I=(u=u||this.ngModule)instanceof bo?u:null===(v=u)||void 0===v?void 0:v.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const O=I?new gI(n,I):n,j=O.get(ad,null);if(null===j)throw new Ot(407,!1);const Z=O.get(Qf,null),mt={rendererFactory:j,sanitizer:Z,inlineEffectRunner:null,afterRenderEventManager:O.get(ud,null),changeDetectionScheduler:O.get(Ch,null)},Vt=j.createRenderer(null,this.componentDef),dn=this.componentDef.selectors[0][0]||"div",_n=a?function Wy(t,n,i,a){const h=a.get(sf,!1)||i===ko.ShadowDom,g=t.selectRootElement(n,h);return function Og(t){Of(t)}(g),g}(Vt,a,this.componentDef.encapsulation,O):wf(Vt,dn,function pI(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(dn));let zt=512;this.componentDef.signals?zt|=4096:this.componentDef.onPush||(zt|=16);let vr=null;null!==_n&&(vr=tf(_n,O,!0));const jr=xg(0,null,null,1,0,null,null,null,null,null,null),Jr=Pf(null,jr,null,zt,null,null,mt,Vt,O,null,vr);let vs,al;Td(Jr);try{const Gl=this.componentDef;let Lh,HE=null;Gl.findHostDirectiveDefs?(Lh=[],HE=new Map,Gl.findHostDirectiveDefs(Gl,Lh,HE),Lh.push(Gl)):Lh=[Gl];const SP=function mI(t,n){const i=t[an],a=gr;return t[a]=n,du(i,a,2,"#host",null)}(Jr,_n),MP=function vI(t,n,i,a,u,h,g){const v=u[an];!function _I(t,n,i,a){for(const u of t)n.mergedAttrs=co(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(ol(n,n.mergedAttrs,!0),null!==i&&Mv(a,i,n))}(a,t,n,g);let I=null;null!==n&&(I=tf(n,u[eo]));const O=h.rendererFactory.createRenderer(n,i);let j=16;i.signals?j=4096:i.onPush&&(j=64);const Z=Pf(u,Nf(i),null,j,u[t.index],t,h,O,null,null,I);return v.firstCreatePass&&ch(v,t,a.length-1),ed(u,Z),u[t.index]=Z}(SP,_n,Gl,Lh,Jr,mt,Vt);al=la(jr,gr),_n&&function II(t,n,i,a){if(a)ai(t,i,["ng-version","17.3.0"]);else{const{attrs:u,classes:h}=function _a(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&n.push(h,t[++a]):8===u&&i.push(h);else{if(!le(u))break;u=h}a++}return{attrs:n,classes:i}}(n.selectors[0]);u&&ai(t,i,u),h&&h.length>0&&Sv(t,i,h.join(" "))}}(Vt,Gl,_n,a),void 0!==i&&function EI(t,n,i){const a=t.projection=[];for(let u=0;u<n.length;u++){const h=i[u];a.push(null!=h?Array.from(h):null)}}(al,this.ngContentSelectors,i),vs=function yI(t,n,i,a,u,h){const g=Zr(),v=u[an],I=wr(g,u);Ov(v,u,g,i,null,a);for(let j=0;j<i.length;j++)Po(fa(u,v,g.directiveStart+j,g),u);kv(v,u,g),I&&Po(I,u);const O=fa(u,v,g.directiveStart+g.componentOffset,g);if(t[Yr]=u[Yr]=O,null!==h)for(const j of h)j(O,n);return Rg(v,g,u),O}(MP,Gl,Lh,HE,Jr,[CI]),ph(jr,Jr,null)}finally{Sd()}return new Eu(this.componentType,vs,Sc(al,Jr),Jr,al)}finally{te(h)}}}class Eu extends am{constructor(n,i,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new pu(u,void 0,!1),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;Hg(g[an],g,u,n,i),this.previousInputValues.set(n,i),id(Uo(this._tNode.index,g))}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function CI(){const t=Zr();Ks($t()[an],t)}let op=(()=>{class n{}return n.__NG_ELEMENT_ID__=DI,n})();function DI(){return TI(Zr(),$t())}const wI=op,h_=class extends wI{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){const n=er(this._hostTNode,this._hostLView);if(El(n)){const i=Jl(n,this._hostLView),a=Cl(n);return new Ii(i[an].data[a+8],i)}return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=dc(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(n,i,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const v=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(v,u,hu(this._hostTNode,null)),v}createComponent(n,i,a,u,h){var g,I;const O=n&&!function un(t){return"function"==typeof t}(n);let j;if(O)j=i;else{const _n=i||{};j=_n.index,a=_n.injector,u=_n.projectableNodes,h=_n.environmentInjector||_n.ngModuleRef}const Z=O?n:new bh(rr(n)),Oe=a||this.parentInjector;if(!h&&null==Z.ngModule){const zt=(O?Oe:this.parentInjector).get(bo,null);zt&&(h=zt)}const Je=rr(null!==(g=Z.componentType)&&void 0!==g?g:{}),mt=(null==Je?void 0:Je.id,null),Vt=null!==(I=null==mt?void 0:mt.firstChild)&&void 0!==I?I:null,dn=Z.create(Oe,u,Vt,h);return this.insertImpl(dn.hostView,j,hu(this._hostTNode,mt)),dn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){const u=n._lView;if(function vd(t){return zi(t[Fr])}(u)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const I=u[Fr],O=new h_(I,I[mi],I[Fr]);O.detach(O.indexOf(n))}}const h=this._adjustIndex(i),g=this._lContainer;return fu(g,u,h,a),n.attachToViewContainerRef(),Wa(Ah(g),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=dc(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=rh(this._lContainer,i);a&&(Vs(Ah(this._lContainer),i),Xc(a[an],a))}detach(n){const i=this._adjustIndex(n,-1),a=rh(this._lContainer,i);return a&&null!=Vs(Ah(this._lContainer),i)?new pu(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function dc(t){return t[8]}function Ah(t){return t[8]||(t[8]=[])}function TI(t,n){let i;const a=n[t.index];return zi(a)?i=a:(i=sc(a,n,null,t),n[t.index]=i,ed(n,i)),f_(i,n,t,a),new h_(i,t,n)}let f_=function g_(t,n,i,a){if(t[Kr])return;let u;u=8&i.type?ur(a):function bI(t,n){const i=t[en],a=i.createComment(""),u=wr(n,t);return Nl(i,kl(i,u),a,function Ev(t,n){return t.nextSibling(n)}(i,u),!1),a}(n,i),t[Kr]=u},fm=()=>!1;class m_{constructor(n){this.queryList=n,this.matches=null}clone(){return new m_(this.queryList)}setDirty(){this.queryList.setDirty()}}class pm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let h=0;h<a;h++){const g=i.getByIndex(h);u.push(this.queries[g.indexInDeclarationView].clone())}return new pm(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==_m(n,i).matches&&this.queries[i].setDirty()}}class v_{constructor(n,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof n?function I0(t){return t.split(",").map(n=>n.trim())}(n):n}}class gm{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,u);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new gm(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class __{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new __(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(n,i,AI(i,h)),this.matchTNodeWithReadOption(n,i,tu(i,n,h,!1,!1))}else a===Nr?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,tu(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===kd||u===op||u===Nr&&4&i.type)this.addMatch(i.index,-2);else{const h=tu(i,n,u,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function AI(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function Cu(t,n,i,a){return-1===i?function y_(t,n){return 11&t.type?Sc(t,n):4&t.type?vh(t,n):null}(n,t):-2===i?function SI(t,n,i){return i===kd?Sc(n,t):i===Nr?vh(n,t):i===op?TI(n,t):void 0}(t,n,a):fa(t,t[an],i,n)}function I_(t,n,i,a){const u=n[cs].queries[a];if(null===u.matches){const h=t.data,g=i.matches,v=[];for(let I=0;null!==g&&I<g.length;I+=2){const O=g[I];v.push(O<0?null:Cu(n,h[O],g[I+1],i.metadata.read))}u.matches=v}return u.matches}function mm(t,n,i,a){const u=t.queries.getByIndex(i),h=u.matches;if(null!==h){const g=I_(t,n,u,i);for(let v=0;v<h.length;v+=2){const I=h[v];if(I>0)a.push(g[v/2]);else{const O=h[v+1],j=n[-I];for(let Z=oi;Z<j.length;Z++){const Oe=j[Z];Oe[bn]===Oe[Fr]&&mm(Oe[an],Oe,O,a)}if(null!==j[oa]){const Z=j[oa];for(let Oe=0;Oe<Z.length;Oe++){const Je=Z[Oe];mm(Je[an],Je,O,a)}}}}}return a}function E_(t,n,i){var a;const u=new Fd(4==(4&i));return function xv(t,n,i,a){const u=Wg(n);u.push(i),t.firstCreatePass&&fh(t).push(a,u.length-1)}(t,n,u,u.destroy),(null!==(a=n[cs])&&void 0!==a?a:n[cs]=new pm).queries.push(new m_(u))-1}function MI(t,n,i){null===t.queries&&(t.queries=new gm),t.queries.track(new __(n,i))}function _m(t,n){return t.queries.getByIndex(n)}function RI(t,n){const i=t[an],a=_m(i,n);return a.crossesNgTemplate?mm(i,t,n,[]):I_(i,t,a,n)}function xI(t){return function PI(t){return"function"==typeof t&&void 0!==t[he]}(t)&&"function"==typeof t.set}function NI(t){let n=function T0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let u;if(Ui(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ot(903,!1);u=n.\u0275dir}if(u){if(i){a.push(u);const g=t;g.inputs=S_(t.inputs),g.inputTransforms=S_(t.inputTransforms),g.declaredInputs=S_(t.declaredInputs),g.outputs=S_(t.outputs);const v=u.hostBindings;v&&NT(t,v);const I=u.viewQuery,O=u.contentQueries;if(I&&PT(t,I),O&&xT(t,O),MT(t,u),zn(t.outputs,u.outputs),Ui(u)&&u.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let g=0;g<h.length;g++){const v=h[g];v&&v.ngInherit&&v(t),v===NI&&(i=!1)}}n=Object.getPrototypeOf(n)}!function RT(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=co(u.hostAttrs,i=co(i,u.hostAttrs))}}(a)}function MT(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const u=n.inputs[a];if(void 0!==u&&(t.inputs[a]=u,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var i;const h=Array.isArray(u)?u[0]:u;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function S_(t){return t===Sr?{}:t===xr?[]:t}function PT(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function xT(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,h)=>{n(a,u,h),i(a,u,h)}:n}function NT(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}function M0(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[3]&&(i[a]=u[3])}t.inputTransforms=i}class Ph{}class R0{}function UT(t,n){return new OI(t,null!=n?n:null,[])}class OI extends Ph{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dd(this);const u=Li(n);this._bootstrapComponents=$o(u.bootstrap),this._r3Injector=Nd(n,i,[{provide:Ph,useValue:this},{provide:sd,useValue:this.componentFactoryResolver},...a],Mn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class kI extends R0{constructor(n){super(),this.moduleType=n}create(n){return new OI(this.moduleType,n,[])}}class P0 extends Ph{constructor(n){super(),this.componentFactoryResolver=new dd(this),this.instance=null;const i=new Ca([...n.providers,{provide:Ph,useValue:this},{provide:sd,useValue:this.componentFactoryResolver}],n.parent||Gs(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function FI(t,n,i=null){return new P0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let sp=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R_(t){return!!LI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function LI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ap(t,n,i,a,u,h,g,v){const I=$t(),O=Dr(),j=t+gr,Z=O.firstCreatePass?function zT(t,n,i,a,u,h,g,v,I){const O=n.consts,j=du(n,t,4,g||null,po(O,v));uh(n,i,j,po(O,I)),Ks(n,j);const Z=j.tView=xg(2,j,a,u,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,j),Z.queries=n.queries.embeddedTView(j)),j}(j,O,I,n,i,a,u,h,g):O.data[j];ui(Z,!1);const Oe=x0(O,I,Z,t);Ns()&&Zc(O,I,Oe,Z),Po(Oe,I);const Je=sc(Oe,I,Oe,Z);return I[j]=Je,ed(I,Je),function p_(t,n,i){return fm(t,n,i)}(Je,Z,I),ds(Z)&&lh(O,I,Z),null!=g&&Pg(I,Z,v),ap}let x0=function N0(t,n,i,a){return ps(!0),n[en].createComment("")};function KI(t,n,i,a){const u=$t();return _o(u,Ir(),n)&&(Dr(),pa(ei(),u,t,n,i,a)),KI}function gp(t,n,i,a){return _o(t,Ir(),i)?n+Be(i)+a:Tr}function L_(t,n){return t<<17|n<<2}function fd(t){return t>>17&32767}function qI(t){return 2|t}function Oh(t){return(131068&t)>>2}function YI(t,n){return-131069&t|n<<2}function QI(t){return 1|t}function cC(t,n,i,a){const u=t[i+1],h=null===n;let g=a?fd(u):Oh(u),v=!1;for(;0!==g&&(!1===v||h);){const O=t[g+1];Rb(t[g],n)&&(v=!0,t[g+1]=a?QI(O):qI(O)),g=a?fd(O):Oh(O)}v&&(t[i+1]=a?qI(u):QI(u))}function Rb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&si(t,n)>=0}function XI(t,n,i){const a=$t();return _o(a,Ir(),n)&&Fs(Dr(),ei(),a,t,n,a[en],i,!1),XI}function ZI(t,n,i,a,u){const g=u?"class":"style";Hg(t,i,n.inputs[g],g,a)}function JI(t,n){return function Bl(t,n,i,a){const u=$t(),h=Dr(),g=function Lr(t){const n=ir.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function yC(t,n,i,a){const u=t.data;if(null===u[i+1]){const h=u[ao()],g=function _C(t,n){return n>=t.expandoStartIndex}(t,i);(function DC(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!g&&(n=!1),n=function Ub(t,n,i,a){const u=function yl(t){const n=ir.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=Tm(i=eE(null,t,n,i,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==u)if(i=eE(u,t,n,i,a),null===h){let I=function Bb(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Oh(a))return t[fd(a)]}(t,n,a);void 0!==I&&Array.isArray(I)&&(I=eE(null,t,n,I[1],a),I=Tm(I,n.attrs,a),function $b(t,n,i,a){t[fd(i?n.classBindings:n.styleBindings)]=a}(t,n,a,I))}else h=function Gb(t,n,i){let a;const u=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<u;h++)a=Tm(a,t[h].hostAttrs,i);return Tm(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(u,h,n,a),function Sb(t,n,i,a,u,h){let g=h?n.classBindings:n.styleBindings,v=fd(g),I=Oh(g);t[a]=i;let j,O=!1;if(Array.isArray(i)?(j=i[1],(null===j||si(i,j)>0)&&(O=!0)):j=i,u)if(0!==I){const Oe=fd(t[v+1]);t[a+1]=L_(Oe,v),0!==Oe&&(t[Oe+1]=YI(t[Oe+1],a)),t[v+1]=function bb(t,n){return 131071&t|n<<17}(t[v+1],a)}else t[a+1]=L_(v,0),0!==v&&(t[v+1]=YI(t[v+1],a)),v=a;else t[a+1]=L_(I,0),0===v?v=a:t[I+1]=YI(t[I+1],a),I=a;O&&(t[a+1]=qI(t[a+1])),cC(t,j,a,!0),cC(t,j,a,!1),function Mb(t,n,i,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&si(h,n)>=0&&(i[a+1]=QI(i[a+1]))}(n,j,t,a,h),g=L_(v,I),h?n.classBindings=g:n.styleBindings=g}(u,h,n,i,g,a)}}(h,t,g,a),n!==Tr&&_o(u,g,n)&&function EC(t,n,i,a,u,h,g,v){if(!(3&n.type))return;const I=t.data,O=I[v+1],j=function Ab(t){return 1==(1&t)}(O)?CC(I,n,i,u,Oh(O),g):void 0;V_(j)||(V_(h)||function Tb(t){return 2==(2&t)}(O)&&(h=CC(I,null,i,u,v,g)),function bv(t,n,i,a,u){if(n)u?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:Qc.DashCase;null==u?t.removeStyle(i,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Qc.Important),t.setStyle(i,a,u,h))}}(a,g,Si(ao(),i),u,h))}(h,h.data[ao()],u,u[en],t,u[g+1]=function zb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Mn(Ga(t)))),t}(n,i),a,g)}(t,n,null,!0),JI}function eE(t,n,i,a,u){let h=null;const g=i.directiveEnd;let v=i.directiveStylingLast;for(-1===v?v=i.directiveStart:v++;v<g&&(h=n[v],a=Tm(a,h.hostAttrs,u),h!==t);)v++;return null!==t&&(i.directiveStylingLast=v),a}function Tm(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ki(t,g,!!i||n[++h]))}return void 0===t?null:t}function CC(t,n,i,a,u,h){const g=null===n;let v;for(;u>0;){const I=t[u],O=Array.isArray(I),j=O?I[1]:I,Z=null===j;let Oe=i[u+1];Oe===Tr&&(Oe=Z?xr:void 0);let Je=Z?Co(Oe,a):j===a?Oe:void 0;if(O&&!V_(Je)&&(Je=Co(I,a)),V_(Je)&&(v=Je,g))return v;const mt=t[u+1];u=g?fd(mt):Oh(mt)}if(null!==n){let I=h?n.residualClasses:n.residualStyles;null!=I&&(v=Co(I,a))}return v}function V_(t){return void 0!==t}function U_(t,n,i,a){const u=$t(),h=Dr(),g=gr+t,v=u[en],I=h.firstCreatePass?function gA(t,n,i,a,u,h){const g=n.consts,I=du(n,t,2,a,po(g,u));return uh(n,i,I,po(g,h)),null!==I.attrs&&ol(I,I.attrs,!1),null!==I.mergedAttrs&&ol(I,I.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,I),I}(g,h,u,n,i,a):h.data[g],O=AC(h,u,I,v,n,t);u[g]=O;const j=ds(I);return ui(I,!0),Mv(v,O,I),!function Em(t){return 32==(32&t.flags)}(I)&&Ns()&&Zc(h,u,O,I),0===function xa(){return ir.lFrame.elementDepthCount}()&&Po(O,u),function _d(){ir.lFrame.elementDepthCount++}(),j&&(lh(h,u,I),Rg(h,I,u)),null!==a&&Pg(u,I),U_}function B_(){let t=Zr();Ec()?ci():(t=t.parent,ui(t,!1));const n=t;(function Oa(t){return ir.skipHydrationRootTNode===t})(n)&&function Bh(){ir.skipHydrationRootTNode=null}(),function vl(){ir.lFrame.elementDepthCount--}();const i=Dr();return i.firstCreatePass&&(Ks(i,t),so(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Fa(t){return 0!=(8&t.flags)}(n)&&ZI(i,n,$t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Op(t){return 0!=(16&t.flags)}(n)&&ZI(i,n,$t(),n.stylesWithoutHost,!1),B_}function oE(t,n,i,a){return U_(t,n,i,a),B_(),oE}let AC=(t,n,i,a,u,h)=>(ps(!0),wf(a,u,function ca(){return ir.lFrame.currentNamespace}()));function sE(t,n,i){const a=$t(),u=Dr(),h=t+gr,g=u.firstCreatePass?function _A(t,n,i,a,u){const h=n.consts,g=po(h,a),v=du(n,t,8,"ng-container",g);return null!==g&&ol(v,g,!0),uh(n,i,v,po(h,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(h,u,a,n,i):u.data[h];ui(g,!0);const v=SC(u,a,g,t);return a[h]=v,Ns()&&Zc(u,a,v,g),Po(v,a),ds(g)&&(lh(u,a,g),Rg(u,g,a)),null!=i&&Pg(a,g),sE}function aE(){let t=Zr();const n=Dr();return Ec()?ci():(t=t.parent,ui(t,!1)),n.firstCreatePass&&(Ks(n,t),so(t)&&n.queries.elementEnd(t)),aE}function lE(t,n,i){return sE(t,n,i),aE(),lE}let SC=(t,n,i,a)=>(ps(!0),nh(n[en],""));function MC(){return $t()}const kh=void 0;var CA=["en",[["a","p"],["AM","PM"],kh],[["AM","PM"],kh,kh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kh,"{1} 'at' {0}",kh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EA(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let wp={};function uE(t){const n=function DA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=NC(n);if(i)return i;const a=n.split("-")[0];if(i=NC(a),i)return i;if("en"===a)return CA;throw new Ot(701,!1)}function xC(t){return uE(t)[Tp.PluralCase]}function NC(t){return t in wp||(wp[t]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[t]),wp[t]}var Tp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tp||{});const bp="en-US";let OC=bp;function hE(t,n,i,a){const u=$t(),h=Dr(),g=Zr();return fE(h,u,u[en],g,t,n,a),hE}function fE(t,n,i,a,u,h,g){const v=ds(a),O=t.firstCreatePass&&fh(t),j=n[Yr],Z=Wg(n);let Oe=!0;if(3&a.type||g){const Vt=wr(a,n),dn=g?g(Vt):Vt,_n=Z.length,zt=g?jr=>g(ur(jr[a.index])):a.index;let vr=null;if(!g&&v&&(vr=function yS(t,n,i,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const g=u[h];if(g===i&&u[h+1]===a){const v=n[ar],I=u[h+2];return v.length>I?v[I]:null}"string"==typeof g&&(h+=2)}return null}(t,n,u,a.index)),null!==vr)(vr.__ngLastListenerFn__||vr).__ngNextListenerFn__=h,vr.__ngLastListenerFn__=h,Oe=!1;else{h=lD(a,n,j,h,!1);const jr=i.listen(dn,u,h);Z.push(h,jr),O&&O.push(u,zt,_n,_n+1)}}else h=lD(a,n,j,h,!1);const Je=a.outputs;let mt;if(Oe&&null!==Je&&(mt=Je[u])){const Vt=mt.length;if(Vt)for(let dn=0;dn<Vt;dn+=2){const Jr=n[mt[dn]][mt[dn+1]].subscribe(h),vs=Z.length;Z.push(h,Jr),O&&O.push(u,a.index,vs,-(vs+1))}}}function aD(t,n,i,a){const u=te(null);try{return aa(6,n,i),!1!==i(a)}catch(h){return Lf(t,h),!1}finally{aa(7,n,i),te(u)}}function lD(t,n,i,a,u){return function h(g){if(g===Function)return a;id(t.componentOffset>-1?Uo(t.index,n):n);let I=aD(n,i,a,g),O=h.__ngNextListenerFn__;for(;O;)I=aD(n,i,O,g)&&I,O=O.__ngNextListenerFn__;return u&&!1===I&&g.preventDefault(),I}}function uD(t=1){return function xp(t){return(ir.lFrame.contextLView=function gl(t,n){for(;t>0;)n=n[As],t--;return n}(t,ir.lFrame.contextLView))[Yr]}(t)}function IS(t,n){let i=null;const a=function Zt(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const h=n[u];if("*"!==h){if(null===a?Ce(t,h,!0):Fi(a,h))return u}else i=u}return i}function cD(t){const n=$t()[tr][mi];if(!n.projection){const a=n.projection=function Js(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(t?t.length:1,null),u=a.slice();let h=n.child;for(;null!==h;){const g=t?IS(h,t):0;null!==g&&(u[g]?u[g].projectionNext=h:a[g]=h,u[g]=h),h=h.next}}}function dD(t,n=0,i){const a=$t(),u=Dr(),h=du(u,gr+t,16,null,i||null);null===h.projection&&(h.projection=n),ci(),(!a[Wi]||Na())&&32!=(32&h.flags)&&function jy(t,n,i){Ag(n[en],0,n,i,ih(t,i,n),nc(i.parent||n[mi],i,n))}(u,a,h)}function pE(t,n,i){return gE(t,"",n,"",i),pE}function gE(t,n,i,a,u){const h=$t(),g=gp(h,n,i,a);return g!==Tr&&Fs(Dr(),ei(),h,t,g,h[en],u,!1),gE}function ID(t,n,i,a){!function D_(t,n,i,a){const u=Dr();if(u.firstCreatePass){const h=Zr();MI(u,new v_(n,i,a),h.index),function w_(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}return E_(u,$t(),i)}(t,n,i,a)}function ED(t,n,i){!function C_(t,n,i){const a=Dr();return a.firstCreatePass&&(MI(a,new v_(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),E_(a,$t(),n)}(t,n,i)}function CD(t){const n=$t(),i=Dr(),a=Dc();ku(a+1);const u=_m(i,a);if(t.dirty&&function Rp(t){return 4==(4&t[jn])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=RI(n,a);t.reset(h,Xh),t.notifyOnChanges()}return!0}return!1}function DD(){return function vm(t,n){return t[cs].queries[n].queryList}($t(),Dc())}function ND(t,n=""){const i=$t(),a=Dr(),u=t+gr,h=a.firstCreatePass?du(a,u,1,n,null):a.data[u],g=OD(a,i,h,n,t);i[u]=g,Ns()&&Zc(a,i,g,h),ui(h,!1)}let OD=(t,n,i,a,u)=>(ps(!0),function Df(t,n){return t.createText(n)}(n[en],a));function mE(t){return H_("",t,""),mE}function H_(t,n,i){const a=$t(),u=gp(a,t,n,i);return u!==Tr&&function Ll(t,n,i){const a=Si(n,t);!function ec(t,n,i){t.setValue(n,i)}(t[en],a,i)}(a,ao(),u),H_}function vE(t,n,i){xI(n)&&(n=n());const a=$t();return _o(a,Ir(),n)&&Fs(Dr(),ei(),a,t,n,a[en],i,!1),vE}function jD(t,n){const i=xI(t);return i&&t.set(n),i}function _E(t,n){const i=$t(),a=Dr(),u=Zr();return fE(a,i,i[en],u,t,n),_E}function yE(t,n,i,a,u){if(t=pe(t),Array.isArray(t))for(let h=0;h<t.length;h++)yE(t[h],n,i,a,u);else{const h=Dr(),g=$t(),v=Zr();let I=To(t)?t:pe(t.provide);const O=Su(t),j=1048575&v.providerIndexes,Z=v.directiveStart,Oe=v.providerIndexes>>20;if(To(t)||!t.multi){const Je=new da(O,u,cu),mt=EE(I,n,u?j:j+Oe,Z);-1===mt?(Rr(Pt(v,g),h,I),IE(h,t,n.length),n.push(I),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(Je),g.push(Je)):(i[mt]=Je,g[mt]=Je)}else{const Je=EE(I,n,j+Oe,Z),mt=EE(I,n,j,j+Oe),dn=mt>=0&&i[mt];if(u&&!dn||!u&&!(Je>=0&&i[Je])){Rr(Pt(v,g),h,I);const _n=function BS(t,n,i,a,u){const h=new da(t,i,cu);return h.multi=[],h.index=n,h.componentProviders=0,WD(h,u,a&&!i),h}(u?US:VS,i.length,u,a,O);!u&&dn&&(i[mt].providerFactory=_n),IE(h,t,n.length,0),n.push(I),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(_n),g.push(_n)}else IE(h,t,Je>-1?Je:mt,WD(i[u?mt:Je],O,!u&&a));!u&&a&&dn&&i[mt].componentProviders++}}}function IE(t,n,i,a){const u=To(n),h=function Ia(t){return!!t.useClass}(n);if(u||h){const I=(h?pe(n.useClass):n).prototype.ngOnDestroy;if(I){const O=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const j=O.indexOf(i);-1===j?O.push(i,[a,I]):O[j+1].push(a,I)}else O.push(i,I)}}}function WD(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function EE(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function VS(t,n,i,a){return CE(this.multi,[])}function US(t,n,i,a){const u=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=fa(i,i[an],this.providerFactory.index,a);h=v.slice(0,g),CE(u,h);for(let I=g;I<v.length;I++)h.push(v[I])}else h=[],CE(u,h);return h}function CE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function HD(t,n=[]){return i=>{i.providersResolver=(a,u)=>function LS(t,n,i){const a=Dr();if(a.firstCreatePass){const u=Ui(t);yE(i,a.data,a.blueprint,u,!0),yE(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}let $S=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=Yo(0,a.type),h=u.length>0?FI([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Mt({token:t,providedIn:"environment",factory:()=>new t(di(bo))}),n})();function zD(t){Qs("NgStandalone"),t.getStandaloneInjector=n=>n.get($S).getOrCreateStandaloneInjector(t)}function tw(t,n,i){const a=function Ki(){const t=ir.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,u=$t();return u[a]===Tr?function Du(t,n,i){return t[n]=i}(u,a,i?n.call(i):n()):function Im(t,n){return t[n]}(u,a)}class Cw{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const kM=new Cw("17.3.0");let Dw=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const Aw=new Yn(""),Sw=new Yn("");let RE,aR=(()=>{var t;class n{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,RE||(function lR(t){RE=t}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a()},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(di(io),di(Mw),di(Sw))},t.\u0275prov=Mt({token:t,factory:t.\u0275fac}),n})(),Mw=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var h,g;return null!==(h=null===(g=RE)||void 0===g?void 0:g.findTestabilityInTree(this,a,u))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function PE(t){return!!t&&"function"==typeof t.then}function Rw(t){return!!t&&"function"==typeof t.subscribe}const Pw=new Yn("");let xE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=null!==(a=Jn(Pw,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const g=h();if(PE(g))a.push(g);else if(Rw(g)){const v=new Promise((I,O)=>{g.subscribe({complete:I,error:O})});a.push(v)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const NE=new Yn("");function Ow(t,n){return Array.isArray(n)?n.reduce(Ow,t):{...t,...n}}let pd=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(Ac),this.afterRenderEffectManager=Jn(ud),this.externalTestViews=new Set,this.beforeRender=new Tn.E,this.afterTick=new Tn.E,this.componentTypes=[],this.components=[],this.isStable=Jn(sp).hasPendingTasks.pipe((0,ht.k)(a=>!a)),this._injector=Jn(bo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof qf;if(!this._injector.get(xE).done)throw!h&&ji(a),new Ot(405,!1);let v;v=h?a:this._injector.get(sd).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function uR(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Ph),j=v.create(Os.NULL,[],u||v.selector,I),Z=j.location.nativeElement,Oe=j.injector.get(Aw,null);return null==Oe||Oe.registerApplication(Z),j.onDestroy(()=>{this.detachView(j.hostView),Y_(this.components,j),null==Oe||Oe.unregisterApplication(Z)}),this._loadComponent(j),j}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Ot(101,!1);const u=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,te(u)}}detectChangesInAttachedViews(a){let u=0;const h=this.afterRenderEffectManager;for(;;){if(u===Zg)throw new Ot(103,!1);if(a){const g=0===u;this.beforeRender.next(g);for(let{_lView:v,notifyErrorHandler:I}of this._views)dR(v,g,I)}if(u++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>OE(g))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>OE(g))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Y_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(NE,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Y_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ot(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Y_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function dR(t,n,i){!n&&!OE(t)||function hR(t,n,i){let a;i?(a=0,t[jn]|=1024):a=64&t[jn]?0:1,Bf(t,n,a)}(t,i,n)}function OE(t){return Xa(t)}class fR{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let pR=(()=>{var t;class n{compileModuleSync(a){return new kI(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=$o(Li(a).declarations).reduce((v,I)=>{const O=rr(I);return O&&v.push(new bh(O)),v},[]);return new fR(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),vR=(()=>{var t;class n{constructor(){this.zone=Jn(io),this.applicationRef=Jn(pd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function _R(){const t=Jn(io),n=Jn(qs);return i=>t.runOutsideAngular(()=>n.handleError(i))}let IR=(()=>{var t;class n{constructor(){this.subscription=new Ct.wH,this.initialized=!1,this.zone=Jn(io),this.pendingTasks=Jn(sp)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var u;io.assertInAngularZone(),null!==(u=a)&&void 0!==u||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Q_=new Yn("",{providedIn:"root",factory:()=>Jn(Q_,qt.Optional|qt.SkipSelf)||function ER(){return typeof $localize<"u"&&$localize.locale||bp}()}),CR=new Yn("",{providedIn:"root",factory:()=>"USD"}),kE=new Yn("");let Vw=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function hI(t="zone.js",n){return"noop"===t?new wh:"zone.js"===t?new io(n):t}(null==u?void 0:u.ngZone,function Lw(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return h.run(()=>{const g=function BT(t,n,i){return new OI(t,n,i)}(a.moduleType,this.injector,function Fw(t){return[{provide:io,useFactory:t},{provide:Es,multi:!0,useFactory:()=>{const n=Jn(vR,{optional:!0});return()=>n.initialize()}},{provide:Es,multi:!0,useFactory:()=>{const n=Jn(IR);return()=>{n.initialize()}}},{provide:Ac,useFactory:_R}]}(()=>h)),v=g.injector.get(qs,null);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:O=>{v.handleError(O)}});g.onDestroy(()=>{Y_(this._modules,g),I.unsubscribe()})}),function Nw(t,n,i){try{const a=i();return PE(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(v,h,()=>{const I=g.injector.get(xE);return I.runInitializers(),I.donePromise.then(()=>(function kC(t){"string"==typeof t&&(OC=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Q_,bp)||bp),this._moduleDoBootstrap(g),g))})})}bootstrapModule(a,u=[]){const h=Ow({},u);return function mR(t,n,i){const a=new kI(i);return Promise.resolve(a)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(pd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ot(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ot(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(kE,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(di(Os))},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),gd=null;const Uw=new Yn("");function Bw(t,n,i=[]){const a=`Platform: ${n}`,u=new Yn(a);return(h=[])=>{let g=FE();if(!g||g.injector.get(Uw,!1)){const v=[...i,...h,{provide:u,useValue:!0}];t?t(v):function wR(t){if(gd&&!gd.get(Uw,!1))throw new Ot(400,!1);(function xw(){!function lt(t){cn=t}(()=>{throw new Ot(600,!1)})})(),gd=t;const n=t.get(Vw);(function Gw(t){const n=t.get(Hm,null);null==n||n.forEach(i=>i())})(t)}(function $w(t=[],n){return Os.create({name:n,providers:[{provide:cl,useValue:"platform"},{provide:kE,useValue:new Set([()=>gd=null])},...t]})}(v,a))}return function TR(t){const n=FE();if(!n)throw new Ot(401,!1);return n}()}}function FE(){var t,n;return null!==(t=null===(n=gd)||void 0===n?void 0:n.get(Vw))&&void 0!==t?t:null}function AR(){return!1}function SR(){}let Ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=MR,n})();function MR(t){return function RR(t,n,i){if(ba(t)&&!i){const a=Uo(t.index,n);return new pu(a,a)}return 47&t.type?new pu(n[tr],n):null}(Zr(),$t(),16==(16&t))}class qw{constructor(){}supports(n){return R_(n)}create(n){return new kR(n)}}const OR=(t,n)=>n;class kR{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OR}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,h=null;for(;i||a;){const g=!a||i&&i.currentIndex<Qw(a,u,h)?i:a,v=Qw(g,u,h),I=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(i=i._next,null==g.previousIndex)u++;else{h||(h=[]);const O=v-u,j=I-u;if(O!=j){for(let Oe=0;Oe<O;Oe++){const Je=Oe<h.length?h[Oe]:h[Oe]=0,mt=Je+Oe;j<=mt&&mt<O&&(h[Oe]=Je+1)}h[g.previousIndex]=j-O}}v!==I&&n(g,v,I)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!R_(n))throw new Ot(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,h,g,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)h=n[v],g=this._trackByFn(v,h),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,h,g,v)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,g,v),a=!0),i=i._next}else u=0,function WT(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,v=>{g=this._trackByFn(u,v),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,v,g,u)),Object.is(i.item,v)||this._addIdentityChange(i,v)):(i=this._mismatch(i,v,g,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,u)):n=this._addAfter(new FR(i,a),h,u),n}_verifyReinsertion(n,i,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,h=n._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Yw),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class FR{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LR{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Yw{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new LR,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class Xw{constructor(){}supports(n){return n instanceof Map||LI(n)}create(){return new VR}}class VR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||LI(n)))throw new Ot(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const h=u._prev,g=u._next;return h&&(h._next=g),g&&(g._prev=h),u._next=null,u._prev=null,u}const a=new UR(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class UR{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zw(){return new $E([new qw])}let $E=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||Zw()),deps:[[n,new Zs,new os]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ot(901,!1)}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:Zw}),n})();function Jw(){return new GE([new Xw])}let GE=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||Jw()),deps:[[n,new Zs,new os]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ot(901,!1)}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:Jw}),n})();const GR=Bw(null,"core",[]);let jR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(di(pd))},t.\u0275mod=Us({type:t}),t.\u0275inj=Qn({}),n})();function _P(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function IP(t){const n=te(null);try{return t()}finally{te(n)}}function bP(t,n){const i=rr(t),a=n.elementInjector||Gs();return new bh(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function AP(t){const n=rr(t);if(!n)return null;const i=new bh(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},3572:(tn,Qe,A)=>{"use strict";A.d(Qe,{_o:()=>Ie,cd:()=>cn,Ev:()=>lt,mq:()=>dt,ox:()=>Ut,_8:()=>jt,GW:()=>et,CU:()=>Re});var l=A(4580),B=(A(6858),A(1368)),K=A(4496),ye=A(6176),he=A(6e3),te=A(5657),de=A(2700),$e=A(3252),se=A(9900),Y=A(3412),xe=A(3920),Me=A(7368),Le=A(4704),Fe=A(5960);class tt extends te.E{constructor(je=1/0,Te=1/0,Tt=Fe.K){super(),this._bufferSize=je,this._windowTime=Te,this._timestampProvider=Tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,je),this._windowTime=Math.max(1,Te)}next(je){const{isStopped:Te,_buffer:Tt,_infiniteTimeWindow:Gt,_timestampProvider:Ft,_windowTime:It}=this;Te||(Tt.push(je),!Gt&&Tt.push(Ft.now()+It)),this._trimBuffer(),super.next(je)}_subscribe(je){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(je),{_infiniteTimeWindow:Tt,_buffer:Gt}=this,Ft=Gt.slice();for(let It=0;It<Ft.length&&!je.closed;It+=Tt?1:2)je.next(Ft[It]);return this._checkFinalizedStatuses(je),Te}_trimBuffer(){const{_bufferSize:je,_timestampProvider:Te,_buffer:Tt,_infiniteTimeWindow:Gt}=this,Ft=(Gt?1:2)*je;if(je<1/0&&Ft<Tt.length&&Tt.splice(0,Tt.length-Ft),!Gt){const It=Te.now();let nn=0;for(let Dn=1;Dn<Tt.length&&Tt[Dn]<=It;Dn+=2)nn=Dn;nn&&Tt.splice(0,nn+1)}}}var We=A(560),Ne=A(1760),Ve=A(5448);function fe(me,je,...Te){if(!0===je)return void me();if(!1===je)return;const Tt=new Ne.ot({next:()=>{Tt.unsubscribe(),me()}});return(0,We.Uv)(je(...Te)).subscribe(Tt)}function Ke(me,je,Te){let Tt,Gt=!1;return me&&"object"==typeof me?({bufferSize:Tt=1/0,windowTime:je=1/0,refCount:Gt=!1,scheduler:Te}=me):Tt=null!=me?me:1/0,function rt(me={}){const{connector:je=(()=>new te.E),resetOnError:Te=!0,resetOnComplete:Tt=!0,resetOnRefCountZero:Gt=!0}=me;return Ft=>{let It,nn,Dn,Tn=0,Ct=!1,gt=!1;const ht=()=>{null==nn||nn.unsubscribe(),nn=void 0},Wt=()=>{ht(),It=Dn=void 0,Ct=gt=!1},yn=()=>{const Ot=It;Wt(),null==Ot||Ot.unsubscribe()};return(0,Ve.i)((Ot,gn)=>{Tn++,!gt&&!Ct&&ht();const hn=Dn=null!=Dn?Dn:je();gn.add(()=>{Tn--,0===Tn&&!gt&&!Ct&&(nn=fe(yn,Gt))}),hn.subscribe(gn),!It&&Tn>0&&(It=new Ne.ot({next:An=>hn.next(An),error:An=>{gt=!0,ht(),nn=fe(Wt,Te,An),hn.error(An)},complete:()=>{Ct=!0,ht(),nn=fe(Wt,Tt),hn.complete()}}),(0,We.Uv)(Ot).subscribe(It))})(Ft)}}({connector:()=>new tt(Tt,je,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Gt})}var Ye=A(5084),Xe=A(8880);function ge(me,je){return(0,Xe.m)(je)?(0,Me.G)(()=>me,je):(0,Me.G)(()=>me)}var $=A(2924),be=A(6684);A(9252);const et=new K.UbH("angularfire2.auth.use-emulator"),dt=new K.UbH("angularfire2.auth.settings"),Ut=new K.UbH("angularfire2.auth.tenant-id"),cn=new K.UbH("angularfire2.auth.langugage-code"),jt=new K.UbH("angularfire2.auth.use-device-language"),lt=new K.UbH("angularfire.auth.persistence"),Re=(me,je,Te,Tt,Gt,Ft,It,nn)=>(0,he.PQ)(`${me.name}.auth`,"AngularFireAuth",me.name,()=>{const Dn=je.runOutsideAngular(()=>me.auth());if(Te&&Dn.useEmulator(...Te),Tt&&(Dn.tenantId=Tt),Dn.languageCode=Gt,Ft&&Dn.useDeviceLanguage(),It)for(const[Tn,Ct]of Object.entries(It))Dn.settings[Tn]=Ct;return nn&&Dn.setPersistence(nn),Dn},[Te,Tt,Gt,Ft,It,nn]);let Ie=(()=>{var me;class je{constructor(Tt,Gt,Ft,It,nn,Dn,Tn,Ct,gt,ht,Wt,yn){(0,l.c)(this,"authState",void 0),(0,l.c)(this,"idToken",void 0),(0,l.c)(this,"user",void 0),(0,l.c)(this,"idTokenResult",void 0),(0,l.c)(this,"credential",void 0);const Ot=new te.E,gn=(0,de.of)(void 0).pipe((0,xe.y)(nn.outsideAngular),(0,Me.G)(()=>It.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,6858)))),(0,Le.k)(()=>(0,he._G)(Tt,It,Gt)),(0,Le.k)(hn=>Re(hn,It,Dn,Ct,gt,ht,Tn,Wt)),Ke({bufferSize:1,refCount:!1}));if((0,B.uf)(Ft))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{gn.pipe((0,Ye.K)()).subscribe();const hn=gn.pipe((0,Me.G)(Ln=>Ln.getRedirectResult().then(qn=>qn,()=>null)),ye.wH,Ke({bufferSize:1,refCount:!1})),An=gn.pipe((0,Me.G)(Ln=>new $e._(qn=>({unsubscribe:It.runOutsideAngular(()=>Ln.onAuthStateChanged(fn=>qn.next(fn),fn=>qn.error(fn),()=>qn.complete()))})))),nr=gn.pipe((0,Me.G)(Ln=>new $e._(qn=>({unsubscribe:It.runOutsideAngular(()=>Ln.onIdTokenChanged(fn=>qn.next(fn),fn=>qn.error(fn),()=>qn.complete()))}))));this.authState=hn.pipe(ge(An),(0,$.y)(nn.outsideAngular),(0,xe.y)(nn.insideAngular)),this.user=hn.pipe(ge(nr),(0,$.y)(nn.outsideAngular),(0,xe.y)(nn.insideAngular)),this.idToken=this.user.pipe((0,Me.G)(Ln=>Ln?(0,se.Q)(Ln.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,Me.G)(Ln=>Ln?(0,se.Q)(Ln.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,Y.U)(hn,Ot,this.authState.pipe((0,be.I)(Ln=>!Ln))).pipe((0,Le.k)(Ln=>null!=Ln&&Ln.user?Ln:null),(0,$.y)(nn.outsideAngular),(0,xe.y)(nn.insideAngular))}return(0,he._w)(this,gn,It,{spy:{apply:(hn,An,nr)=>{(hn.startsWith("signIn")||hn.startsWith("createUser"))&&nr.then(Ln=>Ot.next(Ln))}}})}}return me=je,(0,l.c)(je,"\u0275fac",function(Tt){return new(Tt||me)(K.CoB(he.E9),K.CoB(he.Ml,8),K.CoB(K.AHE),K.CoB(K.WW2),K.CoB(ye.u),K.CoB(et,8),K.CoB(dt,8),K.CoB(Ut,8),K.CoB(cn,8),K.CoB(jt,8),K.CoB(lt,8),K.CoB(ye.gJ,8))}),(0,l.c)(je,"\u0275prov",K.wxM({token:me,factory:me.\u0275fac,providedIn:"any"})),je})()},9460:(tn,Qe,A)=>{"use strict";A.d(Qe,{i4:()=>Mn,Se:()=>Sn});var l=A(4580),F=A(1368),B=A(4496),K=A(6176),ye=A(6e3),he=A(3572),te=A(112),de=A(3252),$e=A(9900),se=A(2700),Y=A(5568),xe=A(5448),Me=A(7773);function Le(){return(0,xe.i)((Lt,ie)=>{let Ge,pe=!1;Lt.subscribe((0,Me.e)(ie,Ae=>{const ot=Ge;Ge=Ae,pe&&ie.next([ot,Ae]),pe=!0}))})}var Fe=A(4704),tt=A(208),We=A(4e3),Ne=A(6684),rt=(A(6858),A(8368)),fe=A(5718),Ke=A(7144),Ye=A(4920);function $(Lt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new fe.Mm("invalid-argument",`Invalid options passed to function ${Lt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function be(){if(typeof Uint8Array>"u")throw new fe.Mm("unimplemented","Uint8Arrays are not available in this environment.")}function Ue(){if(!(0,fe.Qj)())throw new fe.Mm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ze{constructor(ie){this._delegate=ie}static fromBase64String(ie){return Ue(),new ze(fe.Km.fromBase64String(ie))}static fromUint8Array(ie){return be(),new ze(fe.Km.fromUint8Array(ie))}toBase64(){return Ue(),this._delegate.toBase64()}toUint8Array(){return be(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function et(Lt){return function dt(Lt,ie){if("object"!=typeof Lt||null===Lt)return!1;const Ge=Lt;for(const pe of ie)if(pe in Ge&&"function"==typeof Ge[pe])return!0;return!1}(Lt,["next","error","complete"])}class Ut{enableIndexedDbPersistence(ie,Ge){return(0,fe._Q)(ie._delegate,{forceOwnership:Ge})}enableMultiTabIndexedDbPersistence(ie){return(0,fe.Ej)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,fe.y0)(ie._delegate)}}class cn{constructor(ie,Ge,pe){this._delegate=Ge,this._persistenceProvider=pe,this.INTERNAL={delete:()=>this.terminate()},ie instanceof fe.K2||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ge=this._delegate._getSettings();!ie.merge&&Ge.host!==ie.host&&(0,fe.ss)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ge),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ge,pe={}){(0,fe.Cw)(this._delegate,ie,Ge,pe)}enableNetwork(){return(0,fe.If)(this._delegate)}disableNetwork(){return(0,fe.Mp)(this._delegate)}enablePersistence(ie){let Ge=!1,pe=!1;return ie&&(Ge=!!ie.synchronizeTabs,pe=!!ie.experimentalForceOwningTab,(0,fe.k1)("synchronizeTabs",Ge,"experimentalForceOwningTab",pe)),Ge?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,pe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,fe.cl)(this._delegate)}onSnapshotsInSync(ie){return(0,fe.oX)(this._delegate,ie)}get app(){if(!this._appCompat)throw new fe.Mm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new Tn(this,(0,fe.oV)(this._delegate,ie))}catch(Ge){throw je(Ge,"collection()","Firestore.collection()")}}doc(ie){try{return new me(this,(0,fe.UN)(this._delegate,ie))}catch(Ge){throw je(Ge,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new It(this,(0,fe.c7)(this._delegate,ie))}catch(Ge){throw je(Ge,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,fe.k9)(this._delegate,Ge=>ie(new Re(this,Ge)))}batch(){return(0,fe.Ws)(this._delegate),new Ie(new fe.k5(this._delegate,ie=>(0,fe._M)(this._delegate,ie)))}loadBundle(ie){return(0,fe.uG)(this._delegate,ie)}namedQuery(ie){return(0,fe.ee)(this._delegate,ie).then(Ge=>Ge?new It(this,Ge):null)}}class jt extends fe.wP{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new ze(new fe.Km(ie))}convertReference(ie){const Ge=this.convertDocumentKey(ie,this.firestore._databaseId);return me.forKey(Ge,this.firestore,null)}}class Re{constructor(ie,Ge){this._firestore=ie,this._delegate=Ge,this._userDataWriter=new jt(ie)}get(ie){const Ge=Ct(ie);return this._delegate.get(Ge).then(pe=>new Gt(this._firestore,new fe.E3(this._firestore._delegate,this._userDataWriter,pe._key,pe._document,pe.metadata,Ge.converter)))}set(ie,Ge,pe){const Ae=Ct(ie);return pe?($("Transaction.set",pe),this._delegate.set(Ae,Ge,pe)):this._delegate.set(Ae,Ge),this}update(ie,Ge,pe,...Ae){const ot=Ct(ie);return 2===arguments.length?this._delegate.update(ot,Ge):this._delegate.update(ot,Ge,pe,...Ae),this}delete(ie){const Ge=Ct(ie);return this._delegate.delete(Ge),this}}class Ie{constructor(ie){this._delegate=ie}set(ie,Ge,pe){const Ae=Ct(ie);return pe?($("WriteBatch.set",pe),this._delegate.set(Ae,Ge,pe)):this._delegate.set(Ae,Ge),this}update(ie,Ge,pe,...Ae){const ot=Ct(ie);return 2===arguments.length?this._delegate.update(ot,Ge):this._delegate.update(ot,Ge,pe,...Ae),this}delete(ie){const Ge=Ct(ie);return this._delegate.delete(Ge),this}commit(){return this._delegate.commit()}}class ke{constructor(ie,Ge,pe){this._firestore=ie,this._userDataWriter=Ge,this._delegate=pe}fromFirestore(ie,Ge){const pe=new fe.EL(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Ft(this._firestore,pe),null!=Ge?Ge:{})}toFirestore(ie,Ge){return Ge?this._delegate.toFirestore(ie,Ge):this._delegate.toFirestore(ie)}static getInstance(ie,Ge){const pe=ke.INSTANCES;let Ae=pe.get(ie);Ae||(Ae=new WeakMap,pe.set(ie,Ae));let ot=Ae.get(Ge);return ot||(ot=new ke(ie,new jt(ie),Ge),Ae.set(Ge,ot)),ot}}ke.INSTANCES=new WeakMap;class me{constructor(ie,Ge){this.firestore=ie,this._delegate=Ge,this._userDataWriter=new jt(ie)}static forPath(ie,Ge,pe){if(ie.length%2!=0)throw new fe.Mm("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new me(Ge,new fe.YD(Ge._delegate,pe,new fe.o1(ie)))}static forKey(ie,Ge,pe){return new me(Ge,new fe.YD(Ge._delegate,pe,ie))}get id(){return this._delegate.id}get parent(){return new Tn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new Tn(this.firestore,(0,fe.oV)(this._delegate,ie))}catch(Ge){throw je(Ge,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,Ke.Yj)(ie))instanceof fe.YD&&(0,fe.G6)(this._delegate,ie)}set(ie,Ge){Ge=$("DocumentReference.set",Ge);try{return Ge?(0,fe.Sm)(this._delegate,ie,Ge):(0,fe.Sm)(this._delegate,ie)}catch(pe){throw je(pe,"setDoc()","DocumentReference.set()")}}update(ie,Ge,...pe){try{return 1===arguments.length?(0,fe.gD)(this._delegate,ie):(0,fe.gD)(this._delegate,ie,Ge,...pe)}catch(Ae){throw je(Ae,"updateDoc()","DocumentReference.update()")}}delete(){return(0,fe.oh)(this._delegate)}onSnapshot(...ie){const Ge=Te(ie),pe=Tt(ie,Ae=>new Gt(this.firestore,new fe.E3(this.firestore._delegate,this._userDataWriter,Ae._key,Ae._document,Ae.metadata,this._delegate.converter)));return(0,fe.ag)(this._delegate,Ge,pe)}get(ie){let Ge;return Ge="cache"===(null==ie?void 0:ie.source)?(0,fe.yS)(this._delegate):"server"===(null==ie?void 0:ie.source)?(0,fe.cb)(this._delegate):(0,fe.i4)(this._delegate),Ge.then(pe=>new Gt(this.firestore,new fe.E3(this.firestore._delegate,this._userDataWriter,pe._key,pe._document,pe.metadata,this._delegate.converter)))}withConverter(ie){return new me(this.firestore,this._delegate.withConverter(ie?ke.getInstance(this.firestore,ie):null))}}function je(Lt,ie,Ge){return Lt.message=Lt.message.replace(ie,Ge),Lt}function Te(Lt){for(const ie of Lt)if("object"==typeof ie&&!et(ie))return ie;return{}}function Tt(Lt,ie){var Ge,pe;let Ae;return Ae=et(Lt[0])?Lt[0]:et(Lt[1])?Lt[1]:"function"==typeof Lt[0]?{next:Lt[0],error:Lt[1],complete:Lt[2]}:{next:Lt[1],error:Lt[2],complete:Lt[3]},{next:ot=>{Ae.next&&Ae.next(ie(ot))},error:null===(Ge=Ae.error)||void 0===Ge?void 0:Ge.bind(Ae),complete:null===(pe=Ae.complete)||void 0===pe?void 0:pe.bind(Ae)}}class Gt{constructor(ie,Ge){this._firestore=ie,this._delegate=Ge}get ref(){return new me(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ge){return this._delegate.get(ie,Ge)}isEqual(ie){return(0,fe.iW)(this._delegate,ie._delegate)}}class Ft extends Gt{data(ie){const Ge=this._delegate.data(ie);return this._delegate._converter||(0,fe.K4)(void 0!==Ge,"Document in a QueryDocumentSnapshot should exist"),Ge}}class It{constructor(ie,Ge){this.firestore=ie,this._delegate=Ge,this._userDataWriter=new jt(ie)}where(ie,Ge,pe){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.A9)(ie,Ge,pe)))}catch(Ae){throw je(Ae,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ge){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.k$)(ie,Ge)))}catch(pe){throw je(pe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.Yf)(ie)))}catch(Ge){throw je(Ge,"limit()","Query.limit()")}}limitToLast(ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe._6)(ie)))}catch(Ge){throw je(Ge,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.kf)(...ie)))}catch(Ge){throw je(Ge,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.SQ)(...ie)))}catch(Ge){throw je(Ge,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.Ar)(...ie)))}catch(Ge){throw je(Ge,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new It(this.firestore,(0,fe.kt)(this._delegate,(0,fe.eg)(...ie)))}catch(Ge){throw je(Ge,"endAt()","Query.endAt()")}}isEqual(ie){return(0,fe.C)(this._delegate,ie._delegate)}get(ie){let Ge;return Ge="cache"===(null==ie?void 0:ie.source)?(0,fe.MP)(this._delegate):"server"===(null==ie?void 0:ie.source)?(0,fe.aC)(this._delegate):(0,fe.uY)(this._delegate),Ge.then(pe=>new Dn(this.firestore,new fe.uI(this.firestore._delegate,this._userDataWriter,this._delegate,pe._snapshot)))}onSnapshot(...ie){const Ge=Te(ie),pe=Tt(ie,Ae=>new Dn(this.firestore,new fe.uI(this.firestore._delegate,this._userDataWriter,this._delegate,Ae._snapshot)));return(0,fe.ag)(this._delegate,Ge,pe)}withConverter(ie){return new It(this.firestore,this._delegate.withConverter(ie?ke.getInstance(this.firestore,ie):null))}}class nn{constructor(ie,Ge){this._firestore=ie,this._delegate=Ge}get type(){return this._delegate.type}get doc(){return new Ft(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dn{constructor(ie,Ge){this._firestore=ie,this._delegate=Ge}get query(){return new It(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Ft(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ge=>new nn(this._firestore,Ge))}forEach(ie,Ge){this._delegate.forEach(pe=>{ie.call(Ge,new Ft(this._firestore,pe))})}isEqual(ie){return(0,fe.iW)(this._delegate,ie._delegate)}}class Tn extends It{constructor(ie,Ge){super(ie,Ge),this.firestore=ie,this._delegate=Ge}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new me(this.firestore,ie):null}doc(ie){try{return new me(this.firestore,void 0===ie?(0,fe.UN)(this._delegate):(0,fe.UN)(this._delegate,ie))}catch(Ge){throw je(Ge,"doc()","CollectionReference.doc()")}}add(ie){return(0,fe.sB)(this._delegate,ie).then(Ge=>new me(this.firestore,Ge))}isEqual(ie){return(0,fe.G6)(this._delegate,ie._delegate)}withConverter(ie){return new Tn(this.firestore,this._delegate.withConverter(ie?ke.getInstance(this.firestore,ie):null))}}function Ct(Lt){return(0,fe.YX)(Lt,fe.YD)}class gt{constructor(...ie){this._delegate=new fe.UD(...ie)}static documentId(){return new gt(fe.gH.keyField().canonicalString())}isEqual(ie){return(ie=(0,Ke.Yj)(ie))instanceof fe.UD&&this._delegate._internalPath.isEqual(ie._internalPath)}}class ht{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,fe.S)();return ie._methodName="FieldValue.serverTimestamp",new ht(ie)}static delete(){const ie=(0,fe.cr)();return ie._methodName="FieldValue.delete",new ht(ie)}static arrayUnion(...ie){const Ge=(0,fe.cT)(...ie);return Ge._methodName="FieldValue.arrayUnion",new ht(Ge)}static arrayRemove(...ie){const Ge=(0,fe.AX)(...ie);return Ge._methodName="FieldValue.arrayRemove",new ht(Ge)}static increment(ie){const Ge=(0,fe.AF)(ie);return Ge._methodName="FieldValue.increment",new ht(Ge)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const Wt={Firestore:cn,GeoPoint:fe.Ez,Timestamp:fe.kR,Blob:ze,Transaction:Re,WriteBatch:Ie,DocumentReference:me,DocumentSnapshot:Gt,Query:It,QueryDocumentSnapshot:Ft,QuerySnapshot:Dn,CollectionReference:Tn,FieldPath:gt,FieldValue:ht,setLogLevel:function lt(Lt){(0,fe.QN)(Lt)},CACHE_SIZE_UNLIMITED:fe.Om};!function Ot(Lt){(function yn(Lt,ie){Lt.INTERNAL.registerComponent(new Ye.Yl("firestore-compat",Ge=>{const pe=Ge.getProvider("app-compat").getImmediate(),Ae=Ge.getProvider("firestore").getImmediate();return ie(pe,Ae)},"PUBLIC").setServiceProps(Object.assign({},Wt)))})(Lt,(ie,Ge)=>new cn(ie,Ge,new Ut)),Lt.registerVersion("@firebase/firestore-compat","0.3.25")}(rt.c);var gn=A(9252);function An(Lt,ie){return function hn(Lt,ie=te.M){return new de._(Ge=>{let pe;return null!=ie?ie.schedule(()=>{pe=Lt.onSnapshot({includeMetadataChanges:!0},Ge)}):pe=Lt.onSnapshot({includeMetadataChanges:!0},Ge),()=>{null!=pe&&pe()}})}(Lt,ie)}function Ln(Lt,ie){return An(Lt,ie).pipe((0,Fe.k)(Ge=>({payload:Ge,type:"query"})))}class qn{constructor(ie,Ge){(0,l.c)(this,"ref",void 0),(0,l.c)(this,"afs",void 0),this.ref=ie,this.afs=Ge}set(ie,Ge){return this.ref.set(ie,Ge)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ge){const pe=this.ref.collection(ie),{ref:Ae,query:ot}=zn(pe,Ge);return new dr(Ae,ot,this.afs)}snapshotChanges(){return function nr(Lt,ie){return An(Lt,ie).pipe((0,Y.W)(void 0),Le(),(0,Fe.k)(Ge=>{const[pe,Ae]=Ge;return Ae.exists?null!=pe&&pe.exists?{payload:Ae,type:"modified"}:{payload:Ae,type:"added"}:{payload:Ae,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(K.wH)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Fe.k)(({payload:Ge})=>ie.idField?{...Ge.data(),[ie.idField]:Ge.id}:Ge.data()))}get(ie){return(0,$e.Q)(this.ref.get(ie)).pipe(K.wH)}}function fn(Lt,ie){return Ln(Lt,ie).pipe((0,Y.W)(void 0),Le(),(0,Fe.k)(Ge=>{const[pe,Ae]=Ge,ot=Ae.payload.docChanges(),qe=ot.map(J=>({type:J.type,payload:J}));return pe&&JSON.stringify(pe.payload.metadata)!==JSON.stringify(Ae.payload.metadata)&&Ae.payload.docs.forEach((J,ae)=>{const z=ot.find(q=>q.doc.ref.isEqual(J.ref)),X=null==pe?void 0:pe.payload.docs.find(q=>q.ref.isEqual(J.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(J.metadata)||!z&&X&&JSON.stringify(X.metadata)===JSON.stringify(J.metadata)||qe.push({type:"modified",payload:{oldIndex:ae,newIndex:ae,type:"modified",doc:J}})}),qe}))}function Pn(Lt,ie,Ge){return fn(Lt,Ge).pipe((0,tt.K)((pe,Ae)=>function pr(Lt,ie,Ge){return ie.forEach(pe=>{Ge.indexOf(pe.type)>-1&&(Lt=function or(Lt,ie){switch(ie.type){case"added":if(!Lt[ie.newIndex]||!Lt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return br(Lt,ie.newIndex,0,ie);break;case"modified":if(null==Lt[ie.oldIndex]||Lt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ge=Lt.slice();return Ge.splice(ie.oldIndex,1),Ge.splice(ie.newIndex,0,ie),Ge}return br(Lt,ie.newIndex,1,ie)}break;case"removed":if(Lt[ie.oldIndex]&&Lt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return br(Lt,ie.oldIndex,1)}return Lt}(Lt,pe))}),Lt}(pe,Ae.map(ot=>ot.payload),ie),[]),(0,We.a)(),(0,Fe.k)(pe=>pe.map(Ae=>({type:Ae.type,payload:Ae}))))}function br(Lt,ie,Ge,...pe){const Ae=Lt.slice();return Ae.splice(ie,Ge,...pe),Ae}function Bn(Lt){return(!Lt||0===Lt.length)&&(Lt=["added","removed","modified"]),Lt}class dr{constructor(ie,Ge,pe){(0,l.c)(this,"ref",void 0),(0,l.c)(this,"query",void 0),(0,l.c)(this,"afs",void 0),this.ref=ie,this.query=Ge,this.afs=pe}stateChanges(ie){let Ge=fn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ge=Ge.pipe((0,Fe.k)(pe=>pe.filter(Ae=>ie.indexOf(Ae.type)>-1)))),Ge.pipe((0,Y.W)(void 0),Le(),(0,Ne.I)(([pe,Ae])=>Ae.length>0||!pe),(0,Fe.k)(([,pe])=>pe),K.wH)}auditTrail(ie){return this.stateChanges(ie).pipe((0,tt.K)((Ge,pe)=>[...Ge,...pe],[]))}snapshotChanges(ie){const Ge=Bn(ie);return Pn(this.query,Ge,this.afs.schedulers.outsideAngular).pipe(K.wH)}valueChanges(ie={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.k)(Ge=>Ge.payload.docs.map(pe=>ie.idField?{...pe.data(),[ie.idField]:pe.id}:pe.data())),K.wH)}get(ie){return(0,$e.Q)(this.query.get(ie)).pipe(K.wH)}add(ie){return this.ref.add(ie)}doc(ie){return new qn(this.ref.doc(ie),this.afs)}}class kt{constructor(ie,Ge){(0,l.c)(this,"query",void 0),(0,l.c)(this,"afs",void 0),this.query=ie,this.afs=Ge}stateChanges(ie){return ie&&0!==ie.length?fn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.k)(Ge=>Ge.filter(pe=>ie.indexOf(pe.type)>-1)),(0,Ne.I)(Ge=>Ge.length>0),K.wH):fn(this.query,this.afs.schedulers.outsideAngular).pipe(K.wH)}auditTrail(ie){return this.stateChanges(ie).pipe((0,tt.K)((Ge,pe)=>[...Ge,...pe],[]))}snapshotChanges(ie){const Ge=Bn(ie);return Pn(this.query,Ge,this.afs.schedulers.outsideAngular).pipe(K.wH)}valueChanges(ie={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.k)(pe=>pe.payload.docs.map(Ae=>ie.idField?{[ie.idField]:Ae.id,...Ae.data()}:Ae.data())),K.wH)}get(ie){return(0,$e.Q)(this.query.get(ie)).pipe(K.wH)}}const bt=new B.UbH("angularfire2.enableFirestorePersistence"),ln=new B.UbH("angularfire2.firestore.persistenceSettings"),xt=new B.UbH("angularfire2.firestore.settings"),Cn=new B.UbH("angularfire2.firestore.use-emulator");function zn(Lt,ie=(Ge=>Ge)){return{query:ie(Lt),ref:Lt}}let Mn=(()=>{var Lt;class ie{constructor(pe,Ae,ot,qe,J,ae,z,X,q,Ze,wt,pn,Nn,Wn,hr,On,mn){(0,l.c)(this,"schedulers",void 0),(0,l.c)(this,"firestore",void 0),(0,l.c)(this,"persistenceEnabled$",void 0),this.schedulers=z;const Xn=(0,ye._G)(pe,ae,Ae),fr=q;Ze&&(0,he.CU)(Xn,ae,wt,Nn,Wn,hr,pn,On),[this.firestore,this.persistenceEnabled$]=(0,ye.PQ)(`${Xn.name}.firestore`,"AngularFirestore",Xn.name,()=>{const zr=ae.runOutsideAngular(()=>Xn.firestore());if(qe&&zr.settings(qe),fr&&zr.useEmulator(...fr),ot&&!(0,F.uf)(J)){const St=()=>{try{return(0,$e.Q)(zr.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(yt){return typeof console<"u"&&console.warn(yt),(0,se.of)(!1)}};return[zr,ae.runOutsideAngular(St)]}return[zr,(0,se.of)(!1)]},[qe,fr,ot])}collection(pe,Ae){let ot;ot="string"==typeof pe?this.firestore.collection(pe):pe;const{ref:qe,query:J}=zn(ot,Ae),ae=this.schedulers.ngZone.run(()=>qe);return new dr(ae,J,this)}collectionGroup(pe,Ae){const ot=Ae||(J=>J),qe=this.firestore.collectionGroup(pe);return new kt(ot(qe),this)}doc(pe){let Ae;Ae="string"==typeof pe?this.firestore.doc(pe):pe;const ot=this.schedulers.ngZone.run(()=>Ae);return new qn(ot,this)}createId(){return this.firestore.collection("_").doc().id}}return Lt=ie,(0,l.c)(ie,"\u0275fac",function(pe){return new(pe||Lt)(B.CoB(ye.E9),B.CoB(ye.Ml,8),B.CoB(bt,8),B.CoB(xt,8),B.CoB(B.AHE),B.CoB(B.WW2),B.CoB(K.u),B.CoB(ln,8),B.CoB(Cn,8),B.CoB(he._o,8),B.CoB(he.GW,8),B.CoB(he.mq,8),B.CoB(he.ox,8),B.CoB(he.cd,8),B.CoB(he._8,8),B.CoB(he.Ev,8),B.CoB(K.gJ,8))}),(0,l.c)(ie,"\u0275prov",B.wxM({token:Lt,factory:Lt.\u0275fac,providedIn:"any"})),ie})(),Sn=(()=>{var Lt;class ie{constructor(){gn.c.registerVersion("angularfire",K.j1.full,"fst-compat")}static enablePersistence(pe){return{ngModule:ie,providers:[{provide:bt,useValue:!0},{provide:ln,useValue:pe}]}}}return Lt=ie,(0,l.c)(ie,"\u0275fac",function(pe){return new(pe||Lt)}),(0,l.c)(ie,"\u0275mod",B.a4G({type:Lt})),(0,l.c)(ie,"\u0275inj",B.s3X({providers:[Mn]})),ie})()},6e3:(tn,Qe,A)=>{"use strict";A.d(Qe,{E9:()=>$e,Ml:()=>se,PQ:()=>Fe,UN:()=>Le,_G:()=>Y,_w:()=>he,rh:()=>te});var l=A(4580),F=A(4496),B=A(6176),K=A(9252);const ye=["ngOnDestroy"],he=(Ve,rt,fe,Ke={})=>new Proxy(Ve,{get:(Ye,Xe)=>fe.runOutsideAngular(()=>{var ge;if(Ve[Xe])return null!=Ke&&null!==(ge=Ke.spy)&&void 0!==ge&&ge.get&&Ke.spy.get(Xe,Ve[Xe]),Ve[Xe];if(ye.indexOf(Xe)>-1)return()=>{};const $=rt.toPromise().then(be=>{const Ue=null==be?void 0:be[Xe];return"function"==typeof Ue?Ue.bind(be):null!=Ue&&Ue.then?Ue.then(ze=>fe.run(()=>ze)):fe.run(()=>Ue)});return new Proxy(()=>{},{get:(be,Ue)=>$[Ue],apply:(be,Ue,ze)=>$.then(et=>{var dt;const Ut=null==et?void 0:et(...ze);return null!=Ke&&null!==(dt=Ke.spy)&&void 0!==dt&&dt.apply&&Ke.spy.apply(Xe,ze,Ut),Ut})})})}),te=(Ve,rt)=>{rt.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(Ke=>{Object.defineProperty(Ve.prototype,Ke,Object.getOwnPropertyDescriptor(fe.prototype||fe,Ke))})})};class de{constructor(rt){return rt}}const $e=new F.UbH("angularfire2.app.options"),se=new F.UbH("angularfire2.app.name");function Y(Ve,rt,fe){const Ye="object"==typeof fe&&fe||{};Ye.name=Ye.name||"string"==typeof fe&&fe||"[DEFAULT]";const ge=K.c.apps.filter($=>$&&$.name===Ye.name)[0]||rt.runOutsideAngular(()=>K.c.initializeApp(Ve,Ye));try{if(JSON.stringify(Ve)!==JSON.stringify(ge.options)){const $=!!module.hot;xe("error",`${ge.name} Firebase App already initialized with different options${$?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new de(ge)}const xe=(Ve,...rt)=>{(0,F.sPQ)()&&typeof console<"u"&&console[Ve](...rt)},Me={provide:de,useFactory:Y,deps:[$e,F.WW2,[new F.T7N,se]]};let Le=(()=>{var Ve;class rt{static initializeApp(Ke,Ye){return{ngModule:rt,providers:[{provide:$e,useValue:Ke},{provide:se,useValue:Ye}]}}constructor(Ke){K.c.registerVersion("angularfire",B.j1.full,"core"),K.c.registerVersion("angularfire",B.j1.full,"app-compat"),K.c.registerVersion("angular",F.j1C.full,Ke.toString())}}return Ve=rt,(0,l.c)(rt,"\u0275fac",function(Ke){return new(Ke||Ve)(F.CoB(F.AHE))}),(0,l.c)(rt,"\u0275mod",F.a4G({type:Ve})),(0,l.c)(rt,"\u0275inj",F.s3X({providers:[Me]})),rt})();function Fe(Ve,rt,fe,Ke,Ye){const[,Xe,ge]=globalThis.\u0275AngularfireInstanceCache.find($=>$[0]===Ve)||[];if(Xe)return function tt(Ve,rt){try{return Ve.toString()===rt.toString()}catch{return Ve===rt}}(Ye,ge)||(Ne("error",`${rt} was already initialized on the ${fe} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:Ye,was:ge})),Xe;{const $=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Ve,$,Ye]),$}}const We=typeof module<"u"&&!!module.hot,Ne=(Ve,...rt)=>{(0,F.sPQ)()&&typeof console<"u"&&console[Ve](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6176:(tn,Qe,A)=>{"use strict";A.d(Qe,{j1:()=>Fe,wH:()=>et,u:()=>Xe,gJ:()=>Ve,S_:()=>Ne,UN:()=>We,qo:()=>cn});var l=A(4580),F=A(4496),B=A(3680),K=A(1364),he=A(9816);const de=new class te extends he.k{}(class ye extends K.m{constructor(lt,Re){super(lt,Re),this.scheduler=lt,this.work=Re}schedule(lt,Re=0){return Re>0?super.schedule(lt,Re):(this.delay=Re,this.state=lt,this.scheduler.flush(this),this)}execute(lt,Re){return Re>0||this.closed?super.execute(lt,Re):this._execute(lt,Re)}requestAsyncId(lt,Re,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(lt,Re,Ie):(lt.flush(this),0)}});var se=A(112),Y=A(3252),xe=A(9212),Me=A(2924),Le=A(3920);const Fe=new F.a8Z("ANGULARFIRE2_VERSION");function We(jt,lt,Re){if(lt){if(1===lt.length)return lt[0];const me=lt.filter(je=>je.app===Re);if(1===me.length)return me[0]}return Re.container.getProvider(jt).getImmediate({optional:!0})}const Ne=(jt,lt)=>{const Re=lt?[lt]:(0,B.UH)(),Ie=[];return Re.forEach(ke=>{ke.container.getProvider(jt).instances.forEach(je=>{Ie.includes(je)||Ie.push(je)})}),Ie};class Ve{constructor(){return Ne(rt)}}const rt="app-check";function fe(){}class Ke{constructor(lt,Re=de){(0,l.c)(this,"zone",void 0),(0,l.c)(this,"delegate",void 0),this.zone=lt,this.delegate=Re}now(){return this.delegate.now()}schedule(lt,Re,Ie){const ke=this.zone;return this.delegate.schedule(function(je){ke.runGuarded(()=>{lt.apply(this,[je])})},Re,Ie)}}class Ye{constructor(lt){(0,l.c)(this,"zone",void 0),(0,l.c)(this,"task",null),this.zone=lt}call(lt,Re){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),Re.pipe((0,xe.y)({next:Ie,complete:Ie,error:Ie})).subscribe(lt).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xe=(()=>{var jt;class lt{constructor(Ie){(0,l.c)(this,"ngZone",void 0),(0,l.c)(this,"outsideAngular",void 0),(0,l.c)(this,"insideAngular",void 0),this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Ke(Zone.current)),this.insideAngular=Ie.run(()=>new Ke(Zone.current,se.M)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return jt=lt,(0,l.c)(lt,"\u0275fac",function(Ie){return new(Ie||jt)(F.CoB(F.WW2))}),(0,l.c)(lt,"\u0275prov",F.wxM({token:jt,factory:jt.\u0275fac,providedIn:"root"})),lt})();function ge(){const jt=globalThis.\u0275AngularFireScheduler;if(!jt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return jt}function be(jt){return ge().ngZone.run(()=>jt())}function et(jt){return function dt(jt){return function(Re){return(Re=Re.lift(new Ye(jt.ngZone))).pipe((0,Me.y)(jt.outsideAngular),(0,Le.y)(jt.insideAngular))}}(ge())(jt)}const Ut=(jt,lt)=>function(){const Ie=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),be(()=>jt.apply(void 0,Ie))},cn=(jt,lt)=>function(){let Re;const Ie=arguments;for(let me=0;me<arguments.length;me++)"function"==typeof Ie[me]&&(lt&&(Re||(Re=be(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)))),Ie[me]=Ut(Ie[me],Re));const ke=function $(jt){return ge().ngZone.runOutsideAngular(()=>jt())}(()=>jt.apply(this,Ie));if(!lt){if(ke instanceof Y._){const me=ge();return ke.pipe((0,Me.y)(me.outsideAngular),(0,Le.y)(me.insideAngular))}return be(()=>ke)}return ke instanceof Y._?ke.pipe(et):ke instanceof Promise?be(()=>new Promise((me,je)=>ke.then(Te=>be(()=>me(Te)),Te=>be(()=>je(Te))))):"function"==typeof ke&&Re?function(){return setTimeout(()=>{Re&&"scheduled"===Re.state&&Re.invoke()},10),ke.apply(this,arguments)}:be(()=>ke)}},4716:(tn,Qe,A)=>{"use strict";A.d(Qe,{Ku:()=>vt,ug:()=>gi,Wo:()=>Qi,WC:()=>Nn,uW:()=>Ri,y:()=>za,_t:()=>Vs,Gu:()=>Zi,WM:()=>Xe,Y6:()=>Fe,eq:()=>hn,ue:()=>qn,u:()=>fn,_G:()=>qt,sl:()=>ta,AQ:()=>be,sz:()=>Vn});var l=A(4496),F=A(1368),B=A(9900),K=A(3252),ye=A(4300),he=A(560),te=A(6624),de=A(7773),$e=A(4187),se=A(7904),xe=A(4704);let Me=(()=>{var V;class P{constructor(L,Ce){this._renderer=L,this._elementRef=Ce,this.onChange=Zt=>{},this.onTouched=()=>{}}setProperty(L,Ce){this._renderer.setProperty(this._elementRef.nativeElement,L,Ce)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(l.q87),l.GI1(l.GMv))},V.\u0275dir=l.Sc5({type:V}),P})(),Le=(()=>{var V;class P extends Me{}return(V=P).\u0275fac=(()=>{let le;return function(Ce){return(le||(le=l.otF(V)))(Ce||V)}})(),V.\u0275dir=l.Sc5({type:V,features:[l.eg9]}),P})();const Fe=new l.UbH(""),Ne={provide:Fe,useExisting:(0,l.wd)(()=>fe),multi:!0},rt=new l.UbH("");let fe=(()=>{var V;class P extends Me{constructor(L,Ce,Zt){super(L,Ce),this._compositionMode=Zt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ve(){const V=(0,F.uy)()?(0,F.uy)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(l.q87),l.GI1(l.GMv),l.GI1(rt,8))},V.\u0275dir=l.Sc5({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,Ce){1&L&&l.qCj("input",function(wn){return Ce._handleInput(wn.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(wn){return Ce._compositionEnd(wn.target.value)})},features:[l.M5G([Ne]),l.eg9]}),P})();function Ke(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function Ye(V){return null!=V&&"number"==typeof V.length}const Xe=new l.UbH(""),ge=new l.UbH(""),$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(P){return Ue(P)}static max(P){return ze(P)}static required(P){return function et(V){return Ke(V.value)?{required:!0}:null}(P)}static requiredTrue(P){return function dt(V){return!0===V.value?null:{required:!0}}(P)}static email(P){return function Ut(V){return Ke(V.value)||$.test(V.value)?null:{email:!0}}(P)}static minLength(P){return function cn(V){return P=>Ke(P.value)||!Ye(P.value)?null:P.value.length<V?{minlength:{requiredLength:V,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function jt(V){return P=>Ye(P.value)&&P.value.length>V?{maxlength:{requiredLength:V,actualLength:P.value.length}}:null}(P)}static pattern(P){return function lt(V){if(!V)return Re;let P,le;return"string"==typeof V?(le="","^"!==V.charAt(0)&&(le+="^"),le+=V,"$"!==V.charAt(V.length-1)&&(le+="$"),P=new RegExp(le)):(le=V.toString(),P=V),L=>{if(Ke(L.value))return null;const Ce=L.value;return P.test(Ce)?null:{pattern:{requiredPattern:le,actualValue:Ce}}}}(P)}static nullValidator(P){return null}static compose(P){return Gt(P)}static composeAsync(P){return It(P)}}function Ue(V){return P=>{if(Ke(P.value)||Ke(V))return null;const le=parseFloat(P.value);return!isNaN(le)&&le<V?{min:{min:V,actual:P.value}}:null}}function ze(V){return P=>{if(Ke(P.value)||Ke(V))return null;const le=parseFloat(P.value);return!isNaN(le)&&le>V?{max:{max:V,actual:P.value}}:null}}function Re(V){return null}function Ie(V){return null!=V}function ke(V){return(0,l.w5$)(V)?(0,B.Q)(V):V}function me(V){let P={};return V.forEach(le=>{P=null!=le?{...P,...le}:P}),0===Object.keys(P).length?null:P}function je(V,P){return P.map(le=>le(V))}function Tt(V){return V.map(P=>function Te(V){return!V.validate}(P)?P:le=>P.validate(le))}function Gt(V){if(!V)return null;const P=V.filter(Ie);return 0==P.length?null:function(le){return me(je(le,P))}}function Ft(V){return null!=V?Gt(Tt(V)):null}function It(V){if(!V)return null;const P=V.filter(Ie);return 0==P.length?null:function(le){return function Y(...V){const P=(0,te.yu)(V),{args:le,keys:L}=(0,ye.Q)(V),Ce=new K._(Zt=>{const{length:wn}=le;if(!wn)return void Zt.complete();const ri=new Array(wn);let Fi=wn,oo=wn;for(let Do=0;Do<wn;Do++){let Ts=!1;(0,he.Uv)(le[Do]).subscribe((0,de.e)(Zt,_a=>{Ts||(Ts=!0,oo--),ri[Do]=_a},()=>Fi--,void 0,()=>{(!Fi||!Ts)&&(oo||Zt.next(L?(0,se.q)(L,ri):ri),Zt.complete())}))}});return P?Ce.pipe((0,$e.j)(P)):Ce}(je(le,P).map(ke)).pipe((0,xe.k)(me))}}function nn(V){return null!=V?It(Tt(V)):null}function Dn(V,P){return null===V?[P]:Array.isArray(V)?[...V,P]:[V,P]}function Tn(V){return V._rawValidators}function Ct(V){return V._rawAsyncValidators}function gt(V){return V?Array.isArray(V)?V:[V]:[]}function ht(V,P){return Array.isArray(V)?V.includes(P):V===P}function Wt(V,P){const le=gt(P);return gt(V).forEach(Ce=>{ht(le,Ce)||le.push(Ce)}),le}function yn(V,P){return gt(P).filter(le=>!ht(V,le))}class Ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,le){return!!this.control&&this.control.hasError(P,le)}getError(P,le){return this.control?this.control.getError(P,le):null}}class gn extends Ot{get formDirective(){return null}get path(){return null}}class hn extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let qn=(()=>{var V;class P extends An{constructor(L){super(L)}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(hn,2))},V.\u0275dir=l.Sc5({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,Ce){2&L&&l.eAK("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)},features:[l.eg9]}),P})(),fn=(()=>{var V;class P extends An{constructor(L){super(L)}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(gn,10))},V.\u0275dir=l.Sc5({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,Ce){2&L&&l.eAK("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)("ng-submitted",Ce.isSubmitted)},features:[l.eg9]}),P})();const pe="VALID",Ae="INVALID",ot="PENDING",qe="DISABLED";function J(V){return(q(V)?V.validators:V)||null}function z(V,P){return(q(P)?P.asyncValidators:V)||null}function q(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class pn{constructor(P,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===pe}get invalid(){return this.status===Ae}get pending(){return this.status==ot}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(Wt(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Wt(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(yn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(yn(P,this._rawAsyncValidators))}hasValidator(P){return ht(this._rawValidators,P)}hasAsyncValidator(P){return ht(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(le=>{le.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(le=>{le.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=ot,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const le=this._parentMarkedDirty(P.onlySelf);this.status=qe,this.errors=null,this._forEachChild(L=>{L.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:le}),this._onDisabledChange.forEach(L=>L(!0))}enable(P={}){const le=this._parentMarkedDirty(P.onlySelf);this.status=pe,this._forEachChild(L=>{L.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:le}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pe||this.status===ot)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:pe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=ot,this._hasOwnPendingAsyncValidator=!0;const le=ke(this.asyncValidator(this));this._asyncValidationSubscription=le.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,le={}){this.errors=P,this._updateControlsErrors(!1!==le.emitEvent)}get(P){let le=P;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((L,Ce)=>L&&L._find(Ce),this)}getError(P,le){const L=le?this.get(le):this;return L&&L.errors?L.errors[P]:null}hasError(P,le){return!!this.getError(P,le)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new l._w7,this.statusChanges=new l._w7}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?Ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ot)?ot:this._anyControlsHaveStatus(Ae)?Ae:pe}_anyControlsHaveStatus(P){return this._anyControls(le=>le.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){q(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function ae(V){return Array.isArray(V)?Ft(V):V||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function X(V){return Array.isArray(V)?nn(V):V||null}(this._rawAsyncValidators)}}class Nn extends pn{constructor(P,le,L){super(J(le),z(L,le)),this.controls=P,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,le){return this.controls[P]?this.controls[P]:(this.controls[P]=le,le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange),le)}addControl(P,le,L={}){this.registerControl(P,le),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(P,le={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}setControl(P,le,L={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],le&&this.registerControl(P,le),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,le={}){(function wt(V,P,le){V._forEachChild((L,Ce)=>{if(void 0===le[Ce])throw new l.OBp(1002,"")})})(this,0,P),Object.keys(P).forEach(L=>{(function Ze(V,P,le){const L=V.controls;if(!(P?Object.keys(L):L).length)throw new l.OBp(1e3,"");if(!L[le])throw new l.OBp(1001,"")})(this,!0,L),this.controls[L].setValue(P[L],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(P,le={}){null!=P&&(Object.keys(P).forEach(L=>{const Ce=this.controls[L];Ce&&Ce.patchValue(P[L],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(P={},le={}){this._forEachChild((L,Ce)=>{L.reset(P?P[Ce]:null,{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le),this._updateTouched(le),this.updateValueAndValidity(le)}getRawValue(){return this._reduceChildren({},(P,le,L)=>(P[L]=le.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(le,L)=>!!L._syncPendingControls()||le);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(le=>{const L=this.controls[le];L&&P(L,le)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[le,L]of Object.entries(this.controls))if(this.contains(le)&&P(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(le,L,Ce)=>((L.enabled||this.disabled)&&(le[Ce]=L.value),le))}_reduceChildren(P,le){let L=P;return this._forEachChild((Ce,Zt)=>{L=le(L,Ce,Zt)}),L}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}const fr=new l.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>zr}),zr="always";function St(V,P){return[...P.path,V]}function yt(V,P,le=zr){var L,Ce;Gn(V,P),P.valueAccessor.writeValue(V.value),(V.disabled||"always"===le)&&(null===(L=(Ce=P.valueAccessor).setDisabledState)||void 0===L||L.call(Ce,V.disabled)),function Pr(V,P){P.valueAccessor.registerOnChange(le=>{V._pendingValue=le,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Ar(V,P)})}(V,P),function ni(V,P){const le=(L,Ce)=>{P.valueAccessor.writeValue(L),Ce&&P.viewToModelUpdate(L)};V.registerOnChange(le),P._registerOnDestroy(()=>{V._unregisterOnChange(le)})}(V,P),function Er(V,P){P.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Ar(V,P),"submit"!==V.updateOn&&V.markAsTouched()})}(V,P),function Qn(V,P){if(P.valueAccessor.setDisabledState){const le=L=>{P.valueAccessor.setDisabledState(L)};V.registerOnDisabledChange(le),P._registerOnDestroy(()=>{V._unregisterOnDisabledChange(le)})}}(V,P)}function Mt(V,P,le=!0){const L=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(L),P.valueAccessor.registerOnTouched(L)),Zn(V,P),V&&(P._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function In(V,P){V.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(P)})}function Gn(V,P){const le=Tn(V);null!==P.validator?V.setValidators(Dn(le,P.validator)):"function"==typeof le&&V.setValidators([le]);const L=Ct(V);null!==P.asyncValidator?V.setAsyncValidators(Dn(L,P.asyncValidator)):"function"==typeof L&&V.setAsyncValidators([L]);const Ce=()=>V.updateValueAndValidity();In(P._rawValidators,Ce),In(P._rawAsyncValidators,Ce)}function Zn(V,P){let le=!1;if(null!==V){if(null!==P.validator){const Ce=Tn(V);if(Array.isArray(Ce)&&Ce.length>0){const Zt=Ce.filter(wn=>wn!==P.validator);Zt.length!==Ce.length&&(le=!0,V.setValidators(Zt))}}if(null!==P.asyncValidator){const Ce=Ct(V);if(Array.isArray(Ce)&&Ce.length>0){const Zt=Ce.filter(wn=>wn!==P.asyncValidator);Zt.length!==Ce.length&&(le=!0,V.setAsyncValidators(Zt))}}}const L=()=>{};return In(P._rawValidators,L),In(P._rawAsyncValidators,L),le}function Ar(V,P){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function we(V,P){if(!V.hasOwnProperty("model"))return!1;const le=V.model;return!!le.isFirstChange()||!Object.is(P,le.currentValue)}function De(V,P){if(!P)return null;let le,L,Ce;return Array.isArray(P),P.forEach(Zt=>{Zt.constructor===fe?le=Zt:function Se(V){return Object.getPrototypeOf(V.constructor)===Le}(Zt)?L=Zt:Ce=Zt}),Ce||L||le||null}function kn(V,P){const le=V.indexOf(P);le>-1&&V.splice(le,1)}function Wr(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}Promise.resolve();const vt=class extends pn{constructor(P=null,le,L){super(J(le),z(L,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=Wr(P)?P.value:P)}setValue(P,le={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(P,le={}){this.setValue(P,le)}reset(P=this.defaultValue,le={}){this._applyFormState(P),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){kn(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){kn(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){Wr(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},Xt={provide:hn,useExisting:(0,l.wd)(()=>qt)},vn=Promise.resolve();let qt=(()=>{var V;class P extends hn{constructor(L,Ce,Zt,wn,ri,Fi){super(),this._changeDetectorRef=ri,this.callSetDisabledState=Fi,this.control=new vt,this._registered=!1,this.name="",this.update=new l._w7,this._parent=L,this._setValidators(Ce),this._setAsyncValidators(Zt),this.valueAccessor=De(0,wn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const Ce=L.name.previousValue;this.formDirective.removeControl({name:Ce,path:this._getPath(Ce)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),we(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){vn.then(()=>{var Ce;this.control.setValue(L,{emitViewToModelChange:!1}),null===(Ce=this._changeDetectorRef)||void 0===Ce||Ce.markForCheck()})}_updateDisabled(L){const Ce=L.isDisabled.currentValue,Zt=0!==Ce&&(0,l.cZD)(Ce);vn.then(()=>{var wn;Zt&&!this.control.disabled?this.control.disable():!Zt&&this.control.disabled&&this.control.enable(),null===(wn=this._changeDetectorRef)||void 0===wn||wn.markForCheck()})}_getPath(L){return this._parent?St(L,this._parent):[L]}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(gn,9),l.GI1(Xe,10),l.GI1(ge,10),l.GI1(Fe,10),l.GI1(l.kD9,8),l.GI1(fr,8))},V.\u0275dir=l.Sc5({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[l.Wk5.None,"disabled","isDisabled"],model:[l.Wk5.None,"ngModel","model"],options:[l.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.M5G([Xt]),l.eg9,l.SYr]}),P})(),Vn=(()=>{var V;class P{}return(V=P).\u0275fac=function(L){return new(L||V)},V.\u0275dir=l.Sc5({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})();const Un=new l.UbH(""),Xr={provide:hn,useExisting:(0,l.wd)(()=>gi)};let gi=(()=>{var V;class P extends hn{set isDisabled(L){}constructor(L,Ce,Zt,wn,ri){super(),this._ngModelWarningConfig=wn,this.callSetDisabledState=ri,this.update=new l._w7,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(Ce),this.valueAccessor=De(0,Zt)}ngOnChanges(L){if(this._isControlChanged(L)){const Ce=L.form.previousValue;Ce&&Mt(Ce,this,!1),yt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}we(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return(V=P)._ngModelWarningSentOnce=!1,V.\u0275fac=function(L){return new(L||V)(l.GI1(Xe,10),l.GI1(ge,10),l.GI1(Fe,10),l.GI1(Un,8),l.GI1(fr,8))},V.\u0275dir=l.Sc5({type:V,selectors:[["","formControl",""]],inputs:{form:[l.Wk5.None,"formControl","form"],isDisabled:[l.Wk5.None,"disabled","isDisabled"],model:[l.Wk5.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l.M5G([Xr]),l.eg9,l.SYr]}),P})();const yi={provide:gn,useExisting:(0,l.wd)(()=>Ri)};let Ri=(()=>{var V;class P extends gn{constructor(L,Ce,Zt){super(),this.callSetDisabledState=Zt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l._w7,this._setValidators(L),this._setAsyncValidators(Ce)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const Ce=this.form.get(L.path);return yt(Ce,L,this.callSetDisabledState),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),Ce}getControl(L){return this.form.get(L.path)}removeControl(L){Mt(L.control||null,L,!1),function ct(V,P){const le=V.indexOf(P);le>-1&&V.splice(le,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,Ce){this.form.get(L.path).setValue(Ce)}onSubmit(L){var Ce;return this.submitted=!0,function W(V,P){V._syncPendingControls(),P.forEach(le=>{const L=le.control;"submit"===L.updateOn&&L._pendingChange&&(le.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(Ce=L.target)||void 0===Ce?void 0:Ce.method)}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const Ce=L.control,Zt=this.form.get(L.path);Ce!==Zt&&(Mt(Ce||null,L),(V=>V instanceof vt)(Zt)&&(yt(Zt,L,this.callSetDisabledState),L.control=Zt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const Ce=this.form.get(L.path);(function Ci(V,P){Gn(V,P)})(Ce,L),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const Ce=this.form.get(L.path);Ce&&function sr(V,P){return Zn(V,P)}(Ce,L)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gn(this.form,this),this._oldForm&&Zn(this._oldForm,this)}_checkFormPresent(){}}return(V=P).\u0275fac=function(L){return new(L||V)(l.GI1(Xe,10),l.GI1(ge,10),l.GI1(fr,8))},V.\u0275dir=l.Sc5({type:V,selectors:[["","formGroup",""]],hostBindings:function(L,Ce){1&L&&l.qCj("submit",function(wn){return Ce.onSubmit(wn)})("reset",function(){return Ce.onReset()})},inputs:{form:[l.Wk5.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.M5G([yi]),l.eg9,l.SYr]}),P})();const Jn={provide:hn,useExisting:(0,l.wd)(()=>Qi)};let Qi=(()=>{var V;class P extends hn{set isDisabled(L){}constructor(L,Ce,Zt,wn,ri){super(),this._ngModelWarningConfig=ri,this._added=!1,this.name=null,this.update=new l._w7,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(Ce),this._setAsyncValidators(Zt),this.valueAccessor=De(0,wn)}ngOnChanges(L){this._added||this._setUpControl(),we(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(V=P)._ngModelWarningSentOnce=!1,V.\u0275fac=function(L){return new(L||V)(l.GI1(gn,13),l.GI1(Xe,10),l.GI1(ge,10),l.GI1(Fe,10),l.GI1(Un,8))},V.\u0275dir=l.Sc5({type:V,selectors:[["","formControlName",""]],inputs:{name:[l.Wk5.None,"formControlName","name"],isDisabled:[l.Wk5.None,"disabled","isDisabled"],model:[l.Wk5.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.M5G([Jn]),l.eg9,l.SYr]}),P})();function wi(V){return"number"==typeof V?V:parseFloat(V)}let Pi=(()=>{var V;class P{constructor(){this._validator=Re}ngOnChanges(L){if(this.inputName in L){const Ce=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(Ce),this._validator=this._enabled?this.createValidator(Ce):Re,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return(V=P).\u0275fac=function(L){return new(L||V)},V.\u0275dir=l.Sc5({type:V,features:[l.SYr]}),P})();const Wa={provide:Xe,useExisting:(0,l.wd)(()=>Vs),multi:!0};let Vs=(()=>{var V;class P extends Pi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>wi(L),this.createValidator=L=>ze(L)}}return(V=P).\u0275fac=(()=>{let le;return function(Ce){return(le||(le=l.otF(V)))(Ce||V)}})(),V.\u0275dir=l.Sc5({type:V,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,Ce){2&L&&l.e48("max",Ce._enabled?Ce.max:null)},inputs:{max:"max"},features:[l.M5G([Wa]),l.eg9]}),P})();const Js={provide:Xe,useExisting:(0,l.wd)(()=>Zi),multi:!0};let Zi=(()=>{var V;class P extends Pi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>wi(L),this.createValidator=L=>Ue(L)}}return(V=P).\u0275fac=(()=>{let le;return function(Ce){return(le||(le=l.otF(V)))(Ce||V)}})(),V.\u0275dir=l.Sc5({type:V,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,Ce){2&L&&l.e48("min",Ce._enabled?Ce.min:null)},inputs:{min:"min"},features:[l.M5G([Js]),l.eg9]}),P})(),ko=(()=>{var V;class P{}return(V=P).\u0275fac=function(L){return new(L||V)},V.\u0275mod=l.a4G({type:V}),V.\u0275inj=l.s3X({}),P})(),za=(()=>{var V;class P{static withConfig(L){var Ce;return{ngModule:P,providers:[{provide:fr,useValue:null!==(Ce=L.callSetDisabledState)&&void 0!==Ce?Ce:zr}]}}}return(V=P).\u0275fac=function(L){return new(L||V)},V.\u0275mod=l.a4G({type:V}),V.\u0275inj=l.s3X({imports:[ko]}),P})(),ta=(()=>{var V;class P{static withConfig(L){var Ce,Zt;return{ngModule:P,providers:[{provide:Un,useValue:null!==(Ce=L.warnOnNgModelWithFormControl)&&void 0!==Ce?Ce:"always"},{provide:fr,useValue:null!==(Zt=L.callSetDisabledState)&&void 0!==Zt?Zt:zr}]}}}return(V=P).\u0275fac=function(L){return new(L||V)},V.\u0275mod=l.a4G({type:V}),V.\u0275inj=l.s3X({imports:[ko]}),P})()},4476:(tn,Qe,A)=>{"use strict";A.d(Qe,{OY:()=>yn,iE:()=>gt,o_:()=>nn});var l=A(4496),F=A(1368);class B extends F.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K extends B{static makeCurrent(){(0,F.ug)(new K)}onAndCancel(Ae,ot,qe){return Ae.addEventListener(ot,qe),()=>{Ae.removeEventListener(ot,qe)}}dispatchEvent(Ae,ot){Ae.dispatchEvent(ot)}remove(Ae){Ae.parentNode&&Ae.parentNode.removeChild(Ae)}createElement(Ae,ot){return(ot=ot||this.getDefaultDocument()).createElement(Ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ae){return Ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ae){return Ae instanceof DocumentFragment}getGlobalEventTarget(Ae,ot){return"window"===ot?window:"document"===ot?Ae:"body"===ot?Ae.body:null}getBaseHref(Ae){const ot=function he(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==ot?null:function te(pe){return new URL(pe,document.baseURI).pathname}(ot)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ae){return(0,F.Sg)(document.cookie,Ae)}}let ye=null,$e=(()=>{var pe;class Ae{build(){return new XMLHttpRequest}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();const se=new l.UbH("");let Y=(()=>{var pe;class Ae{constructor(qe,J){this._zone=J,this._eventNameToPlugin=new Map,qe.forEach(ae=>{ae.manager=this}),this._plugins=qe.slice().reverse()}addEventListener(qe,J,ae){return this._findPluginFor(J).addEventListener(qe,J,ae)}getZone(){return this._zone}_findPluginFor(qe){let J=this._eventNameToPlugin.get(qe);if(J)return J;if(J=this._plugins.find(z=>z.supports(qe)),!J)throw new l.OBp(5101,!1);return this._eventNameToPlugin.set(qe,J),J}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(se),l.CoB(l.WW2))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();class xe{constructor(Ae){this._doc=Ae}}const Me="ng-app-id";let Le=(()=>{var pe;class Ae{constructor(qe,J,ae,z={}){this.doc=qe,this.appId=J,this.nonce=ae,this.platformId=z,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,F.uf)(z),this.resetHostNodes()}addStyles(qe){for(const J of qe)1===this.changeUsageCount(J,1)&&this.onStyleAdded(J)}removeStyles(qe){for(const J of qe)this.changeUsageCount(J,-1)<=0&&this.onStyleRemoved(J)}ngOnDestroy(){const qe=this.styleNodesInDOM;qe&&(qe.forEach(J=>J.remove()),qe.clear());for(const J of this.getAllStyles())this.onStyleRemoved(J);this.resetHostNodes()}addHost(qe){this.hostNodes.add(qe);for(const J of this.getAllStyles())this.addStyleToHost(qe,J)}removeHost(qe){this.hostNodes.delete(qe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(qe){for(const J of this.hostNodes)this.addStyleToHost(J,qe)}onStyleRemoved(qe){var J;const ae=this.styleRef;null===(J=ae.get(qe))||void 0===J||null===(J=J.elements)||void 0===J||J.forEach(z=>z.remove()),ae.delete(qe)}collectServerRenderedStyles(){var qe;const J=null===(qe=this.doc.head)||void 0===qe?void 0:qe.querySelectorAll(`style[${Me}="${this.appId}"]`);if(null!=J&&J.length){const ae=new Map;return J.forEach(z=>{null!=z.textContent&&ae.set(z.textContent,z)}),ae}return null}changeUsageCount(qe,J){const ae=this.styleRef;if(ae.has(qe)){const z=ae.get(qe);return z.usage+=J,z.usage}return ae.set(qe,{usage:J,elements:[]}),J}getStyleElement(qe,J){const ae=this.styleNodesInDOM,z=null==ae?void 0:ae.get(J);if((null==z?void 0:z.parentNode)===qe)return ae.delete(J),z.removeAttribute(Me),z;{const X=this.doc.createElement("style");return this.nonce&&X.setAttribute("nonce",this.nonce),X.textContent=J,this.platformIsServer&&X.setAttribute(Me,this.appId),qe.appendChild(X),X}}addStyleToHost(qe,J){var ae;const z=this.getStyleElement(qe,J),X=this.styleRef,q=null===(ae=X.get(J))||void 0===ae?void 0:ae.elements;q?q.push(z):X.set(J,{elements:[z],usage:1})}resetHostNodes(){const qe=this.hostNodes;qe.clear(),qe.add(this.doc.head)}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(F.Ud),l.CoB(l.QHP),l.CoB(l.YND,8),l.CoB(l.AHE))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();const Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g,fe=new l.UbH("",{providedIn:"root",factory:()=>!0});function Xe(pe,Ae){return Ae.map(ot=>ot.replace(tt,pe))}let ge=(()=>{var pe;class Ae{constructor(qe,J,ae,z,X,q,Ze,wt=null){this.eventManager=qe,this.sharedStylesHost=J,this.appId=ae,this.removeStylesOnCompDestroy=z,this.doc=X,this.platformId=q,this.ngZone=Ze,this.nonce=wt,this.rendererByCompId=new Map,this.platformIsServer=(0,F.uf)(q),this.defaultRenderer=new $(qe,X,Ze,this.platformIsServer)}createRenderer(qe,J){if(!qe||!J)return this.defaultRenderer;this.platformIsServer&&J.encapsulation===l.K6R.ShadowDom&&(J={...J,encapsulation:l.K6R.Emulated});const ae=this.getOrCreateRenderer(qe,J);return ae instanceof Ut?ae.applyToHost(qe):ae instanceof dt&&ae.applyStyles(),ae}getOrCreateRenderer(qe,J){const ae=this.rendererByCompId;let z=ae.get(J.id);if(!z){const X=this.doc,q=this.ngZone,Ze=this.eventManager,wt=this.sharedStylesHost,pn=this.removeStylesOnCompDestroy,Nn=this.platformIsServer;switch(J.encapsulation){case l.K6R.Emulated:z=new Ut(Ze,wt,J,this.appId,pn,X,q,Nn);break;case l.K6R.ShadowDom:return new et(Ze,wt,qe,J,X,q,this.nonce,Nn);default:z=new dt(Ze,wt,J,pn,X,q,Nn)}ae.set(J.id,z)}return z}ngOnDestroy(){this.rendererByCompId.clear()}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(Y),l.CoB(Le),l.CoB(l.QHP),l.CoB(fe),l.CoB(F.Ud),l.CoB(l.AHE),l.CoB(l.WW2),l.CoB(l.YND))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();class ${constructor(Ae,ot,qe,J){this.eventManager=Ae,this.doc=ot,this.ngZone=qe,this.platformIsServer=J,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ae,ot){return ot?this.doc.createElementNS(Fe[ot]||ot,Ae):this.doc.createElement(Ae)}createComment(Ae){return this.doc.createComment(Ae)}createText(Ae){return this.doc.createTextNode(Ae)}appendChild(Ae,ot){(ze(Ae)?Ae.content:Ae).appendChild(ot)}insertBefore(Ae,ot,qe){Ae&&(ze(Ae)?Ae.content:Ae).insertBefore(ot,qe)}removeChild(Ae,ot){Ae&&Ae.removeChild(ot)}selectRootElement(Ae,ot){let qe="string"==typeof Ae?this.doc.querySelector(Ae):Ae;if(!qe)throw new l.OBp(-5104,!1);return ot||(qe.textContent=""),qe}parentNode(Ae){return Ae.parentNode}nextSibling(Ae){return Ae.nextSibling}setAttribute(Ae,ot,qe,J){if(J){ot=J+":"+ot;const ae=Fe[J];ae?Ae.setAttributeNS(ae,ot,qe):Ae.setAttribute(ot,qe)}else Ae.setAttribute(ot,qe)}removeAttribute(Ae,ot,qe){if(qe){const J=Fe[qe];J?Ae.removeAttributeNS(J,ot):Ae.removeAttribute(`${qe}:${ot}`)}else Ae.removeAttribute(ot)}addClass(Ae,ot){Ae.classList.add(ot)}removeClass(Ae,ot){Ae.classList.remove(ot)}setStyle(Ae,ot,qe,J){J&(l.yzm.DashCase|l.yzm.Important)?Ae.style.setProperty(ot,qe,J&l.yzm.Important?"important":""):Ae.style[ot]=qe}removeStyle(Ae,ot,qe){qe&l.yzm.DashCase?Ae.style.removeProperty(ot):Ae.style[ot]=""}setProperty(Ae,ot,qe){null!=Ae&&(Ae[ot]=qe)}setValue(Ae,ot){Ae.nodeValue=ot}listen(Ae,ot,qe){if("string"==typeof Ae&&!(Ae=(0,F.uy)().getGlobalEventTarget(this.doc,Ae)))throw new Error(`Unsupported event target ${Ae} for event ${ot}`);return this.eventManager.addEventListener(Ae,ot,this.decoratePreventDefault(qe))}decoratePreventDefault(Ae){return ot=>{if("__ngUnwrap__"===ot)return Ae;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ae(ot)):Ae(ot))&&ot.preventDefault()}}}function ze(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class et extends ${constructor(Ae,ot,qe,J,ae,z,X,q){super(Ae,ae,z,q),this.sharedStylesHost=ot,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ze=Xe(J.id,J.styles);for(const wt of Ze){const pn=document.createElement("style");X&&pn.setAttribute("nonce",X),pn.textContent=wt,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(Ae){return Ae===this.hostEl?this.shadowRoot:Ae}appendChild(Ae,ot){return super.appendChild(this.nodeOrShadowRoot(Ae),ot)}insertBefore(Ae,ot,qe){return super.insertBefore(this.nodeOrShadowRoot(Ae),ot,qe)}removeChild(Ae,ot){return super.removeChild(this.nodeOrShadowRoot(Ae),ot)}parentNode(Ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dt extends ${constructor(Ae,ot,qe,J,ae,z,X,q){super(Ae,ae,z,X),this.sharedStylesHost=ot,this.removeStylesOnCompDestroy=J,this.styles=q?Xe(q,qe.styles):qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ut extends dt{constructor(Ae,ot,qe,J,ae,z,X,q){const Ze=J+"-"+qe.id;super(Ae,ot,qe,ae,z,X,q,Ze),this.contentAttr=function Ke(pe){return"_ngcontent-%COMP%".replace(tt,pe)}(Ze),this.hostAttr=function Ye(pe){return"_nghost-%COMP%".replace(tt,pe)}(Ze)}applyToHost(Ae){this.applyStyles(),this.setAttribute(Ae,this.hostAttr,"")}createElement(Ae,ot){const qe=super.createElement(Ae,ot);return super.setAttribute(qe,this.contentAttr,""),qe}}let cn=(()=>{var pe;class Ae extends xe{constructor(qe){super(qe)}supports(qe){return!0}addEventListener(qe,J,ae){return qe.addEventListener(J,ae,!1),()=>this.removeEventListener(qe,J,ae)}removeEventListener(qe,J,ae){return qe.removeEventListener(J,ae)}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(F.Ud))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();const jt=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let Ie=(()=>{var pe;class Ae extends xe{constructor(qe){super(qe)}supports(qe){return null!=Ae.parseEventName(qe)}addEventListener(qe,J,ae){const z=Ae.parseEventName(J),X=Ae.eventCallback(z.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,F.uy)().onAndCancel(qe,z.domEventName,X))}static parseEventName(qe){const J=qe.toLowerCase().split("."),ae=J.shift();if(0===J.length||"keydown"!==ae&&"keyup"!==ae)return null;const z=Ae._normalizeKey(J.pop());let X="",q=J.indexOf("code");if(q>-1&&(J.splice(q,1),X="code."),jt.forEach(wt=>{const pn=J.indexOf(wt);pn>-1&&(J.splice(pn,1),X+=wt+".")}),X+=z,0!=J.length||0===z.length)return null;const Ze={};return Ze.domEventName=ae,Ze.fullKey=X,Ze}static matchEventFullKeyCode(qe,J){let ae=lt[qe.key]||qe.key,z="";return J.indexOf("code.")>-1&&(ae=qe.code,z="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),jt.forEach(X=>{X!==ae&&(0,Re[X])(qe)&&(z+=X+".")}),z+=ae,z===J)}static eventCallback(qe,J,ae){return z=>{Ae.matchEventFullKeyCode(z,qe)&&ae.runGuarded(()=>J(z))}}static _normalizeKey(qe){return"esc"===qe?"escape":qe}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(F.Ud))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac}),Ae})();const nn=(0,l.grM)(l.m4O,"browser",[{provide:l.AHE,useValue:F._k},{provide:l.crf,useValue:function Tt(){K.makeCurrent()},multi:!0},{provide:F.Ud,useFactory:function Ft(){return(0,l.auf)(document),document},deps:[]}]),Dn=new l.UbH(""),Tn=[{provide:l.Mn9,useClass:class de{addToWindow(Ae){l.IHs.getAngularTestability=(qe,J=!0)=>{const ae=Ae.findTestabilityInTree(qe,J);if(null==ae)throw new l.OBp(5103,!1);return ae},l.IHs.getAllAngularTestabilities=()=>Ae.getAllTestabilities(),l.IHs.getAllAngularRootElements=()=>Ae.getAllRootElements(),l.IHs.frameworkStabilizers||(l.IHs.frameworkStabilizers=[]),l.IHs.frameworkStabilizers.push(qe=>{const J=l.IHs.getAllAngularTestabilities();let ae=J.length;const z=function(){ae--,0==ae&&qe()};J.forEach(X=>{X.whenStable(z)})})}findTestabilityInTree(Ae,ot,qe){if(null==ot)return null;const J=Ae.getTestability(ot);return null!=J?J:qe?(0,F.uy)().isShadowRoot(ot)?this.findTestabilityInTree(Ae,ot.host,!0):this.findTestabilityInTree(Ae,ot.parentElement,!0):null}},deps:[]},{provide:l.aS5,useClass:l.G4X,deps:[l.WW2,l.eOv,l.Mn9]},{provide:l.G4X,useClass:l.G4X,deps:[l.WW2,l.eOv,l.Mn9]}],Ct=[{provide:l.i4S,useValue:"root"},{provide:l.eAe,useFactory:function Gt(){return new l.eAe},deps:[]},{provide:se,useClass:cn,multi:!0,deps:[F.Ud,l.WW2,l.AHE]},{provide:se,useClass:Ie,multi:!0,deps:[F.Ud]},ge,Le,Y,{provide:l.O8F,useExisting:ge},{provide:F.OM,useClass:$e,deps:[]},[]];let gt=(()=>{var pe;class Ae{constructor(qe){}static withServerTransition(qe){return{ngModule:Ae,providers:[{provide:l.QHP,useValue:qe.appId}]}}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(Dn,12))},pe.\u0275mod=l.a4G({type:pe}),pe.\u0275inj=l.s3X({providers:[...Ct,...Tn],imports:[F.MD,l.Ev2]}),Ae})(),yn=(()=>{var pe;class Ae{constructor(qe){this._doc=qe}getTitle(){return this._doc.title}setTitle(qe){this._doc.title=qe||""}}return(pe=Ae).\u0275fac=function(qe){return new(qe||pe)(l.CoB(F.Ud))},pe.\u0275prov=l.wxM({token:pe,factory:pe.\u0275fac,providedIn:"root"}),Ae})()},9148:(tn,Qe,A)=>{"use strict";A.d(Qe,{gV:()=>yi,O4:()=>Vr,Qx:()=>ct,gf:()=>It,eu:()=>Yr,XE:()=>un,E5:()=>an,ER:()=>hi,qQ:()=>ds,qd:()=>xt});var l=A(4496),F=A(3252),B=A(8880),ye=A(9900),he=A(2700),te=A(6700),de=A(6040),$e=A(7696),se=A(7228),Y=A(1424),xe=A(3928),Me=A(3800),Le=A(8960),Fe=A(2376),tt=A(5657),We=A(6928),Ne=A(1368),Ve=A(4704),rt=A(7368),fe=A(3992),Ke=A(5568),Ye=A(6684),Xe=A(7400),ge=A(5084);function $(_,T){return(0,B.m)(T)?(0,Xe.O)(_,T,1):(0,Xe.O)(_,1)}var be=A(9212),Ue=A(560),ze=A(7773),et=A(5448);function dt(_){return(0,et.i)((T,M)=>{let ee,D=null,N=!1;D=T.subscribe((0,ze.e)(M,void 0,void 0,_e=>{ee=(0,Ue.Uv)(_(_e,dt(_)(T))),D?(D.unsubscribe(),D=null,ee.subscribe(M)):N=!0})),N&&(D.unsubscribe(),D=null,ee.subscribe(M))})}var Ut=A(208),cn=A(2156);function jt(_){return _<=0?()=>Le.k:(0,et.i)((T,M)=>{let D=[];T.subscribe((0,ze.e)(M,N=>{D.push(N),_<D.length&&D.shift()},()=>{for(const N of D)M.next(N);M.complete()},void 0,()=>{D=null}))})}var lt=A(8124),Re=A(528),ke=A(320);function me(_){return(0,et.i)((T,M)=>{try{T.subscribe(M)}finally{M.add(_)}})}var je=A(8084),Te=A(308),Gt=A(267),Ft=A(4476);const It="primary",nn=Symbol("RouteTitle");class Dn{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const M=this.params[T];return Array.isArray(M)?M[0]:M}return null}getAll(T){if(this.has(T)){const M=this.params[T];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Tn(_){return new Dn(_)}function Ct(_,T,M){const D=M.path.split("/");if(D.length>_.length||"full"===M.pathMatch&&(T.hasChildren()||D.length<_.length))return null;const N={};for(let ee=0;ee<D.length;ee++){const _e=D[ee],_t=_[ee];if(_e.startsWith(":"))N[_e.substring(1)]=_t;else if(_e!==_t.path)return null}return{consumed:_.slice(0,D.length),posParams:N}}function ht(_,T){const M=_?Wt(_):void 0,D=T?Wt(T):void 0;if(!M||!D||M.length!=D.length)return!1;let N;for(let ee=0;ee<M.length;ee++)if(N=M[ee],!yn(_[N],T[N]))return!1;return!0}function Wt(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function yn(_,T){if(Array.isArray(_)&&Array.isArray(T)){if(_.length!==T.length)return!1;const M=[..._].sort(),D=[...T].sort();return M.every((N,ee)=>D[ee]===N)}return _===T}function Ot(_){return _.length>0?_[_.length-1]:null}function gn(_){return function K(_){return!!_&&(_ instanceof F._||(0,B.m)(_.lift)&&(0,B.m)(_.subscribe))}(_)?_:(0,l.w5$)(_)?(0,ye.Q)(Promise.resolve(_)):(0,he.of)(_)}const hn={exact:function qn(_,T,M){if(!bt(_.segments,T.segments)||!br(_.segments,T.segments,M)||_.numberOfChildren!==T.numberOfChildren)return!1;for(const D in T.children)if(!_.children[D]||!qn(_.children[D],T.children[D],M))return!1;return!0},subset:Pn},An={exact:function Ln(_,T){return ht(_,T)},subset:function fn(_,T){return Object.keys(T).length<=Object.keys(_).length&&Object.keys(T).every(M=>yn(_[M],T[M]))},ignored:()=>!0};function nr(_,T,M){return hn[M.paths](_.root,T.root,M.matrixParams)&&An[M.queryParams](_.queryParams,T.queryParams)&&!("exact"===M.fragment&&_.fragment!==T.fragment)}function Pn(_,T,M){return pr(_,T,T.segments,M)}function pr(_,T,M,D){if(_.segments.length>M.length){const N=_.segments.slice(0,M.length);return!(!bt(N,M)||T.hasChildren()||!br(N,M,D))}if(_.segments.length===M.length){if(!bt(_.segments,M)||!br(_.segments,M,D))return!1;for(const N in T.children)if(!_.children[N]||!Pn(_.children[N],T.children[N],D))return!1;return!0}{const N=M.slice(0,_.segments.length),ee=M.slice(_.segments.length);return!!(bt(_.segments,N)&&br(_.segments,N,D)&&_.children[It])&&pr(_.children[It],T,ee,D)}}function br(_,T,M){return T.every((D,N)=>An[M](_[N].parameters,D.parameters))}class or{constructor(T=new Bn([],{}),M={},D=null){this.root=T,this.queryParams=M,this.fragment=D}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class Bn{constructor(T,M){this.segments=T,this.children=M,this.parent=null,Object.values(M).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class dr{constructor(T,M){this.path=T,this.parameters=M}get parameterMap(){var T;return null!==(T=this._parameterMap)&&void 0!==T||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return qe(this)}}function bt(_,T){return _.length===T.length&&_.every((M,D)=>M.path===T[D].path)}let xt=(()=>{var _;class T{}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:()=>new Cn,providedIn:"root"}),T})();class Cn{parse(T){const M=new hr(T);return new or(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(T){const M=`/${Sn(T.root,!0)}`,D=function ae(_){const T=Object.entries(_).map(([M,D])=>Array.isArray(D)?D.map(N=>`${ie(M)}=${ie(N)}`).join("&"):`${ie(M)}=${ie(D)}`).filter(M=>M);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${M}${D}${"string"==typeof T.fragment?`#${function Ge(_){return encodeURI(_)}(T.fragment)}`:""}`}}const zn=new Cn;function Mn(_){return _.segments.map(T=>qe(T)).join("/")}function Sn(_,T){if(!_.hasChildren())return Mn(_);if(T){const M=_.children[It]?Sn(_.children[It],!1):"",D=[];return Object.entries(_.children).forEach(([N,ee])=>{N!==It&&D.push(`${N}:${Sn(ee,!1)}`)}),D.length>0?`${M}(${D.join("//")})`:M}{const M=function ln(_,T){let M=[];return Object.entries(_.children).forEach(([D,N])=>{D===It&&(M=M.concat(T(N,D)))}),Object.entries(_.children).forEach(([D,N])=>{D!==It&&(M=M.concat(T(N,D)))}),M}(_,(D,N)=>N===It?[Sn(_.children[It],!1)]:[`${N}:${Sn(D,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[It]?`${Mn(_)}/${M[0]}`:`${Mn(_)}/(${M.join("//")})`}}function Lt(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(_){return Lt(_).replace(/%3B/gi,";")}function pe(_){return Lt(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ae(_){return decodeURIComponent(_)}function ot(_){return Ae(_.replace(/\+/g,"%20"))}function qe(_){return`${pe(_.path)}${function J(_){return Object.entries(_).map(([T,M])=>`;${pe(T)}=${pe(M)}`).join("")}(_.parameters)}`}const z=/^[^\/()?;#]+/;function X(_){const T=_.match(z);return T?T[0]:""}const q=/^[^\/()?;=#]+/,wt=/^[^=?&#]+/,Nn=/^[^&#]+/;class hr{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(T.length>0||Object.keys(M).length>0)&&(D[It]=new Bn(T,M)),D}parseSegment(){const T=X(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new l.OBp(4009,!1);return this.capture(T),new dr(Ae(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const M=function Ze(_){const T=_.match(q);return T?T[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const N=X(this.remaining);N&&(D=N,this.capture(D))}T[Ae(M)]=Ae(D)}parseQueryParam(T){const M=function pn(_){const T=_.match(wt);return T?T[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const _e=function Wn(_){const T=_.match(Nn);return T?T[0]:""}(this.remaining);_e&&(D=_e,this.capture(D))}const N=ot(M),ee=ot(D);if(T.hasOwnProperty(N)){let _e=T[N];Array.isArray(_e)||(_e=[_e],T[N]=_e),_e.push(ee)}else T[N]=ee}parseParens(T){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=X(this.remaining),N=this.remaining[D.length];if("/"!==N&&")"!==N&&";"!==N)throw new l.OBp(4010,!1);let ee;D.indexOf(":")>-1?(ee=D.slice(0,D.indexOf(":")),this.capture(ee),this.capture(":")):T&&(ee=It);const _e=this.parseChildren();M[ee]=1===Object.keys(_e).length?_e[It]:new Bn([],_e),this.consumeOptional("//")}return M}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new l.OBp(4011,!1)}}function On(_){return _.segments.length>0?new Bn([],{[It]:_}):_}function mn(_){const T={};for(const[D,N]of Object.entries(_.children)){const ee=mn(N);if(D===It&&0===ee.segments.length&&ee.hasChildren())for(const[_e,_t]of Object.entries(ee.children))T[_e]=_t;else(ee.segments.length>0||ee.hasChildren())&&(T[D]=ee)}return function Xn(_){if(1===_.numberOfChildren&&_.children[It]){const T=_.children[It];return new Bn(_.segments.concat(T.segments),T.children)}return _}(new Bn(_.segments,T))}function fr(_){return _ instanceof or}function St(_){var T;let M;const ee=On(function D(_e){const _t={};for(const Et of _e.children){const xn=D(Et);_t[Et.outlet]=xn}const Jt=new Bn(_e.url,_t);return _e===_&&(M=Jt),Jt}(_.root));return null!==(T=M)&&void 0!==T?T:ee}function yt(_,T,M,D){let N=_;for(;N.parent;)N=N.parent;if(0===T.length)return Qn(N,N,N,M,D);const ee=function Pr(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Zn(!0,0,_);let T=0,M=!1;const D=_.reduce((N,ee,_e)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const _t={};return Object.entries(ee.outlets).forEach(([Jt,Et])=>{_t[Jt]="string"==typeof Et?Et.split("/"):Et}),[...N,{outlets:_t}]}if(ee.segmentPath)return[...N,ee.segmentPath]}return"string"!=typeof ee?[...N,ee]:0===_e?(ee.split("/").forEach((_t,Jt)=>{0==Jt&&"."===_t||(0==Jt&&""===_t?M=!0:".."===_t?T++:""!=_t&&N.push(_t))}),N):[...N,ee]},[]);return new Zn(M,T,D)}(T);if(ee.toRoot())return Qn(N,N,new Bn([],{}),M,D);const _e=function Ar(_,T,M){if(_.isAbsolute)return new Er(T,!0,0);if(!M)return new Er(T,!1,NaN);if(null===M.parent)return new Er(M,!0,0);const D=Mt(_.commands[0])?0:1;return function ni(_,T,M){let D=_,N=T,ee=M;for(;ee>N;){if(ee-=N,D=D.parent,!D)throw new l.OBp(4005,!1);N=D.segments.length}return new Er(D,!1,N-ee)}(M,M.segments.length-1+D,_.numberOfDoubleDots)}(ee,N,_),_t=_e.processChildren?Di(_e.segmentGroup,_e.index,ee.commands):sr(_e.segmentGroup,_e.index,ee.commands);return Qn(N,_e.segmentGroup,_t,M,D)}function Mt(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function In(_){return"object"==typeof _&&null!=_&&_.outlets}function Qn(_,T,M,D,N){let _e,ee={};D&&Object.entries(D).forEach(([Jt,Et])=>{ee[Jt]=Array.isArray(Et)?Et.map(xn=>`${xn}`):`${Et}`}),_e=_===T?M:Gn(_,T,M);const _t=On(mn(_e));return new or(_t,ee,N)}function Gn(_,T,M){const D={};return Object.entries(_.children).forEach(([N,ee])=>{D[N]=ee===T?M:Gn(ee,T,M)}),new Bn(_.segments,D)}class Zn{constructor(T,M,D){if(this.isAbsolute=T,this.numberOfDoubleDots=M,this.commands=D,T&&D.length>0&&Mt(D[0]))throw new l.OBp(4003,!1);const N=D.find(In);if(N&&N!==Ot(D))throw new l.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Er{constructor(T,M,D){this.segmentGroup=T,this.processChildren=M,this.index=D}}function sr(_,T,M){var D;if(null!==(D=_)&&void 0!==D||(_=new Bn([],{})),0===_.segments.length&&_.hasChildren())return Di(_,T,M);const N=function Yn(_,T,M){let D=0,N=T;const ee={match:!1,pathIndex:0,commandIndex:0};for(;N<_.segments.length;){if(D>=M.length)return ee;const _e=_.segments[N],_t=M[D];if(In(_t))break;const Jt=`${_t}`,Et=D<M.length-1?M[D+1]:null;if(N>0&&void 0===Jt)break;if(Jt&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!we(Jt,Et,_e))return ee;D+=2}else{if(!we(Jt,{},_e))return ee;D++}N++}return{match:!0,pathIndex:N,commandIndex:D}}(_,T,M),ee=M.slice(N.commandIndex);if(N.match&&N.pathIndex<_.segments.length){const _e=new Bn(_.segments.slice(0,N.pathIndex),{});return _e.children[It]=new Bn(_.segments.slice(N.pathIndex),_.children),Di(_e,0,ee)}return N.match&&0===ee.length?new Bn(_.segments,{}):N.match&&!_.hasChildren()?Cr(_,T,M):N.match?Di(_,0,ee):Cr(_,T,M)}function Di(_,T,M){if(0===M.length)return new Bn(_.segments,{});{const D=function Ci(_){return In(_[0])?_[0].outlets:{[It]:_}}(M),N={};if(Object.keys(D).some(ee=>ee!==It)&&_.children[It]&&1===_.numberOfChildren&&0===_.children[It].segments.length){const ee=Di(_.children[It],T,M);return new Bn(_.segments,ee.children)}return Object.entries(D).forEach(([ee,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(N[ee]=sr(_.children[ee],T,_e))}),Object.entries(_.children).forEach(([ee,_e])=>{void 0===D[ee]&&(N[ee]=_e)}),new Bn(_.segments,N)}}function Cr(_,T,M){const D=_.segments.slice(0,T);let N=0;for(;N<M.length;){const ee=M[N];if(In(ee)){const Jt=$n(ee.outlets);return new Bn(D,Jt)}if(0===N&&Mt(M[0])){D.push(new dr(_.segments[T].path,Gi(M[0]))),N++;continue}const _e=In(ee)?ee.outlets[It]:`${ee}`,_t=N<M.length-1?M[N+1]:null;_e&&_t&&Mt(_t)?(D.push(new dr(_e,Gi(_t))),N+=2):(D.push(new dr(_e,{})),N++)}return new Bn(D,{})}function $n(_){const T={};return Object.entries(_).forEach(([M,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(T[M]=Cr(new Bn([],{}),0,D))}),T}function Gi(_){const T={};return Object.entries(_).forEach(([M,D])=>T[M]=`${D}`),T}function we(_,T,M){return _==M.path&&ht(T,M.parameters)}const Se="imperative";var W=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(W||{});class De{constructor(T,M){this.id=T,this.url=M}}class ct extends De{constructor(T,M,D="imperative",N=null){super(T,M),this.type=W.NavigationStart,this.navigationTrigger=D,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class At extends De{constructor(T,M,D){super(T,M),this.urlAfterRedirects=D,this.type=W.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kt=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(Kt||{}),rn=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(rn||{});class Yt extends De{constructor(T,M,D,N){super(T,M),this.reason=D,this.code=N,this.type=W.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kn extends De{constructor(T,M,D,N){super(T,M),this.reason=D,this.code=N,this.type=W.NavigationSkipped}}class Wr extends De{constructor(T,M,D,N){super(T,M),this.error=D,this.target=N,this.type=W.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vt extends De{constructor(T,M,D,N){super(T,M),this.urlAfterRedirects=D,this.state=N,this.type=W.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends De{constructor(T,M,D,N){super(T,M),this.urlAfterRedirects=D,this.state=N,this.type=W.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends De{constructor(T,M,D,N,ee){super(T,M),this.urlAfterRedirects=D,this.state=N,this.shouldActivate=ee,this.type=W.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class He extends De{constructor(T,M,D,N){super(T,M),this.urlAfterRedirects=D,this.state=N,this.type=W.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends De{constructor(T,M,D,N){super(T,M),this.urlAfterRedirects=D,this.state=N,this.type=W.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(T){this.route=T,this.type=W.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rt{constructor(T){this.route=T,this.type=W.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bt{constructor(T){this.snapshot=T,this.type=W.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(T){this.snapshot=T,this.type=W.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(T){this.snapshot=T,this.type=W.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(T){this.snapshot=T,this.type=W.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(T,M,D){this.routerEvent=T,this.position=M,this.anchor=D,this.type=W.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qt{}class Vn{constructor(T){this.url=T}}class yr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{var _;class T{constructor(){this.contexts=new Map}onChildOutletCreated(D,N){const ee=this.getOrCreateContext(D);ee.outlet=N,this.contexts.set(D,ee)}onChildOutletDestroyed(D){const N=this.getContext(D);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let N=this.getContext(D);return N||(N=new yr,this.contexts.set(D,N)),N}getContext(D){return this.contexts.get(D)||null}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();class C{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const M=this.pathFromRoot(T);return M.length>1?M[M.length-2]:null}children(T){const M=oe(T,this._root);return M?M.children.map(D=>D.value):[]}firstChild(T){const M=oe(T,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(T){const M=x(T,this._root);return M.length<2?[]:M[M.length-2].children.map(N=>N.value).filter(N=>N!==T)}pathFromRoot(T){return x(T,this._root).map(M=>M.value)}}function oe(_,T){if(_===T.value)return T;for(const M of T.children){const D=oe(_,M);if(D)return D}return null}function x(_,T){if(_===T.value)return[T];for(const M of T.children){const D=x(_,M);if(D.length)return D.unshift(T),D}return[]}class ue{constructor(T,M){this.value=T,this.children=M}toString(){return`TreeNode(${this.value})`}}function it(_){const T={};return _&&_.children.forEach(M=>T[M.value.outlet]=M),T}class Un extends C{constructor(T,M){super(T),this.snapshot=M,ma(this,T)}toString(){return this.snapshot.toString()}}function Xr(_){const T=function gi(_){const ee=new Ls([],{},{},"",{},It,_,null,{});return new Yi("",new ue(ee,[]))}(_),M=new te.g([new dr("",{})]),D=new te.g({}),N=new te.g({}),ee=new te.g({}),_e=new te.g(""),_t=new yi(M,D,ee,_e,N,It,_,T.root);return _t.snapshot=T.root,new Un(new ue(_t,[]),T)}class yi{constructor(T,M,D,N,ee,_e,_t,Jt){var Et,xn;this.urlSubject=T,this.paramsSubject=M,this.queryParamsSubject=D,this.fragmentSubject=N,this.dataSubject=ee,this.outlet=_e,this.component=_t,this._futureSnapshot=Jt,this.title=null!==(Et=null===(xn=this.dataSubject)||void 0===xn?void 0:xn.pipe((0,Ve.k)(mr=>mr[nn])))&&void 0!==Et?Et:(0,he.of)(void 0),this.url=T,this.params=M,this.queryParams=D,this.fragment=N,this.data=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var T;return null!==(T=this._paramMap)&&void 0!==T||(this._paramMap=this.params.pipe((0,Ve.k)(M=>Tn(M)))),this._paramMap}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=this.queryParams.pipe((0,Ve.k)(M=>Tn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(_,T,M="emptyOnly"){var D;let N;const{routeConfig:ee}=_;var _e;return N=null===T||"always"!==M&&""!==(null==ee?void 0:ee.path)&&(T.component||null!==(D=T.routeConfig)&&void 0!==D&&D.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,...null!==(_e=_._resolvedData)&&void 0!==_e?_e:{}}}:{params:{...T.params,..._.params},data:{...T.data,..._.data},resolve:{..._.data,...T.data,...null==ee?void 0:ee.data,..._._resolvedData}},ee&&Qi(ee)&&(N.resolve[nn]=ee.title),N}class Ls{get title(){var T;return null===(T=this.data)||void 0===T?void 0:T[nn]}constructor(T,M,D,N,ee,_e,_t,Jt,Et){this.url=T,this.params=M,this.queryParams=D,this.fragment=N,this.data=ee,this.outlet=_e,this.component=_t,this.routeConfig=Jt,this._resolve=Et}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var T;return null!==(T=this._paramMap)&&void 0!==T||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yi extends C{constructor(T,M){super(M),this.url=T,ma(this,M)}toString(){return di(this._root)}}function ma(_,T){T.value._routerState=_,T.children.forEach(M=>ma(_,M))}function di(_){const T=_.children.length>0?` { ${_.children.map(di).join(", ")} } `:"";return`${_.value}${T}`}function ns(_){if(_.snapshot){const T=_.snapshot,M=_._futureSnapshot;_.snapshot=M,ht(T.queryParams,M.queryParams)||_.queryParamsSubject.next(M.queryParams),T.fragment!==M.fragment&&_.fragmentSubject.next(M.fragment),ht(T.params,M.params)||_.paramsSubject.next(M.params),function gt(_,T){if(_.length!==T.length)return!1;for(let M=0;M<_.length;++M)if(!ht(_[M],T[M]))return!1;return!0}(T.url,M.url)||_.urlSubject.next(M.url),ht(T.data,M.data)||_.dataSubject.next(M.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Jn(_,T){const M=ht(_.params,T.params)&&function kt(_,T){return bt(_,T)&&_.every((M,D)=>ht(M.parameters,T[D].parameters))}(_.url,T.url);return M&&!(!_.parent!=!T.parent)&&(!_.parent||Jn(_.parent,T.parent))}function Qi(_){return"string"==typeof _.title||null===_.title}let _s=(()=>{var _;class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new l._w7,this.deactivateEvents=new l._w7,this.attachEvents=new l._w7,this.detachEvents=new l._w7,this.parentContexts=(0,l.uUt)(Vr),this.location=(0,l.uUt)(l.y8U),this.changeDetector=(0,l.uUt)(l.kD9),this.environmentInjector=(0,l.uUt)(l.SIe),this.inputBinder=(0,l.uUt)(Ho,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:N,previousValue:ee}=D.name;if(N)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var N;return(null===(N=this.parentContexts.getContext(D))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.OBp(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,N){var ee;this.activated=D,this._activatedRoute=N,this.location.insert(D.hostView),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,N){var ee;if(this.isActivated)throw new l.OBp(4013,!1);this._activatedRoute=D;const _e=this.location,Jt=D.snapshot.component,Et=this.parentContexts.getOrCreateContext(this.name).children,xn=new rs(D,Et,_e.injector);this.activated=_e.createComponent(Jt,{index:_e.length,injector:xn,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275dir=l.Sc5({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.SYr]}),T})();class rs{constructor(T,M,D){this.route=T,this.childContexts=M,this.parent=D}get(T,M){return T===yi?this.route:T===Vr?this.childContexts:this.parent.get(T,M)}}const Ho=new l.UbH("");let Xi=(()=>{var _;class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var N;null===(N=this.outletDataSubscriptions.get(D))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:N}=D,ee=(0,de.E)([N.queryParams,N.params,N.data]).pipe((0,rt.G)(([_e,_t,Jt],Et)=>(Jt={..._e,..._t,...Jt},0===Et?(0,he.of)(Jt):Promise.resolve(Jt)))).subscribe(_e=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(D);const _t=(0,l.o9M)(N.component);if(_t)for(const{templateName:Jt}of _t.inputs)D.activatedComponentRef.setInput(Jt,_e[Jt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,ee)}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac}),T})();function is(_,T,M){if(M&&_.shouldReuseRoute(T.value,M.value.snapshot)){const D=M.value;D._futureSnapshot=T.value;const N=function os(_,T,M){return T.children.map(D=>{for(const N of M.children)if(_.shouldReuseRoute(D.value,N.value.snapshot))return is(_,D,N);return is(_,D)})}(_,T,M);return new ue(D,N)}{if(_.shouldAttach(T.value)){const ee=_.retrieve(T.value);if(null!==ee){const _e=ee.route;return _e.value._futureSnapshot=T.value,_e.children=T.children.map(_t=>is(_,_t)),_e}}const D=function Eo(_){return new yi(new te.g(_.url),new te.g(_.params),new te.g(_.queryParams),new te.g(_.fragment),new te.g(_.data),_.outlet,_.component,_)}(T.value),N=T.children.map(ee=>is(_,ee));return new ue(D,N)}}const Zs="ngNavigationCancelingError";function ys(_,T){const{redirectTo:M,navigationBehaviorOptions:D}=fr(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,N=Oo(!1,Kt.Redirect);return N.url=M,N.navigationBehaviorOptions=D,N}function Oo(_,T){const M=new Error(`NavigationCancelingError: ${_||""}`);return M[Zs]=!0,M.cancellationCode=T,M}function wi(_){return!!_&&_[Zs]}let Pi=(()=>{var _;class T{}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275cmp=l.In1({type:_,selectors:[["ng-component"]],standalone:!0,features:[l.UHJ],decls:1,vars:0,template:function(D,N){1&D&&l.wR5(0,"router-outlet")},dependencies:[_s],encapsulation:2}),T})();function si(_){const T=_.children&&_.children.map(si),M=T?{..._,children:T}:{..._};return!M.component&&!M.loadComponent&&(T||M.loadChildren)&&M.outlet&&M.outlet!==It&&(M.component=Pi),M}function Ti(_){return _.outlet||It}function Sr(_){var T;if(!_)return null;if(null!==(T=_.routeConfig)&&void 0!==T&&T._injector)return _.routeConfig._injector;for(let M=_.parent;M;M=M.parent){const D=M.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class va{constructor(T,M,D,N,ee){this.routeReuseStrategy=T,this.futureState=M,this.currState=D,this.forwardEvent=N,this.inputBindingEnabled=ee}activate(T){const M=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,D,T),ns(this.futureState.root),this.activateChildRoutes(M,D,T)}deactivateChildRoutes(T,M,D){const N=it(M);T.children.forEach(ee=>{const _e=ee.value.outlet;this.deactivateRoutes(ee,N[_e],D),delete N[_e]}),Object.values(N).forEach(ee=>{this.deactivateRouteAndItsChildren(ee,D)})}deactivateRoutes(T,M,D){const N=T.value,ee=M?M.value:null;if(N===ee)if(N.component){const _e=D.getContext(N.outlet);_e&&this.deactivateChildRoutes(T,M,_e.children)}else this.deactivateChildRoutes(T,M,D);else ee&&this.deactivateRouteAndItsChildren(M,D)}deactivateRouteAndItsChildren(T,M){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,M):this.deactivateRouteAndOutlet(T,M)}detachAndStoreRouteSubtree(T,M){const D=M.getContext(T.value.outlet),N=D&&T.value.component?D.children:M,ee=it(T);for(const _e of Object.values(ee))this.deactivateRouteAndItsChildren(_e,N);if(D&&D.outlet){const _e=D.outlet.detach(),_t=D.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:_e,route:T,contexts:_t})}}deactivateRouteAndOutlet(T,M){const D=M.getContext(T.value.outlet),N=D&&T.value.component?D.children:M,ee=it(T);for(const _e of Object.values(ee))this.deactivateRouteAndItsChildren(_e,N);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(T,M,D){const N=it(M);T.children.forEach(ee=>{this.activateRoutes(ee,N[ee.value.outlet],D),this.forwardEvent(new Xt(ee.value.snapshot))}),T.children.length&&this.forwardEvent(new on(T.value.snapshot))}activateRoutes(T,M,D){const N=T.value,ee=M?M.value:null;if(ns(N),N===ee)if(N.component){const _e=D.getOrCreateContext(N.outlet);this.activateChildRoutes(T,M,_e.children)}else this.activateChildRoutes(T,M,D);else if(N.component){const _e=D.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const _t=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),_e.children.onOutletReAttached(_t.contexts),_e.attachRef=_t.componentRef,_e.route=_t.route.value,_e.outlet&&_e.outlet.attach(_t.componentRef,_t.route.value),ns(_t.route.value),this.activateChildRoutes(T,null,_e.children)}else{const _t=Sr(N.snapshot);_e.attachRef=null,_e.route=N,_e.injector=_t,_e.outlet&&_e.outlet.activateWith(N,_e.injector),this.activateChildRoutes(T,null,_e.children)}}else this.activateChildRoutes(T,null,D)}}class Ko{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ls{constructor(T,M){this.component=T,this.route=M}}function Cs(_,T,M){const D=_._root;return us(D,T?T._root:null,M,[D.value])}function bi(_,T){const M=Symbol(),D=T.get(_,M);return D===M?"function"!=typeof _||(0,l.K_M)(_)?T.get(_):_:D}function us(_,T,M,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const ee=it(T);return _.children.forEach(_e=>{(function ai(_,T,M,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const ee=_.value,_e=T?T.value:null,_t=M?M.getContext(_.value.outlet):null;if(_e&&ee.routeConfig===_e.routeConfig){const Jt=function Ha(_,T,M){if("function"==typeof M)return M(_,T);switch(M){case"pathParamsChange":return!bt(_.url,T.url);case"pathParamsOrQueryParamsChange":return!bt(_.url,T.url)||!ht(_.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(_,T)||!ht(_.queryParams,T.queryParams);default:return!Jn(_,T)}}(_e,ee,ee.routeConfig.runGuardsAndResolvers);Jt?N.canActivateChecks.push(new Ko(D)):(ee.data=_e.data,ee._resolvedData=_e._resolvedData),us(_,T,ee.component?_t?_t.children:null:M,D,N),Jt&&_t&&_t.outlet&&_t.outlet.isActivated&&N.canDeactivateChecks.push(new ls(_t.outlet.component,_e))}else _e&&ea(T,_t,N),N.canActivateChecks.push(new Ko(D)),us(_,null,ee.component?_t?_t.children:null:M,D,N)})(_e,ee[_e.value.outlet],M,D.concat([_e.value]),N),delete ee[_e.value.outlet]}),Object.entries(ee).forEach(([_e,_t])=>ea(_t,M.getContext(_e),N)),N}function ea(_,T,M){const D=it(_),N=_.value;Object.entries(D).forEach(([ee,_e])=>{ea(_e,N.component?T?T.children.getContext(ee):null:T,M)}),M.canDeactivateChecks.push(new ls(N.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,N))}function co(_){return"function"==typeof _}function le(_){return _ instanceof $e.G||"EmptyError"===(null==_?void 0:_.name)}const L=Symbol("INITIAL_VALUE");function Ce(){return(0,rt.G)(_=>(0,de.E)(_.map(T=>T.pipe((0,fe.U)(1),(0,Ke.W)(L)))).pipe((0,Ve.k)(T=>{for(const M of T)if(!0!==M){if(M===L)return L;if(!1===M||M instanceof or)return M}return!0}),(0,Ye.I)(T=>T!==L),(0,fe.U)(1)))}function qo(_){return(0,xe.W)((0,be.y)(T=>{if(fr(T))throw ys(0,T)}),(0,Ve.k)(T=>!0===T))}class Us{constructor(T){this.segmentGroup=T||null}}class Ka extends Error{constructor(T){super(),this.urlTree=T}}function Fo(_){return(0,Me.c)(new Us(_))}class ii{constructor(T,M){this.urlSerializer=T,this.urlTree=M}lineralizeSegments(T,M){let D=[],N=M.root;for(;;){if(D=D.concat(N.segments),0===N.numberOfChildren)return(0,he.of)(D);if(N.numberOfChildren>1||!N.children[It])return(0,Me.c)(new l.OBp(4e3,!1));N=N.children[It]}}applyRedirectCommands(T,M,D){const N=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),T,D);if(M.startsWith("/"))throw new Ka(N);return N}applyRedirectCreateUrlTree(T,M,D,N){const ee=this.createSegmentGroup(T,M.root,D,N);return new or(ee,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(T,M){const D={};return Object.entries(T).forEach(([N,ee])=>{if("string"==typeof ee&&ee.startsWith(":")){const _t=ee.substring(1);D[N]=M[_t]}else D[N]=ee}),D}createSegmentGroup(T,M,D,N){const ee=this.createSegments(T,M.segments,D,N);let _e={};return Object.entries(M.children).forEach(([_t,Jt])=>{_e[_t]=this.createSegmentGroup(T,Jt,D,N)}),new Bn(ee,_e)}createSegments(T,M,D,N){return M.map(ee=>ee.path.startsWith(":")?this.findPosParam(T,ee,N):this.findOrReturn(ee,D))}findPosParam(T,M,D){const N=D[M.path.substring(1)];if(!N)throw new l.OBp(4001,!1);return N}findOrReturn(T,M){let D=0;for(const N of M){if(N.path===T.path)return M.splice(D),N;D++}return T}}const ji={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Li(_,T,M,D,N){const ee=Ji(_,T,M);return ee.matched?(D=function Wa(_,T){var M;return _.providers&&!_._injector&&(_._injector=(0,l.SIz)(_.providers,T,`Route: ${_.path}`)),null!==(M=_._injector)&&void 0!==M?M:T}(T,D),function bu(_,T,M,D){const N=T.canMatch;if(!N||0===N.length)return(0,he.of)(!0);const ee=N.map(_e=>{const _t=bi(_e,_);return gn(function P(_){return _&&co(_.canMatch)}(_t)?_t.canMatch(T,M):(0,l.SMS)(_,()=>_t(T,M)))});return(0,he.of)(ee).pipe(Ce(),qo())}(D,T,M).pipe((0,Ve.k)(_e=>!0===_e?ee:{...ji}))):(0,he.of)(ee)}function Ji(_,T,M){var D,N;if("**"===T.path)return function Bs(_){return{matched:!0,parameters:_.length>0?Ot(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===T.path)return"full"===T.pathMatch&&(_.hasChildren()||M.length>0)?{...ji}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const _e=(T.matcher||Ct)(M,_,T);if(!_e)return{...ji};const _t={};Object.entries(null!==(D=_e.posParams)&&void 0!==D?D:{}).forEach(([Et,xn])=>{_t[Et]=xn.path});const Jt=_e.consumed.length>0?{..._t,..._e.consumed[_e.consumed.length-1].parameters}:_t;return{matched:!0,consumedSegments:_e.consumed,remainingSegments:M.slice(_e.consumed.length),parameters:Jt,positionalParamSegments:null!==(N=_e.posParams)&&void 0!==N?N:{}}}function Ur(_,T,M,D){return M.length>0&&function Vi(_,T,M){return M.some(D=>Yo(_,T,D)&&Ti(D)!==It)}(_,M,D)?{segmentGroup:new Bn(T,Wl(D,new Bn(M,_.children))),slicedSegments:[]}:0===M.length&&function qa(_,T,M){return M.some(D=>Yo(_,T,D))}(_,M,D)?{segmentGroup:new Bn(_.segments,jl(_,M,D,_.children)),slicedSegments:M}:{segmentGroup:new Bn(_.segments,_.children),slicedSegments:M}}function jl(_,T,M,D){const N={};for(const ee of M)if(Yo(_,T,ee)&&!D[Ti(ee)]){const _e=new Bn([],{});N[Ti(ee)]=_e}return{...D,...N}}function Wl(_,T){const M={};M[It]=T;for(const D of _)if(""===D.path&&Ti(D)!==It){const N=new Bn([],{});M[Ti(D)]=N}return M}function Yo(_,T,M){return(!(_.hasChildren()||T.length>0)||"full"!==M.pathMatch)&&""===M.path}class hc{}class xi{constructor(T,M,D,N,ee,_e,_t){this.injector=T,this.configLoader=M,this.rootComponentType=D,this.config=N,this.urlTree=ee,this.paramsInheritanceStrategy=_e,this.urlSerializer=_t,this.applyRedirects=new ii(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(T){return new l.OBp(4002,`'${T.segmentGroup}'`)}recognize(){const T=Ur(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(T).pipe((0,Ve.k)(M=>{const D=new Ls([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),N=new ue(D,M),ee=new Yi("",N),_e=function zr(_,T,M=null,D=null){return yt(St(_),T,M,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,ee.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(ee._root,null),{state:ee,tree:_e}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T,It).pipe(dt(D=>{if(D instanceof Ka)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Us?this.noMatchError(D):D}))}inheritParamsAndData(T,M){const D=T.value,N=Ri(D,M,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data),T.children.forEach(ee=>this.inheritParamsAndData(ee,D))}processSegmentGroup(T,M,D,N){return 0===D.segments.length&&D.hasChildren()?this.processChildren(T,M,D):this.processSegment(T,M,D,D.segments,N,!0).pipe((0,Ve.k)(ee=>ee instanceof ue?[ee]:[]))}processChildren(T,M,D){const N=[];for(const ee of Object.keys(D.children))"primary"===ee?N.unshift(ee):N.push(ee);return(0,ye.Q)(N).pipe($(ee=>{const _e=D.children[ee],_t=function as(_,T){const M=_.filter(D=>Ti(D)===T);return M.push(..._.filter(D=>Ti(D)!==T)),M}(M,ee);return this.processSegmentGroup(T,_t,_e,ee)}),(0,Ut.K)((ee,_e)=>(ee.push(..._e),ee)),(0,cn.G)(null),function Ie(_,T){const M=arguments.length>=2;return D=>D.pipe(_?(0,Ye.I)((N,ee)=>_(N,ee,D)):Re.Z,jt(1),M?(0,cn.G)(T):(0,lt._)(()=>new $e.G))}(),(0,Xe.O)(ee=>{if(null===ee)return Fo(D);const _e=To(ee);return function ra(_){_.sort((T,M)=>T.value.outlet===It?-1:M.value.outlet===It?1:T.value.outlet.localeCompare(M.value.outlet))}(_e),(0,he.of)(_e)}))}processSegment(T,M,D,N,ee,_e){return(0,ye.Q)(M).pipe($(_t=>{var Jt;return this.processSegmentAgainstRoute(null!==(Jt=_t._injector)&&void 0!==Jt?Jt:T,M,_t,D,N,ee,_e).pipe(dt(Et=>{if(Et instanceof Us)return(0,he.of)(null);throw Et}))}),(0,ge.K)(_t=>!!_t),dt(_t=>{if(le(_t))return function $s(_,T,M){return 0===T.length&&!_.children[M]}(D,N,ee)?(0,he.of)(new hc):Fo(D);throw _t}))}processSegmentAgainstRoute(T,M,D,N,ee,_e,_t){return function na(_,T,M,D){return!!(Ti(_)===D||D!==It&&Yo(T,M,_))&&Ji(T,_,M).matched}(D,N,ee,_e)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(T,N,D,ee,_e):this.allowRedirects&&_t?this.expandSegmentAgainstRouteUsingRedirect(T,N,M,D,ee,_e):Fo(N):Fo(N)}expandSegmentAgainstRouteUsingRedirect(T,M,D,N,ee,_e){const{matched:_t,consumedSegments:Jt,positionalParamSegments:Et,remainingSegments:xn}=Ji(M,N,ee);if(!_t)return Fo(M);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const mr=this.applyRedirects.applyRedirectCommands(Jt,N.redirectTo,Et);return this.applyRedirects.lineralizeSegments(N,mr).pipe((0,Xe.O)(vi=>this.processSegment(T,D,M,vi.concat(xn),_e,!1)))}matchSegmentAgainstRoute(T,M,D,N,ee){const _e=Li(M,D,N,T);return"**"===D.path&&(M.children={}),_e.pipe((0,rt.G)(_t=>{var Jt;return _t.matched?(T=null!==(Jt=D._injector)&&void 0!==Jt?Jt:T,this.getChildConfig(T,D,N).pipe((0,rt.G)(({routes:Et})=>{var xn,mr,vi;const qr=null!==(xn=D._loadedInjector)&&void 0!==xn?xn:T,{consumedSegments:to,remainingSegments:Rs,parameters:Ya}=_t,fl=new Ls(to,Ya,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function cl(_){return _.data||{}}(D),Ti(D),null!==(mr=null!==(vi=D.component)&&void 0!==vi?vi:D._loadedComponent)&&void 0!==mr?mr:null,D,function Vo(_){return _.resolve||{}}(D)),{segmentGroup:pl,slicedSegments:sa}=Ur(M,to,Rs,Et);if(0===sa.length&&pl.hasChildren())return this.processChildren(qr,Et,pl).pipe((0,Ve.k)(Ma=>null===Ma?null:new ue(fl,Ma)));if(0===Et.length&&0===sa.length)return(0,he.of)(new ue(fl,[]));const Ru=Ti(D)===ee;return this.processSegment(qr,Et,pl,sa,Ru?It:ee,!0).pipe((0,Ve.k)(Ma=>new ue(fl,Ma instanceof ue?[Ma]:[])))}))):Fo(M)}))}getChildConfig(T,M,D){return M.children?(0,he.of)({routes:M.children,injector:T}):M.loadChildren?void 0!==M._loadedRoutes?(0,he.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function ul(_,T,M,D){const N=T.canLoad;if(void 0===N||0===N.length)return(0,he.of)(!0);const ee=N.map(_e=>{const _t=bi(_e,_);return gn(function ws(_){return _&&co(_.canLoad)}(_t)?_t.canLoad(T,M):(0,l.SMS)(_,()=>_t(T,M)))});return(0,he.of)(ee).pipe(Ce(),qo())}(T,M,D).pipe((0,Xe.O)(N=>N?this.configLoader.loadChildren(T,M).pipe((0,be.y)(ee=>{M._loadedRoutes=ee.routes,M._loadedInjector=ee.injector})):function li(_){return(0,Me.c)(Oo(!1,Kt.GuardRejected))}())):(0,he.of)({routes:[],injector:T})}}function ya(_){const T=_.value.routeConfig;return T&&""===T.path}function To(_){const T=[],M=new Set;for(const D of _){if(!ya(D)){T.push(D);continue}const N=T.find(ee=>D.value.routeConfig===ee.value.routeConfig);void 0!==N?(N.children.push(...D.children),M.add(N)):T.push(D)}for(const D of M){const N=To(D.children);T.push(new ue(D.value,N))}return T.filter(D=>!M.has(D))}function Gs(_){const T=_.children.map(M=>Gs(M)).flat();return[_,...T]}function Au(_){return(0,rt.G)(T=>{const M=_(T);return M?(0,ye.Q)(M).pipe((0,Ve.k)(()=>T)):(0,he.of)(T)})}let ia=(()=>{var _;class T{buildTitle(D){let N,ee=D.root;for(;void 0!==ee;){var _e;N=null!==(_e=this.getResolvedTitleForRoute(ee))&&void 0!==_e?_e:N,ee=ee.children.find(_t=>_t.outlet===It)}return N}getResolvedTitleForRoute(D){return D.data[nn]}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:()=>(0,l.uUt)(Su),providedIn:"root"}),T})(),Su=(()=>{var _;class T extends ia{constructor(D){super(),this.title=D}updateTitle(D){const N=this.buildTitle(D);void 0!==N&&this.title.setTitle(N)}}return(_=T).\u0275fac=function(D){return new(D||_)(l.CoB(Ft.OY))},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();const Ao=new l.UbH("",{providedIn:"root",factory:()=>({})}),Qo=new l.UbH("");let dl=(()=>{var _;class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.uUt)(l.ESV)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const N=gn(D.loadComponent()).pipe((0,Ve.k)(Xo),(0,be.y)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=_e}),me(()=>{this.componentLoaders.delete(D)})),ee=new Fe.C(N,()=>new tt.E).pipe((0,je.O)());return this.componentLoaders.set(D,ee),ee}loadChildren(D,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,he.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const _e=function Ni(_,T,M,D){return gn(_.loadChildren()).pipe((0,Ve.k)(Xo),(0,Xe.O)(N=>N instanceof l.obV||Array.isArray(N)?(0,he.of)(N):(0,ye.Q)(T.compileModuleAsync(N))),(0,Ve.k)(N=>{D&&D(_);let ee,_e,_t=!1;return Array.isArray(N)?(_e=N,!0):(ee=N.create(M).injector,_e=ee.get(Qo,[],{optional:!0,self:!0}).flat()),{routes:_e.map(si),injector:ee}}))}(N,this.compiler,D,this.onLoadEndListener).pipe(me(()=>{this.childrenLoaders.delete(N)})),_t=new Fe.C(_e,()=>new tt.E).pipe((0,je.O)());return this.childrenLoaders.set(N,_t),_t}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();function Xo(_){return function ho(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let fo=(()=>{var _;class T{}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:()=>(0,l.uUt)(E),providedIn:"root"}),T})(),E=(()=>{var _;class T{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,N){return D}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();const S=new l.UbH(""),Ee=new l.UbH("");function k(_,T,M){const D=_.get(Ee),N=_.get(Ne.Ud);return _.get(l.WW2).runOutsideAngular(()=>{if(!N.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,Promise.resolve();let ee;const _e=new Promise(Et=>{ee=Et}),_t=N.startViewTransition(()=>(ee(),function re(_){return new Promise(T=>{(0,l.I44)(T,{injector:_})})}(_))),{onViewTransitionCreated:Jt}=D;return Jt&&(0,l.SMS)(_,()=>Jt({transition:_t,from:T,to:M})),_e})}let ve=(()=>{var _;class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt.E,this.transitionAbortSubject=new tt.E,this.configLoader=(0,l.uUt)(dl),this.environmentInjector=(0,l.uUt)(l.SIe),this.urlSerializer=(0,l.uUt)(xt),this.rootContexts=(0,l.uUt)(Vr),this.location=(0,l.uUt)(Ne.oB),this.inputBindingEnabled=null!==(0,l.uUt)(Ho,{optional:!0}),this.titleStrategy=(0,l.uUt)(ia),this.options=(0,l.uUt)(Ao,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.uUt)(fo),this.createViewTransition=(0,l.uUt)(S,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new Rt(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new st(ee))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var N;const ee=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...D,id:ee})}setupNavigations(D,N,ee){return this.transitions=new te.g({id:0,currentUrlTree:N,currentRawUrl:N,extractedUrl:this.urlHandlingStrategy.extract(N),urlAfterRedirects:this.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Se,restoredState:null,currentSnapshot:ee.snapshot,targetSnapshot:null,currentRouterState:ee,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ye.I)(_e=>0!==_e.id),(0,Ve.k)(_e=>({..._e,extractedUrl:this.urlHandlingStrategy.extract(_e.rawUrl)})),(0,rt.G)(_e=>{this.currentTransition=_e;let _t=!1,Jt=!1;return(0,he.of)(_e).pipe((0,be.y)(Et=>{this.currentNavigation={id:Et.id,initialUrl:Et.rawUrl,extractedUrl:Et.extractedUrl,trigger:Et.source,extras:Et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rt.G)(Et=>{var xn;const mr=!D.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),vi=null!==(xn=Et.extras.onSameUrlNavigation)&&void 0!==xn?xn:D.onSameUrlNavigation;if(!mr&&"reload"!==vi){const qr="";return this.events.next(new kn(Et.id,this.urlSerializer.serialize(Et.rawUrl),qr,rn.IgnoredSameUrlNavigation)),Et.resolve(null),Le.k}if(this.urlHandlingStrategy.shouldProcessUrl(Et.rawUrl))return(0,he.of)(Et).pipe((0,rt.G)(qr=>{var to,Rs;const Ya=null===(to=this.transitions)||void 0===to?void 0:to.getValue();return this.events.next(new ct(qr.id,this.urlSerializer.serialize(qr.extractedUrl),qr.source,qr.restoredState)),Ya!==(null===(Rs=this.transitions)||void 0===Rs?void 0:Rs.getValue())?Le.k:Promise.resolve(qr)}),function fc(_,T,M,D,N,ee){return(0,Xe.O)(_e=>function wo(_,T,M,D,N,ee,_e="emptyOnly"){return new xi(_,T,M,D,N,_e,ee).recognize()}(_,T,M,D,_e.extractedUrl,N,ee).pipe((0,Ve.k)(({state:_t,tree:Jt})=>({..._e,targetSnapshot:_t,urlAfterRedirects:Jt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,be.y)(qr=>{_e.targetSnapshot=qr.targetSnapshot,_e.urlAfterRedirects=qr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qr.urlAfterRedirects};const to=new vt(qr.id,this.urlSerializer.serialize(qr.extractedUrl),this.urlSerializer.serialize(qr.urlAfterRedirects),qr.targetSnapshot);this.events.next(to)}));if(mr&&this.urlHandlingStrategy.shouldProcessUrl(Et.currentRawUrl)){const{id:qr,extractedUrl:to,source:Rs,restoredState:Ya,extras:fl}=Et,pl=new ct(qr,this.urlSerializer.serialize(to),Rs,Ya);this.events.next(pl);const sa=Xr(this.rootComponentType).snapshot;return this.currentTransition=_e={...Et,targetSnapshot:sa,urlAfterRedirects:to,extras:{...fl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=to,(0,he.of)(_e)}{const qr="";return this.events.next(new kn(Et.id,this.urlSerializer.serialize(Et.extractedUrl),qr,rn.IgnoredByUrlHandlingStrategy)),Et.resolve(null),Le.k}}),(0,be.y)(Et=>{const xn=new U(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(xn)}),(0,Ve.k)(Et=>(this.currentTransition=_e={...Et,guards:Cs(Et.targetSnapshot,Et.currentSnapshot,this.rootContexts)},_e)),function Zt(_,T){return(0,Xe.O)(M=>{const{targetSnapshot:D,currentSnapshot:N,guards:{canActivateChecks:ee,canDeactivateChecks:_e}}=M;return 0===_e.length&&0===ee.length?(0,he.of)({...M,guardsResult:!0}):function wn(_,T,M,D){return(0,ye.Q)(_).pipe((0,Xe.O)(N=>function _a(_,T,M,D,N){const ee=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,he.of)(!0);const _e=ee.map(_t=>{var Jt;const Et=null!==(Jt=Sr(T))&&void 0!==Jt?Jt:N,xn=bi(_t,Et);return gn(function V(_){return _&&co(_.canDeactivate)}(xn)?xn.canDeactivate(_,T,M,D):(0,l.SMS)(Et,()=>xn(_,T,M,D))).pipe((0,ge.K)())});return(0,he.of)(_e).pipe(Ce())}(N.component,N.route,M,T,D)),(0,ge.K)(N=>!0!==N,!0))}(_e,D,N,_).pipe((0,Xe.O)(_t=>_t&&function Ds(_){return"boolean"==typeof _}(_t)?function ri(_,T,M,D){return(0,ye.Q)(T).pipe($(N=>(0,se.W)(function oo(_,T){return null!==_&&T&&T(new Bt(_)),(0,he.of)(!0)}(N.route.parent,D),function Fi(_,T){return null!==_&&T&&T(new Qt(_)),(0,he.of)(!0)}(N.route,D),function Ts(_,T,M){const D=T[T.length-1],ee=T.slice(0,T.length-1).reverse().map(_e=>function ko(_){const T=_.routeConfig?_.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:_,guards:T}:null}(_e)).filter(_e=>null!==_e).map(_e=>(0,Y.Q)(()=>{const _t=_e.guards.map(Jt=>{var Et;const xn=null!==(Et=Sr(_e.node))&&void 0!==Et?Et:M,mr=bi(Jt,xn);return gn(function ta(_){return _&&co(_.canActivateChild)}(mr)?mr.canActivateChild(D,_):(0,l.SMS)(xn,()=>mr(D,_))).pipe((0,ge.K)())});return(0,he.of)(_t).pipe(Ce())}));return(0,he.of)(ee).pipe(Ce())}(_,N.path,M),function Do(_,T,M){const D=T.routeConfig?T.routeConfig.canActivate:null;if(!D||0===D.length)return(0,he.of)(!0);const N=D.map(ee=>(0,Y.Q)(()=>{var _e;const _t=null!==(_e=Sr(T))&&void 0!==_e?_e:M,Jt=bi(ee,_t);return gn(function za(_){return _&&co(_.canActivate)}(Jt)?Jt.canActivate(T,_):(0,l.SMS)(_t,()=>Jt(T,_))).pipe((0,ge.K)())}));return(0,he.of)(N).pipe(Ce())}(_,N.route,M))),(0,ge.K)(N=>!0!==N,!0))}(D,ee,_,T):(0,he.of)(_t)),(0,Ve.k)(_t=>({...M,guardsResult:_t})))})}(this.environmentInjector,Et=>this.events.next(Et)),(0,be.y)(Et=>{if(_e.guardsResult=Et.guardsResult,fr(Et.guardsResult))throw ys(0,Et.guardsResult);const xn=new Q(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot,!!Et.guardsResult);this.events.next(xn)}),(0,Ye.I)(Et=>!!Et.guardsResult||(this.cancelNavigationTransition(Et,"",Kt.GuardRejected),!1)),Au(Et=>{if(Et.guards.canActivateChecks.length)return(0,he.of)(Et).pipe((0,be.y)(xn=>{const mr=new He(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(mr)}),(0,rt.G)(xn=>{let mr=!1;return(0,he.of)(xn).pipe(function Ea(_,T){return(0,Xe.O)(M=>{const{targetSnapshot:D,guards:{canActivateChecks:N}}=M;if(!N.length)return(0,he.of)(M);const ee=new Set(N.map(Jt=>Jt.route)),_e=new Set;for(const Jt of ee)if(!_e.has(Jt))for(const Et of Gs(Jt))_e.add(Et);let _t=0;return(0,ye.Q)(_e).pipe($(Jt=>ee.has(Jt)?function bo(_,T,M,D){const N=_.routeConfig,ee=_._resolve;return void 0!==(null==N?void 0:N.title)&&!Qi(N)&&(ee[nn]=N.title),function Ca(_,T,M,D){const N=Wt(_);if(0===N.length)return(0,he.of)({});const ee={};return(0,ye.Q)(N).pipe((0,Xe.O)(_e=>function Da(_,T,M,D){var N;const ee=null!==(N=Sr(T))&&void 0!==N?N:D,_e=bi(_,ee);return gn(_e.resolve?_e.resolve(T,M):(0,l.SMS)(ee,()=>_e(T,M)))}(_[_e],T,M,D).pipe((0,ge.K)(),(0,be.y)(_t=>{ee[_e]=_t}))),jt(1),(0,ke.e)(ee),dt(_e=>le(_e)?Le.k:(0,Me.c)(_e)))}(ee,_,T,D).pipe((0,Ve.k)(_e=>(_._resolvedData=_e,_.data=Ri(_,_.parent,M).resolve,null)))}(Jt,D,_,T):(Jt.data=Ri(Jt,Jt.parent,_).resolve,(0,he.of)(void 0))),(0,be.y)(()=>_t++),jt(1),(0,Xe.O)(Jt=>_t===_e.size?(0,he.of)(M):Le.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,be.y)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(xn,"",Kt.NoDataFromResolver)}}))}),(0,be.y)(xn=>{const mr=new Be(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(mr)}))}),Au(Et=>{const xn=mr=>{var vi;const qr=[];null!==(vi=mr.routeConfig)&&void 0!==vi&&vi.loadComponent&&!mr.routeConfig._loadedComponent&&qr.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,be.y)(to=>{mr.component=to}),(0,Ve.k)(()=>{})));for(const to of mr.children)qr.push(...xn(to));return qr};return(0,de.E)(xn(Et.targetSnapshot.root)).pipe((0,cn.G)(null),(0,fe.U)(1))}),Au(()=>this.afterPreactivation()),(0,rt.G)(()=>{var Et;const{currentSnapshot:xn,targetSnapshot:mr}=_e,vi=null===(Et=this.createViewTransition)||void 0===Et?void 0:Et.call(this,this.environmentInjector,xn.root,mr.root);return vi?(0,ye.Q)(vi).pipe((0,Ve.k)(()=>_e)):(0,he.of)(_e)}),(0,Ve.k)(Et=>{const xn=function No(_,T,M){const D=is(_,T._root,M?M._root:void 0);return new Un(D,T)}(D.routeReuseStrategy,Et.targetSnapshot,Et.currentRouterState);return this.currentTransition=_e={...Et,targetRouterState:xn},this.currentNavigation.targetRouterState=xn,_e}),(0,be.y)(()=>{this.events.next(new qt)}),((_,T,M,D)=>(0,Ve.k)(N=>(new va(T,N.targetRouterState,N.currentRouterState,M,D).activate(_),N)))(this.rootContexts,D.routeReuseStrategy,Et=>this.events.next(Et),this.inputBindingEnabled),(0,fe.U)(1),(0,be.y)({next:Et=>{var xn;_t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new At(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects))),null===(xn=this.titleStrategy)||void 0===xn||xn.updateTitle(Et.targetRouterState.snapshot),Et.resolve(!0)},complete:()=>{_t=!0}}),function Tt(_){return(0,et.i)((T,M)=>{(0,Ue.Uv)(_).subscribe((0,ze.e)(M,()=>M.complete(),Te.K)),!M.closed&&T.subscribe(M)})}(this.transitionAbortSubject.pipe((0,be.y)(Et=>{throw Et}))),me(()=>{var Et;!_t&&!Jt&&this.cancelNavigationTransition(_e,"",Kt.SupersededByNewNavigation),(null===(Et=this.currentTransition)||void 0===Et?void 0:Et.id)===_e.id&&(this.currentNavigation=null,this.currentTransition=null)}),dt(Et=>{if(Jt=!0,wi(Et))this.events.next(new Yt(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Et.message,Et.cancellationCode)),function Is(_){return wi(_)&&fr(_.url)}(Et)?this.events.next(new Vn(Et.url)):_e.resolve(!1);else{var xn;this.events.next(new Wr(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Et,null!==(xn=_e.targetSnapshot)&&void 0!==xn?xn:void 0));try{_e.resolve(D.errorHandler(Et))}catch(mr){this.options.resolveNavigationPromiseOnError?_e.resolve(!1):_e.reject(mr)}}return Le.k}))}))}cancelNavigationTransition(D,N,ee){const _e=new Yt(D.id,this.urlSerializer.serialize(D.extractedUrl),N,ee);this.events.next(_e),D.resolve(!1)}isUpdatingInternalState(){var D,N;return(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())!==(null===(N=this.currentTransition)||void 0===N?void 0:N.currentUrlTree.toString())}isUpdatedBrowserUrl(){var D,N;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())&&!(null!==(N=this.currentTransition)&&void 0!==N&&N.extras.skipLocationChange)}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();function ut(_){return _!==Se}let un=(()=>{var _;class T{}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:()=>(0,l.uUt)(ft),providedIn:"root"}),T})();class Ht{shouldDetach(T){return!1}store(T,M){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,M){return T.routeConfig===M.routeConfig}}let ft=(()=>{var _;class T extends Ht{}return(_=T).\u0275fac=(()=>{let M;return function(N){return(M||(M=l.otF(_)))(N||_)}})(),_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})(),Nt=(()=>{var _;class T{}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:()=>(0,l.uUt)(Kn),providedIn:"root"}),T})(),Kn=(()=>{var _;class T extends Nt{constructor(){super(...arguments),this.location=(0,l.uUt)(Ne.oB),this.urlSerializer=(0,l.uUt)(xt),this.options=(0,l.uUt)(Ao,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.uUt)(fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Xr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var D,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(D=null===(N=this.restoredState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==D?D:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(D){return this.location.subscribe(N=>{"popstate"===N.type&&D(N.url,N.state)})}handleRouterEvent(D,N){if(D instanceof ct)this.stateMemento=this.createStateMemento();else if(D instanceof kn)this.rawUrlTree=N.initialUrl;else if(D instanceof vt){if("eager"===this.urlUpdateStrategy&&!N.extras.skipLocationChange){const ee=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl);this.setBrowserUrl(ee,N)}}else D instanceof qt?(this.currentUrlTree=N.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N))):D instanceof Yt&&(D.code===Kt.GuardRejected||D.code===Kt.NoDataFromResolver)?this.restoreHistory(N):D instanceof Wr?this.restoreHistory(N,!0):D instanceof At&&(this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId)}setBrowserUrl(D,N){const ee=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(ee)||N.extras.replaceUrl){const _t={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(ee,"",_t)}else{const _e={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(ee,"",_e)}}restoreHistory(D,N=!1){if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-this.browserPageId;0!==_e?this.location.historyGo(_e):this.currentUrlTree===D.finalUrl&&0===_e&&(this.resetState(D),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){var N;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(N=D.finalUrl)&&void 0!==N?N:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,N){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:N}:{navigationId:D}}}return(_=T).\u0275fac=(()=>{let M;return function(N){return(M||(M=l.otF(_)))(N||_)}})(),_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();var Br=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Br||{});function Hr(_,T){_.events.pipe((0,Ye.I)(M=>M instanceof At||M instanceof Yt||M instanceof Wr||M instanceof kn),(0,Ve.k)(M=>M instanceof At||M instanceof kn?Br.COMPLETE:M instanceof Yt&&(M.code===Kt.Redirect||M.code===Kt.SupersededByNewNavigation)?Br.REDIRECTING:Br.FAILED),(0,Ye.I)(M=>M!==Br.REDIRECTING),(0,fe.U)(1)).subscribe(()=>{T()})}function Ai(_){throw _}const Zo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$r={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{var _;class T{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var D,N;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.uUt)(l.oPY),this.stateManager=(0,l.uUt)(Nt),this.options=(0,l.uUt)(Ao,{optional:!0})||{},this.pendingTasks=(0,l.uUt)(l.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.uUt)(ve),this.urlSerializer=(0,l.uUt)(xt),this.location=(0,l.uUt)(Ne.oB),this.urlHandlingStrategy=(0,l.uUt)(fo),this._events=new tt.E,this.errorHandler=this.options.errorHandler||Ai,this.navigated=!1,this.routeReuseStrategy=(0,l.uUt)(un),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(D=null===(N=(0,l.uUt)(Qo,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==D?D:[],this.componentInputBindingEnabled=!!(0,l.uUt)(Ho,{optional:!0}),this.eventsSubscription=new We.wH,this.isNgZoneEnabled=(0,l.uUt)(l.WW2)instanceof l.WW2&&l.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ee=>{this.console.warn(ee)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(N=>{try{const ee=this.navigationTransitions.currentTransition,_e=this.navigationTransitions.currentNavigation;if(null!==ee&&null!==_e)if(this.stateManager.handleRouterEvent(N,_e),N instanceof Yt&&N.code!==Kt.Redirect&&N.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof At)this.navigated=!0;else if(N instanceof Vn){const _t=this.urlHandlingStrategy.merge(N.url,ee.currentRawUrl),Jt={info:ee.extras.info,skipLocationChange:ee.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ut(ee.source)};this.scheduleNavigation(_t,Se,null,Jt,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})}(function Fr(_){return!(_ instanceof qt||_ instanceof Vn)})(N)&&this._events.next(N)}catch(ee){this.navigationTransitions.transitionAbortSubject.next(ee)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Se,this.stateManager.restoredState())}setUpLocationChangeListener(){var D;null!==(D=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==D||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((N,ee)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(N,"popstate",ee)},0)}))}navigateToSyncWithBrowser(D,N,ee){const _e={replaceUrl:!0},_t=null!=ee&&ee.navigationId?ee:null;if(ee){const Et={...ee};delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(_e.state=Et)}const Jt=this.parseUrl(D);this.scheduleNavigation(Jt,N,_t,_e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(si),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,N={}){const{relativeTo:ee,queryParams:_e,fragment:_t,queryParamsHandling:Jt,preserveFragment:Et}=N,xn=Et?this.currentUrlTree.fragment:_t;let vi,mr=null;switch(Jt){case"merge":mr={...this.currentUrlTree.queryParams,..._e};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=_e||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{vi=St(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),vi=this.currentUrlTree.root}return yt(vi,D,mr,null!=xn?xn:null)}navigateByUrl(D,N={skipLocationChange:!1}){const ee=fr(D)?D:this.parseUrl(D),_e=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(_e,Se,null,N)}navigate(D,N={skipLocationChange:!1}){return function jn(_){for(let T=0;T<_.length;T++)if(null==_[T])throw new l.OBp(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,N),N)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){try{return this.urlSerializer.parse(D)}catch{return this.urlSerializer.parse("/")}}isActive(D,N){let ee;if(ee=!0===N?{...Zo}:!1===N?{...$r}:N,fr(D))return nr(this.currentUrlTree,D,ee);const _e=this.parseUrl(D);return nr(this.currentUrlTree,_e,ee)}removeEmptyProps(D){return Object.entries(D).reduce((N,[ee,_e])=>(null!=_e&&(N[ee]=_e),N),{})}scheduleNavigation(D,N,ee,_e,_t){if(this.disposed)return Promise.resolve(!1);let Jt,Et,xn;_t?(Jt=_t.resolve,Et=_t.reject,xn=_t.promise):xn=new Promise((vi,qr)=>{Jt=vi,Et=qr});const mr=this.pendingTasks.add();return Hr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:_e,resolve:Jt,reject:Et,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(vi=>Promise.reject(vi))}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})(),hi=(()=>{var _;class T{constructor(D,N,ee,_e,_t,Jt){var Et;this.router=D,this.route=N,this.tabIndexAttribute=ee,this.renderer=_e,this.el=_t,this.locationStrategy=Jt,this.href=null,this.commands=null,this.onChanges=new tt.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xn=null===(Et=_t.nativeElement.tagName)||void 0===Et?void 0:Et.toLowerCase();this.isAnchorElement="a"===xn||"area"===xn,this.isAnchorElement?this.subscription=D.events.subscribe(mr=>{mr instanceof At&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,N,ee,_e,_t){const Jt=this.urlTree;return!!(null===Jt||this.isAnchorElement&&(0!==D||N||ee||_e||_t||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Jt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;const N=this.urlTree;this.href=null!==N&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(N)):null;const ee=null===this.href?null:(0,l.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ee)}applyAttributeValue(D,N){const ee=this.renderer,_e=this.el.nativeElement;null!==N?ee.setAttribute(_e,D,N):ee.removeAttribute(_e,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(_=T).\u0275fac=function(D){return new(D||_)(l.GI1(an),l.GI1(yi),l.gJ8("tabindex"),l.GI1(l.q87),l.GI1(l.GMv),l.GI1(Ne.Qd))},_.\u0275dir=l.Sc5({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,N){1&D&&l.qCj("click",function(_e){return N.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&D&&l.e48("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.cZD],skipLocationChange:[l.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.cZD],replaceUrl:[l.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.cZD],routerLink:"routerLink"},standalone:!0,features:[l.QJr,l.SYr]}),T})();class ar{}let Yr=(()=>{var _;class T{preload(D,N){return N().pipe(dt(()=>(0,he.of)(null)))}}return(_=T).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})(),Gr=(()=>{var _;class T{constructor(D,N,ee,_e,_t){this.router=D,this.injector=ee,this.preloadingStrategy=_e,this.loader=_t}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ye.I)(D=>D instanceof At),$(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,N){const ee=[];for(const Et of N){var _e,_t;Et.providers&&!Et._injector&&(Et._injector=(0,l.SIz)(Et.providers,D,`Route: ${Et.path}`));const xn=null!==(_e=Et._injector)&&void 0!==_e?_e:D,mr=null!==(_t=Et._loadedInjector)&&void 0!==_t?_t:xn;var Jt;(Et.loadChildren&&!Et._loadedRoutes&&void 0===Et.canLoad||Et.loadComponent&&!Et._loadedComponent)&&ee.push(this.preloadConfig(xn,Et)),(Et.children||Et._loadedRoutes)&&ee.push(this.processRoutes(mr,null!==(Jt=Et.children)&&void 0!==Jt?Jt:Et._loadedRoutes))}return(0,ye.Q)(ee).pipe((0,Gt.u)())}preloadConfig(D,N){return this.preloadingStrategy.preload(N,()=>{let ee;ee=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(D,N):(0,he.of)(null);const _e=ee.pipe((0,Xe.O)(_t=>{var Jt;return null===_t?(0,he.of)(void 0):(N._loadedRoutes=_t.routes,N._loadedInjector=_t.injector,this.processRoutes(null!==(Jt=_t.injector)&&void 0!==Jt?Jt:D,_t.routes))}));if(N.loadComponent&&!N._loadedComponent){const _t=this.loader.loadComponent(N);return(0,ye.Q)([_e,_t]).pipe((0,Gt.u)())}return _e})}}return(_=T).\u0275fac=function(D){return new(D||_)(l.CoB(an),l.CoB(l.ESV),l.CoB(l.SIe),l.CoB(ar),l.CoB(dl))},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),T})();const en=new l.UbH("");let Jo=(()=>{var _;class T{constructor(D,N,ee,_e,_t={}){this.urlSerializer=D,this.transitions=N,this.viewportScroller=ee,this.zone=_e,this.options=_t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_t.scrollPositionRestoration||(_t.scrollPositionRestoration="disabled"),_t.anchorScrolling||(_t.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ct?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof At?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof kn&&D.code===rn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof vn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var D,N;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(_=T).\u0275fac=function(D){l.KEo()},_.\u0275prov=l.wxM({token:_,factory:_.\u0275fac}),T})();function tr(_,T){return{\u0275kind:_,\u0275providers:T}}function Hl(){const _=(0,l.uUt)(l.zZn);return T=>{var M,D;const N=_.get(l.Swk);if(T!==N.components[0])return;const ee=_.get(an),_e=_.get(So);1===_.get(Ws)&&ee.initialNavigation(),null===(M=_.get(Hi,null,l._6O.Optional))||void 0===M||M.setUpPreloading(),null===(D=_.get(en,null,l._6O.Optional))||void 0===D||D.init(),ee.resetRootComponentType(N.componentTypes[0]),_e.closed||(_e.next(),_e.complete(),_e.unsubscribe())}}const So=new l.UbH("",{factory:()=>new tt.E}),Ws=new l.UbH("",{providedIn:"root",factory:()=>1}),Hi=new l.UbH("");function Kr(_){return tr(0,[{provide:Hi,useExisting:Gr},{provide:ar,useExisting:_}])}function pt(_){return tr(9,[{provide:S,useValue:k},{provide:Ee,useValue:{skipNextTransition:!(null==_||!_.skipInitialTransition),..._}}])}const so=new l.UbH("ROUTER_FORROOT_GUARD"),ba=[Ne.oB,{provide:xt,useClass:Cn},an,Vr,{provide:yi,useFactory:function As(_){return _.routerState.root},deps:[an]},dl,[]];let ds=(()=>{var _;class T{constructor(D){}static forRoot(D,N){return{ngModule:T,providers:[ba,[],{provide:Qo,multi:!0,useValue:D},{provide:so,useFactory:pc,deps:[[an,new l.T7N,new l.Qfh]]},{provide:Ao,useValue:N||{}},null!=N&&N.useHash?{provide:Ne.Qd,useClass:Ne.MP}:{provide:Ne.Qd,useClass:Ne.uC},{provide:en,useFactory:()=>{const _=(0,l.uUt)(Ne.YZ),T=(0,l.uUt)(l.WW2),M=(0,l.uUt)(Ao),D=(0,l.uUt)(ve),N=(0,l.uUt)(xt);return M.scrollOffset&&_.setOffset(M.scrollOffset),new Jo(N,D,_,T,M)}},null!=N&&N.preloadingStrategy?Kr(N.preloadingStrategy).\u0275providers:[],null!=N&&N.initialNavigation?Sa(N):[],null!=N&&N.bindToComponentInputs?tr(8,[Xi,{provide:Ho,useExisting:Xi}]).\u0275providers:[],null!=N&&N.enableViewTransitions?pt().\u0275providers:[],[{provide:Kl,useFactory:Hl},{provide:l.qid,multi:!0,useExisting:Kl}]]}}static forChild(D){return{ngModule:T,providers:[{provide:Qo,multi:!0,useValue:D}]}}}return(_=T).\u0275fac=function(D){return new(D||_)(l.CoB(so,8))},_.\u0275mod=l.a4G({type:_}),_.\u0275inj=l.s3X({}),T})();function pc(_){return"guarded"}function Sa(_){return["disabled"===_.initialNavigation?tr(3,[{provide:l.kZF,multi:!0,useFactory:()=>{const T=(0,l.uUt)(an);return()=>{T.setUpLocationChangeListener()}}},{provide:Ws,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?tr(2,[{provide:Ws,useValue:0},{provide:l.kZF,multi:!0,deps:[l.zZn],useFactory:T=>{const M=T.get(Ne.mQ,Promise.resolve());return()=>M.then(()=>new Promise(D=>{const N=T.get(an),ee=T.get(So);Hr(N,()=>{D(!0)}),T.get(ve).afterPreactivation=()=>(D(!0),ee.closed?(0,he.of)(void 0):ee),N.initialNavigation()}))}}]).\u0275providers:[]]}const Kl=new l.UbH("")},8368:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>Fe});var l=A(7144),F=A(4920),B=A(9360),K=A(5976);class ye{constructor(We,Ne){this._delegate=We,this.firebase=Ne,(0,B._addComponent)(We,new F.Yl("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(We,Ne=B._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(We);return!rt.isInitialized()&&"EXPLICIT"===(null===(Ve=rt.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Ne})}_removeServiceInstance(We,Ne=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Ne)}_addComponent(We){(0,B._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,B._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new l.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function $e(){const tt=function de(tt){const We={},Ne={__esModule:!0,initializeApp:function fe(ge,$={}){const be=B.initializeApp(ge,$);if((0,l.Y7)(We,be.name))return We[be.name];const Ue=new tt(be,Ne);return We[be.name]=Ue,Ue},app:rt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ye(ge){const $=ge.name,be=$.replace("-compat","");if(B._registerComponent(ge)&&"PUBLIC"===ge.type){const Ue=(ze=rt())=>{if("function"!=typeof ze[be])throw te.create("invalid-app-argument",{appName:$});return ze[be]()};void 0!==ge.serviceProps&&(0,l.Ww)(Ue,ge.serviceProps),Ne[be]=Ue,tt.prototype[be]=function(...ze){return this._getService.bind(this,$).apply(this,ge.multipleInstances?ze:[])}}return"PUBLIC"===ge.type?Ne[be]:null},removeApp:function Ve(ge){delete We[ge]},useAsService:function Xe(ge,$){return"serverAuth"===$?null:$},modularAPIs:B}};function rt(ge){if(!(0,l.Y7)(We,ge=ge||B._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:ge});return We[ge]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Ke(){return Object.keys(We).map(ge=>We[ge])}}),rt.App=tt,Ne}(ye);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function We(Ne){(0,l.Ww)(tt,Ne)},createSubscribe:l.my,ErrorFactory:l.UR,deepExtend:l.Ww}),tt}(),Y=new K.YJ("@firebase/app-compat");if((0,l.uH)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=se;!function Le(tt){(0,B.registerVersion)("@firebase/app-compat","0.2.27",tt)}()},9360:(tn,Qe,A)=>{"use strict";A.r(Qe),A.d(Qe,{FirebaseError:()=>K.kx,SDK_VERSION:()=>Cn,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>pr,_addOrOverwriteComponent:()=>br,_apps:()=>fn,_clearComponents:()=>kt,_components:()=>Pn,_getProvider:()=>Bn,_registerComponent:()=>or,_removeServiceInstance:()=>dr,deleteApp:()=>Lt,getApp:()=>Mn,getApps:()=>Sn,initializeApp:()=>zn,onLog:()=>pe,registerVersion:()=>Ge,setLogLevel:()=>Ae});var l=A(1528),F=A(4920),B=A(5976),K=A(7144);const ye=(St,yt)=>yt.some(Mt=>St instanceof Mt);let he,te;const se=new WeakMap,Y=new WeakMap,xe=new WeakMap,Me=new WeakMap,Le=new WeakMap;let We={get(St,yt,Mt){if(St instanceof IDBTransaction){if("done"===yt)return Y.get(St);if("objectStoreNames"===yt)return St.objectStoreNames||xe.get(St);if("store"===yt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return fe(St[yt])},set:(St,yt,Mt)=>(St[yt]=Mt,!0),has:(St,yt)=>St instanceof IDBTransaction&&("done"===yt||"store"===yt)||yt in St};function rt(St){return"function"==typeof St?function Ve(St){return St!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(St)?function(...yt){return St.apply(Ke(this),yt),fe(se.get(this))}:function(...yt){return fe(St.apply(Ke(this),yt))}:function(yt,...Mt){const In=St.call(Ke(this),yt,...Mt);return xe.set(In,yt.sort?yt.sort():[yt]),fe(In)}}(St):(St instanceof IDBTransaction&&function tt(St){if(Y.has(St))return;const yt=new Promise((Mt,In)=>{const Qn=()=>{St.removeEventListener("complete",Gn),St.removeEventListener("error",Zn),St.removeEventListener("abort",Zn)},Gn=()=>{Mt(),Qn()},Zn=()=>{In(St.error||new DOMException("AbortError","AbortError")),Qn()};St.addEventListener("complete",Gn),St.addEventListener("error",Zn),St.addEventListener("abort",Zn)});Y.set(St,yt)}(St),ye(St,function de(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(St,We):St)}function fe(St){if(St instanceof IDBRequest)return function Fe(St){const yt=new Promise((Mt,In)=>{const Qn=()=>{St.removeEventListener("success",Gn),St.removeEventListener("error",Zn)},Gn=()=>{Mt(fe(St.result)),Qn()},Zn=()=>{In(St.error),Qn()};St.addEventListener("success",Gn),St.addEventListener("error",Zn)});return yt.then(Mt=>{Mt instanceof IDBCursor&&se.set(Mt,St)}).catch(()=>{}),Le.set(yt,St),yt}(St);if(Me.has(St))return Me.get(St);const yt=rt(St);return yt!==St&&(Me.set(St,yt),Le.set(yt,St)),yt}const Ke=St=>Le.get(St),ge=["get","getKey","getAll","getAllKeys","count"],$=["put","add","delete","clear"],be=new Map;function Ue(St,yt){if(!(St instanceof IDBDatabase)||yt in St||"string"!=typeof yt)return;if(be.get(yt))return be.get(yt);const Mt=yt.replace(/FromIndex$/,""),In=yt!==Mt,Qn=$.includes(Mt);if(!(Mt in(In?IDBIndex:IDBObjectStore).prototype)||!Qn&&!ge.includes(Mt))return;const Gn=function(){var Zn=(0,l.c)(function*(Pr,...Er){const Ar=this.transaction(Pr,Qn?"readwrite":"readonly");let ni=Ar.store;return In&&(ni=ni.index(Er.shift())),(yield Promise.all([ni[Mt](...Er),Qn&&Ar.done]))[0]});return function(Er){return Zn.apply(this,arguments)}}();return be.set(yt,Gn),Gn}!function Ne(St){We=St(We)}(St=>({...St,get:(yt,Mt,In)=>Ue(yt,Mt)||St.get(yt,Mt,In),has:(yt,Mt)=>!!Ue(yt,Mt)||St.has(yt,Mt)}));class ze{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function et(St){const yt=St.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}(Mt)){const In=Mt.getImmediate();return`${In.library}/${In.version}`}return null}).filter(Mt=>Mt).join(" ")}}const dt="@firebase/app",cn=new B.YJ("@firebase/app"),Ln="[DEFAULT]",qn={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,Pn=new Map;function pr(St,yt){try{St.container.addComponent(yt)}catch(Mt){cn.debug(`Component ${yt.name} failed to register with FirebaseApp ${St.name}`,Mt)}}function br(St,yt){St.container.addOrOverwriteComponent(yt)}function or(St){const yt=St.name;if(Pn.has(yt))return cn.debug(`There were multiple attempts to register component ${yt}.`),!1;Pn.set(yt,St);for(const Mt of fn.values())pr(Mt,St);return!0}function Bn(St,yt){const Mt=St.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),St.container.getProvider(yt)}function dr(St,yt,Mt=Ln){Bn(St,yt).clearInstance(Mt)}function kt(){Pn.clear()}const ln=new K.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xt{constructor(yt,Mt,In){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=In,this.container.addComponent(new F.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const Cn="10.8.0";function zn(St,yt={}){let Mt=St;"object"!=typeof yt&&(yt={name:yt});const In=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},yt),Qn=In.name;if("string"!=typeof Qn||!Qn)throw ln.create("bad-app-name",{appName:String(Qn)});if(Mt||(Mt=(0,K.Yd)()),!Mt)throw ln.create("no-options");const Gn=fn.get(Qn);if(Gn){if((0,K.IN)(Mt,Gn.options)&&(0,K.IN)(In,Gn.config))return Gn;throw ln.create("duplicate-app",{appName:Qn})}const Zn=new F.op(Qn);for(const Er of Pn.values())Zn.addComponent(Er);const Pr=new xt(Mt,In,Zn);return fn.set(Qn,Pr),Pr}function Mn(St=Ln){const yt=fn.get(St);if(!yt&&St===Ln&&(0,K.Yd)())return zn();if(!yt)throw ln.create("no-app",{appName:St});return yt}function Sn(){return Array.from(fn.values())}function Lt(St){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.c)(function*(St){const yt=St.name;fn.has(yt)&&(fn.delete(yt),yield Promise.all(St.container.getProviders().map(Mt=>Mt.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Ge(St,yt,Mt){var In;let Qn=null!==(In=qn[St])&&void 0!==In?In:St;Mt&&(Qn+=`-${Mt}`);const Gn=Qn.match(/\s|\//),Zn=yt.match(/\s|\//);if(Gn||Zn){const Pr=[`Unable to register library "${Qn}" with version "${yt}":`];return Gn&&Pr.push(`library name "${Qn}" contains illegal characters (whitespace or "/")`),Gn&&Zn&&Pr.push("and"),Zn&&Pr.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void cn.warn(Pr.join(" "))}or(new F.Yl(`${Qn}-version`,()=>({library:Qn,version:yt}),"VERSION"))}function pe(St,yt){if(null!==St&&"function"!=typeof St)throw ln.create("invalid-log-argument");(0,B.S2)(St,yt)}function Ae(St){(0,B.QN)(St)}const ot="firebase-heartbeat-database",qe=1,J="firebase-heartbeat-store";let ae=null;function z(){return ae||(ae=function Ye(St,yt,{blocked:Mt,upgrade:In,blocking:Qn,terminated:Gn}={}){const Zn=indexedDB.open(St,yt),Pr=fe(Zn);return In&&Zn.addEventListener("upgradeneeded",Er=>{In(fe(Zn.result),Er.oldVersion,Er.newVersion,fe(Zn.transaction),Er)}),Mt&&Zn.addEventListener("blocked",Er=>Mt(Er.oldVersion,Er.newVersion,Er)),Pr.then(Er=>{Gn&&Er.addEventListener("close",()=>Gn()),Qn&&Er.addEventListener("versionchange",Ar=>Qn(Ar.oldVersion,Ar.newVersion,Ar))}).catch(()=>{}),Pr}(ot,qe,{upgrade:(St,yt)=>{if(0===yt)try{St.createObjectStore(J)}catch(Mt){console.warn(Mt)}}}).catch(St=>{throw ln.create("idb-open",{originalErrorMessage:St.message})})),ae}function q(){return(q=(0,l.c)(function*(St){try{const Mt=(yield z()).transaction(J),In=yield Mt.objectStore(J).get(pn(St));return yield Mt.done,In}catch(yt){if(yt instanceof K.kx)cn.warn(yt.message);else{const Mt=ln.create("idb-get",{originalErrorMessage:null==yt?void 0:yt.message});cn.warn(Mt.message)}}})).apply(this,arguments)}function Ze(St,yt){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.c)(function*(St,yt){try{const In=(yield z()).transaction(J,"readwrite");yield In.objectStore(J).put(yt,pn(St)),yield In.done}catch(Mt){if(Mt instanceof K.kx)cn.warn(Mt.message);else{const In=ln.create("idb-set",{originalErrorMessage:null==Mt?void 0:Mt.message});cn.warn(In.message)}}})).apply(this,arguments)}function pn(St){return`${St.name}!${St.options.appId}`}class hr{constructor(yt){this.container=yt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new Xn(Mt),this._heartbeatsCachePromise=this._storage.read().then(In=>(this._heartbeatsCache=In,In))}triggerHeartbeat(){var yt=this;return(0,l.c)(function*(){var Mt,In;const Gn=yt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zn=On();if((null!=(null===(Mt=yt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||(yt._heartbeatsCache=yield yt._heartbeatsCachePromise,null!=(null===(In=yt._heartbeatsCache)||void 0===In?void 0:In.heartbeats)))&&yt._heartbeatsCache.lastSentHeartbeatDate!==Zn&&!yt._heartbeatsCache.heartbeats.some(Pr=>Pr.date===Zn))return yt._heartbeatsCache.heartbeats.push({date:Zn,agent:Gn}),yt._heartbeatsCache.heartbeats=yt._heartbeatsCache.heartbeats.filter(Pr=>{const Er=new Date(Pr.date).valueOf();return Date.now()-Er<=2592e6}),yt._storage.overwrite(yt._heartbeatsCache)})()}getHeartbeatsHeader(){var yt=this;return(0,l.c)(function*(){var Mt;if(null===yt._heartbeatsCache&&(yield yt._heartbeatsCachePromise),null==(null===(Mt=yt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===yt._heartbeatsCache.heartbeats.length)return"";const In=On(),{heartbeatsToSend:Qn,unsentEntries:Gn}=function mn(St,yt=1024){const Mt=[];let In=St.slice();for(const Qn of St){const Gn=Mt.find(Zn=>Zn.agent===Qn.agent);if(Gn){if(Gn.dates.push(Qn.date),fr(Mt)>yt){Gn.dates.pop();break}}else if(Mt.push({agent:Qn.agent,dates:[Qn.date]}),fr(Mt)>yt){Mt.pop();break}In=In.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:In}}(yt._heartbeatsCache.heartbeats),Zn=(0,K.Wg)(JSON.stringify({version:2,heartbeats:Qn}));return yt._heartbeatsCache.lastSentHeartbeatDate=In,Gn.length>0?(yt._heartbeatsCache.heartbeats=Gn,yield yt._storage.overwrite(yt._heartbeatsCache)):(yt._heartbeatsCache.heartbeats=[],yt._storage.overwrite(yt._heartbeatsCache)),Zn})()}}function On(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(yt){this.app=yt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.c)(function*(){return!!(0,K.yy)()&&(0,K.A3)().then(()=>!0).catch(()=>!1)})()}read(){var yt=this;return(0,l.c)(function*(){if(yield yt._canUseIndexedDBPromise){const In=yield function X(St){return q.apply(this,arguments)}(yt.app);return null!=In&&In.heartbeats?In:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(yt){var Mt=this;return(0,l.c)(function*(){var In;if(yield Mt._canUseIndexedDBPromise){const Gn=yield Mt.read();return Ze(Mt.app,{lastSentHeartbeatDate:null!==(In=yt.lastSentHeartbeatDate)&&void 0!==In?In:Gn.lastSentHeartbeatDate,heartbeats:yt.heartbeats})}})()}add(yt){var Mt=this;return(0,l.c)(function*(){var In;if(yield Mt._canUseIndexedDBPromise){const Gn=yield Mt.read();return Ze(Mt.app,{lastSentHeartbeatDate:null!==(In=yt.lastSentHeartbeatDate)&&void 0!==In?In:Gn.lastSentHeartbeatDate,heartbeats:[...Gn.heartbeats,...yt.heartbeats]})}})()}}function fr(St){return(0,K.Wg)(JSON.stringify({version:2,heartbeats:St})).length}!function zr(St){or(new F.Yl("platform-logger",yt=>new ze(yt),"PRIVATE")),or(new F.Yl("heartbeat",yt=>new hr(yt),"PRIVATE")),Ge(dt,"0.9.27",St),Ge(dt,"0.9.27","esm2017"),Ge("fire-js","")}("")},4920:(tn,Qe,A)=>{"use strict";A.d(Qe,{Yl:()=>B,op:()=>de});var l=A(1528),F=A(7144);class B{constructor(se,Y,xe){this.name=se,this.instanceFactory=Y,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const K="[DEFAULT]";class ye{constructor(se,Y){this.name=se,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const Y=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(Y)){const xe=new F.o9;if(this.instancesDeferred.set(Y,xe),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:Y});Me&&xe.resolve(Me)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(se){var Y;const xe=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),Me=null!==(Y=null==se?void 0:se.optional)&&void 0!==Y&&Y;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Le){if(Me)return null;throw Le}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function te($e){return"EAGER"===$e.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:K})}catch{}for(const[Y,xe]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(Y);try{const Le=this.getOrInitializeService({instanceIdentifier:Me});xe.resolve(Le)}catch{}}}}clearInstance(se=K){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,l.c)(function*(){const Y=Array.from(se.instances.values());yield Promise.all([...Y.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...Y.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=K){return this.instances.has(se)}getOptions(se=K){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:Y={}}=se,xe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:xe,options:Y});for(const[Le,Fe]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Le)&&Fe.resolve(Me);return Me}onInit(se,Y){var xe;const Me=this.normalizeInstanceIdentifier(Y),Le=null!==(xe=this.onInitCallbacks.get(Me))&&void 0!==xe?xe:new Set;Le.add(se),this.onInitCallbacks.set(Me,Le);const Fe=this.instances.get(Me);return Fe&&se(Fe,Me),()=>{Le.delete(se)}}invokeOnInitCallbacks(se,Y){const xe=this.onInitCallbacks.get(Y);if(xe)for(const Me of xe)try{Me(se,Y)}catch{}}getOrInitializeService({instanceIdentifier:se,options:Y={}}){let xe=this.instances.get(se);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:($e=se,$e===K?void 0:$e),options:Y}),this.instances.set(se,xe),this.instancesOptions.set(se,Y),this.invokeOnInitCallbacks(xe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,xe)}catch{}var $e;return xe||null}normalizeInstanceIdentifier(se=K){return this.component?this.component.multipleInstances?se:K:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const Y=this.getProvider(se.name);if(Y.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);Y.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const Y=new ye(se,this);return this.providers.set(se,Y),Y}getProviders(){return Array.from(this.providers.values())}}},5976:(tn,Qe,A)=>{"use strict";A.d(Qe,{Ge:()=>F,QN:()=>de,S2:()=>$e,YJ:()=>te});const l=[];var F=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(F||{});const B={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},K=F.INFO,ye={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},he=(se,Y,...xe)=>{if(Y<se.logLevel)return;const Me=(new Date).toISOString(),Le=ye[Y];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Le](`[${Me}]  ${se.name}:`,...xe)};class te{constructor(Y){this.name=Y,this._logLevel=K,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in F))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?B[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Y),this._logHandler(this,F.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Y),this._logHandler(this,F.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,F.INFO,...Y),this._logHandler(this,F.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,F.WARN,...Y),this._logHandler(this,F.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Y),this._logHandler(this,F.ERROR,...Y)}}function de(se){l.forEach(Y=>{Y.setLogLevel(se)})}function $e(se,Y){for(const xe of l){let Me=null;Y&&Y.level&&(Me=B[Y.level]),xe.userLogHandler=null===se?null:(Le,Fe,...tt)=>{const We=tt.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Fe>=(null!=Me?Me:Le.logLevel)&&se({level:F[Fe].toLowerCase(),message:We,args:tt,type:Le.name})}}}},304:(tn,Qe,A)=>{"use strict";A.d(Qe,{kh:()=>or,_U:()=>fn,m2:()=>Pn,Im:()=>In,Qz:()=>qe,Ej:()=>Er,sW:()=>pe,Cg:()=>mn,CE:()=>Ar,um:()=>$n,wX:()=>An,gk:()=>Gi,g5:()=>Qn,GY:()=>Gn,uU:()=>Ci,Al:()=>St,cl:()=>ni,ag:()=>sr});var l=A(1528),F=A(4496),B=A(9148),K=A(1368);class ye{constructor(){this.m=new Map}reset(Se){this.m=new Map(Object.entries(Se))}get(Se,W){const De=this.m.get(Se);return void 0!==De?De:W}getBoolean(Se,W=!1){const De=this.m.get(Se);return void 0===De?W:"string"==typeof De?"true"===De:!!De}getNumber(Se,W){const De=parseFloat(this.m.get(Se));return isNaN(De)?void 0!==W?W:NaN:De}set(Se,W){this.m.set(Se,W)}}const he=new ye,Me=we=>Fe(we),Fe=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let Se=we.Ionic.platforms;return null==Se&&(Se=we.Ionic.platforms=tt(we),Se.forEach(W=>we.document.documentElement.classList.add(`plt-${W}`))),Se},tt=we=>{const Se=he.get("platform");return Object.keys(jt).filter(W=>{const De=null==Se?void 0:Se[W];return"function"==typeof De?De(we):jt[W](we)})},Ne=we=>!!(Ut(we,/iPad/i)||Ut(we,/Macintosh/i)&&ge(we)),fe=we=>Ut(we,/android|sink/i),ge=we=>cn(we,"(any-pointer:coarse)"),be=we=>Ue(we)||ze(we),Ue=we=>!!(we.cordova||we.phonegap||we.PhoneGap),ze=we=>{const Se=we.Capacitor;return!(null==Se||!Se.isNative)},Ut=(we,Se)=>Se.test(we.navigator.userAgent),cn=(we,Se)=>{var W;return null===(W=we.matchMedia)||void 0===W?void 0:W.call(we,Se).matches},jt={ipad:Ne,iphone:we=>Ut(we,/iPhone/i),ios:we=>Ut(we,/iPhone|iPod/i)||Ne(we),android:fe,phablet:we=>{const Se=we.innerWidth,W=we.innerHeight,De=Math.min(Se,W),ct=Math.max(Se,W);return De>390&&De<520&&ct>620&&ct<800},tablet:we=>{const Se=we.innerWidth,W=we.innerHeight,De=Math.min(Se,W),ct=Math.max(Se,W);return Ne(we)||(we=>fe(we)&&!Ut(we,/mobile/i))(we)||De>460&&De<820&&ct>780&&ct<1400},cordova:Ue,capacitor:ze,electron:we=>Ut(we,/electron/i),pwa:we=>{var Se;return!!(null!==(Se=we.matchMedia)&&void 0!==Se&&Se.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:ge,mobileweb:we=>ge(we)&&!be(we),desktop:we=>!ge(we),hybrid:be};var ke=A(1896),me=A(9248),je=A(5657),Te=A(800),Tt=A(6700),Gt=A(6040),Ft=A(2700),It=A(1316),nn=A(6684),Dn=A(7368),Tn=A(4e3),Ct=A(4716);const gt=["tabsInner"];let Ot=(()=>{class we{constructor(W,De){this.doc=W,this.backButton=new je.E,this.keyboardDidShow=new je.E,this.keyboardDidHide=new je.E,this.pause=new je.E,this.resume=new je.E,this.resize=new je.E,De.run(()=>{var ct;let At;this.win=W.defaultView,this.backButton.subscribeWithPriority=function(Kt,rn){return this.subscribe(Yt=>Yt.register(Kt,kn=>De.run(()=>rn(kn))))},hn(this.pause,W,"pause",De),hn(this.resume,W,"resume",De),hn(this.backButton,W,"ionBackButton",De),hn(this.resize,this.win,"resize",De),hn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",De),hn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",De),this._readyPromise=new Promise(Kt=>{At=Kt}),null!==(ct=this.win)&&void 0!==ct&&ct.cordova?W.addEventListener("deviceready",()=>{At("cordova")},{once:!0}):At("dom")})}is(W){return((we,Se)=>("string"==typeof we&&(Se=we,we=void 0),Me(we).includes(Se)))(this.win,W)}platforms(){return Me(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(W){return gn(this.win.location.href,W)}isLandscape(){return!this.isPortrait()}isPortrait(){var W,De;return null===(W=(De=this.win).matchMedia)||void 0===W?void 0:W.call(De,"(orientation: portrait)").matches}testUserAgent(W){const De=this.win.navigator;return!!(null!=De&&De.userAgent&&De.userAgent.indexOf(W)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return we.\u0275fac=function(W){return new(W||we)(F.CoB(K.Ud),F.CoB(F.WW2))},we.\u0275prov=F.wxM({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const gn=(we,Se)=>{Se=Se.replace(/[[\]\\]/g,"\\$&");const De=new RegExp("[\\?&]"+Se+"=([^&#]*)").exec(we);return De?decodeURIComponent(De[1].replace(/\+/g," ")):null},hn=(we,Se,W,De)=>{Se&&Se.addEventListener(W,ct=>{De.run(()=>{we.next(null!=ct?ct.detail:void 0)})})};let An=(()=>{class we{constructor(W,De,ct,At){this.location=De,this.serializer=ct,this.router=At,this.direction=Ln,this.animated=qn,this.guessDirection="forward",this.lastNavId=-1,At&&At.events.subscribe(Kt=>{if(Kt instanceof B.Qx){const rn=Kt.restoredState?Kt.restoredState.navigationId:Kt.id;this.guessDirection=rn<this.lastNavId?"back":"forward",this.guessAnimation=Kt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Kt.id:rn}}),W.backButton.subscribeWithPriority(0,Kt=>{this.pop(),Kt()})}navigateForward(W,De={}){return this.setDirection("forward",De.animated,De.animationDirection,De.animation),this.navigate(W,De)}navigateBack(W,De={}){return this.setDirection("back",De.animated,De.animationDirection,De.animation),this.navigate(W,De)}navigateRoot(W,De={}){return this.setDirection("root",De.animated,De.animationDirection,De.animation),this.navigate(W,De)}back(W={animated:!0,animationDirection:"back"}){return this.setDirection("back",W.animated,W.animationDirection,W.animation),this.location.back()}pop(){var W=this;return(0,l.c)(function*(){let De=W.topOutlet;for(;De;){if(yield De.pop())return!0;De=De.parentOutlet}return!1})()}setDirection(W,De,ct,At){this.direction=W,this.animated=nr(W,De,ct),this.animationBuilder=At}setTopOutlet(W){this.topOutlet=W}consumeTransition(){let De,W="root";const ct=this.animationBuilder;return"auto"===this.direction?(W=this.guessDirection,De=this.guessAnimation):(De=this.animated,W=this.direction),this.direction=Ln,this.animated=qn,this.animationBuilder=void 0,{direction:W,animation:De,animationBuilder:ct}}navigate(W,De){if(Array.isArray(W))return this.router.navigate(W,De);{const ct=this.serializer.parse(W.toString());return void 0!==De.queryParams&&(ct.queryParams={...De.queryParams}),void 0!==De.fragment&&(ct.fragment=De.fragment),this.router.navigateByUrl(ct,De)}}}return we.\u0275fac=function(W){return new(W||we)(F.CoB(Ot),F.CoB(K.oB),F.CoB(B.qd),F.CoB(B.E5,8))},we.\u0275prov=F.wxM({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const nr=(we,Se,W)=>{if(!1!==Se){if(void 0!==W)return W;if("forward"===we||"back"===we)return we;if("root"===we&&!0===Se)return"forward"}},Ln="auto",qn=void 0;let fn=(()=>{class we{get(W,De){const ct=pr();return ct?ct.get(W,De):null}getBoolean(W,De){const ct=pr();return!!ct&&ct.getBoolean(W,De)}getNumber(W,De){const ct=pr();return ct?ct.getNumber(W,De):0}}return we.\u0275fac=function(W){return new(W||we)},we.\u0275prov=F.wxM({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Pn=new F.UbH("USERCONFIG"),pr=()=>{if(typeof window<"u"){const we=window.Ionic;if(null!=we&&we.config)return we.config}return null};class br{constructor(Se={}){this.data=Se}get(Se){return this.data[Se]}}let or=(()=>{class we{constructor(){this.zone=(0,F.uUt)(F.WW2),this.applicationRef=(0,F.uUt)(F.Swk)}create(W,De,ct){return new Bn(W,De,this.applicationRef,this.zone,ct)}}return we.\u0275fac=function(W){return new(W||we)},we.\u0275prov=F.wxM({token:we,factory:we.\u0275fac}),we})();class Bn{constructor(Se,W,De,ct,At){this.environmentInjector=Se,this.injector=W,this.applicationRef=De,this.zone=ct,this.elementReferenceKey=At,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Se,W,De,ct){return this.zone.run(()=>new Promise(At=>{const Kt={...De};void 0!==this.elementReferenceKey&&(Kt[this.elementReferenceKey]=Se),At(dr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Se,W,Kt,ct,this.elementReferenceKey))}))}removeViewFromDom(Se,W){return this.zone.run(()=>new Promise(De=>{const ct=this.elRefMap.get(W);if(ct){ct.destroy(),this.elRefMap.delete(W);const At=this.elEventsMap.get(W);At&&(At(),this.elEventsMap.delete(W))}De()}))}}const dr=(we,Se,W,De,ct,At,Kt,rn,Yt,kn,Wr)=>{const vt=F.zZn.create({providers:xt(Yt),parent:W}),U=(0,F.kdu)(rn,{environmentInjector:Se,elementInjector:vt}),Q=U.instance,He=U.location.nativeElement;if(Yt&&(Wr&&void 0!==Q[Wr]&&console.error(`[Ionic Error]: ${Wr} is a reserved property when using ${Kt.tagName.toLowerCase()}. Rename or remove the "${Wr}" property from ${rn.name}.`),Object.assign(Q,Yt)),kn)for(const st of kn)He.classList.add(st);const Be=bt(we,Q,He);return Kt.appendChild(He),De.attachView(U.hostView),ct.set(He,U),At.set(He,Be),He},kt=[ke.L,ke.a,ke.b,ke.c,ke.d],bt=(we,Se,W)=>we.run(()=>{const De=kt.filter(ct=>"function"==typeof Se[ct]).map(ct=>{const At=Kt=>Se[ct](Kt.detail);return W.addEventListener(ct,At),()=>W.removeEventListener(ct,At)});return()=>De.forEach(ct=>ct())}),ln=new F.UbH("NavParamsToken"),xt=we=>[{provide:ln,useValue:we},{provide:br,useFactory:Cn,deps:[ln]}],Cn=we=>new br(we),zn=(we,Se)=>{const W=we.prototype;Se.forEach(De=>{Object.defineProperty(W,De,{get(){return this.el[De]},set(ct){this.z.runOutsideAngular(()=>this.el[De]=ct)}})})},Mn=(we,Se)=>{const W=we.prototype;Se.forEach(De=>{W[De]=function(){const ct=arguments;return this.z.runOutsideAngular(()=>this.el[De].apply(this.el,ct))}})},Sn=(we,Se,W)=>{W.forEach(De=>we[De]=(0,Te.w)(Se,De))};function Lt(we){return function(W){const{defineCustomElementFn:De,inputs:ct,methods:At}=we;return void 0!==De&&De(),ct&&zn(W,ct),At&&Mn(W,At),W}}const ie=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ge=["present","dismiss","onDidDismiss","onWillDismiss"];let pe=(()=>{let we=class{constructor(W,De,ct){this.z=ct,this.isCmpOpen=!1,this.el=De.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,W.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,W.detectChanges()}),Sn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return we.\u0275fac=function(W){return new(W||we)(F.GI1(F.kD9),F.GI1(F.GMv),F.GI1(F.WW2))},we.\u0275dir=F.Sc5({type:we,selectors:[["ion-popover"]],contentQueries:function(W,De,ct){if(1&W&&F.szK(ct,F.Yw2,5),2&W){let At;F.wto(At=F.Gqi())&&(De.template=At.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),we=(0,It.UN)([Lt({inputs:ie,methods:Ge})],we),we})();const Ae=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ot=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let qe=(()=>{let we=class{constructor(W,De,ct){this.z=ct,this.isCmpOpen=!1,this.el=De.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,W.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,W.detectChanges()}),Sn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return we.\u0275fac=function(W){return new(W||we)(F.GI1(F.kD9),F.GI1(F.GMv),F.GI1(F.WW2))},we.\u0275dir=F.Sc5({type:we,selectors:[["ion-modal"]],contentQueries:function(W,De,ct){if(1&W&&F.szK(ct,F.Yw2,5),2&W){let At;F.wto(At=F.Gqi())&&(De.template=At.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),we=(0,It.UN)([Lt({inputs:Ae,methods:ot})],we),we})();const ae=(we,Se)=>((we=we.filter(W=>W.stackId!==Se.stackId)).push(Se),we),q=(we,Se)=>{const W=we.createUrlTree(["."],{relativeTo:Se});return we.serializeUrl(W)},Ze=(we,Se)=>!Se||we.stackId!==Se.stackId,wt=(we,Se)=>{if(!we)return;const W=pn(Se);for(let De=0;De<W.length;De++){if(De>=we.length)return W[De];if(W[De]!==we[De])return}},pn=we=>we.split("/").map(Se=>Se.trim()).filter(Se=>""!==Se),Nn=we=>{we&&(we.ref.destroy(),we.unlistenEvents())};class Wn{constructor(Se,W,De,ct,At,Kt){this.containerEl=W,this.router=De,this.navCtrl=ct,this.zone=At,this.location=Kt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Se?pn(Se):void 0}createView(Se,W){var De;const ct=q(this.router,W),At=null==Se||null===(De=Se.location)||void 0===De?void 0:De.nativeElement,Kt=bt(this.zone,Se.instance,At);return{id:this.nextId++,stackId:wt(this.tabsPrefix,ct),unlistenEvents:Kt,element:At,ref:Se,url:ct}}getExistingView(Se){const W=q(this.router,Se),De=this.views.find(ct=>ct.url===W);return De&&De.ref.changeDetectorRef.reattach(),De}setActive(Se){var W,De;const ct=this.navCtrl.consumeTransition();let{direction:At,animation:Kt,animationBuilder:rn}=ct;const Yt=this.activeView,kn=Ze(Se,Yt);kn&&(At="back",Kt=void 0);const Wr=this.views.slice();let vt;const U=this.router;U.getCurrentNavigation?vt=U.getCurrentNavigation():null!==(W=U.navigations)&&void 0!==W&&W.value&&(vt=U.navigations.value),null!==(De=vt)&&void 0!==De&&null!==(De=De.extras)&&void 0!==De&&De.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Q=this.views.includes(Se),He=this.insertView(Se,At);Q||Se.ref.changeDetectorRef.detectChanges();const Be=Se.animationBuilder;return void 0===rn&&"back"===At&&!kn&&void 0!==Be&&(rn=Be),Yt&&(Yt.animationBuilder=rn),this.zone.runOutsideAngular(()=>this.wait(()=>(Yt&&Yt.ref.changeDetectorRef.detach(),Se.ref.changeDetectorRef.reattach(),this.transition(Se,Yt,Kt,this.canGoBack(1),!1,rn).then(()=>hr(Se,He,Wr,this.location,this.zone)).then(()=>({enteringView:Se,direction:At,animation:Kt,tabSwitch:kn})))))}canGoBack(Se,W=this.getActiveStackId()){return this.getStack(W).length>Se}pop(Se,W=this.getActiveStackId()){return this.zone.run(()=>{const De=this.getStack(W);if(De.length<=Se)return Promise.resolve(!1);const ct=De[De.length-Se-1];let At=ct.url;const Kt=ct.savedData;if(Kt){var rn;const kn=Kt.get("primary");null!=kn&&null!==(rn=kn.route)&&void 0!==rn&&null!==(rn=rn._routerState)&&void 0!==rn&&rn.snapshot.url&&(At=kn.route._routerState.snapshot.url)}const{animationBuilder:Yt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(At,{...ct.savedExtras,animation:Yt}).then(()=>!0)})}startBackTransition(){const Se=this.activeView;if(Se){const W=this.getStack(Se.stackId),De=W[W.length-2],ct=De.animationBuilder;return this.wait(()=>this.transition(De,Se,"back",this.canGoBack(2),!0,ct))}return Promise.resolve()}endBackTransition(Se){Se?(this.skipTransition=!0,this.pop(1)):this.activeView&&On(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Se){const W=this.getStack(Se);return W.length>0?W[W.length-1]:void 0}getRootUrl(Se){const W=this.getStack(Se);return W.length>0?W[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Nn),this.activeView=void 0,this.views=[]}getStack(Se){return this.views.filter(W=>W.stackId===Se)}insertView(Se,W){return this.activeView=Se,this.views=((we,Se,W)=>"root"===W?ae(we,Se):"forward"===W?((we,Se)=>(we.indexOf(Se)>=0?we=we.filter(De=>De.stackId!==Se.stackId||De.id<=Se.id):we.push(Se),we))(we,Se):((we,Se)=>we.indexOf(Se)>=0?we.filter(De=>De.stackId!==Se.stackId||De.id<=Se.id):ae(we,Se))(we,Se))(this.views,Se,W),this.views.slice()}transition(Se,W,De,ct,At,Kt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(W===Se)return Promise.resolve(!1);const rn=Se?Se.element:void 0,Yt=W?W.element:void 0,kn=this.containerEl;return rn&&rn!==Yt&&(rn.classList.add("ion-page"),rn.classList.add("ion-page-invisible"),rn.parentElement!==kn&&kn.appendChild(rn),kn.commit)?kn.commit(rn,Yt,{duration:void 0===De?0:void 0,direction:De,showGoBack:ct,progressAnimation:At,animationBuilder:Kt}):Promise.resolve(!1)}wait(Se){var W=this;return(0,l.c)(function*(){void 0!==W.runningTask&&(yield W.runningTask,W.runningTask=void 0);const De=W.runningTask=Se();return De.finally(()=>W.runningTask=void 0),De})()}}const hr=(we,Se,W,De,ct)=>"function"==typeof requestAnimationFrame?new Promise(At=>{requestAnimationFrame(()=>{On(we,Se,W,De,ct),At()})}):Promise.resolve(),On=(we,Se,W,De,ct)=>{ct.run(()=>W.filter(At=>!Se.includes(At)).forEach(Nn)),Se.forEach(At=>{const rn=De.path().split("?")[0].split("#")[0];if(At!==we&&At.url!==rn){const Yt=At.element;Yt.setAttribute("aria-hidden","true"),Yt.classList.add("ion-page-hidden"),At.ref.changeDetectorRef.detach()}})};let mn=(()=>{class we{constructor(W,De,ct,At,Kt,rn,Yt,kn){this.parentOutlet=kn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Tt.g(null),this.activated=null,this._activatedRoute=null,this.name=B.gf,this.stackWillChange=new F._w7,this.stackDidChange=new F._w7,this.activateEvents=new F._w7,this.deactivateEvents=new F._w7,this.parentContexts=(0,F.uUt)(B.O4),this.location=(0,F.uUt)(F.y8U),this.environmentInjector=(0,F.uUt)(F.SIe),this.inputBinder=(0,F.uUt)(fr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,F.uUt)(fn),this.navCtrl=(0,F.uUt)(An),this.nativeEl=At.nativeElement,this.name=W||B.gf,this.tabsPrefix="true"===De?q(Kt,Yt):void 0,this.stackCtrl=new Wn(this.tabsPrefix,this.nativeEl,Kt,this.navCtrl,rn,ct),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(W){this.nativeEl.animation=W}set animated(W){this.nativeEl.animated=W}set swipeGesture(W){this._swipeGesture=W,this.nativeEl.swipeHandler=W?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:De=>this.stackCtrl.endBackTransition(De)}:void 0}ngOnDestroy(){var W;this.stackCtrl.destroy(),null===(W=this.inputBinder)||void 0===W||W.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const W=this.getContext();null!=W&&W.route&&this.activateWith(W.route,W.injector)}new Promise(W=>(0,me.c)(this.nativeEl,W)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(W,De){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const De=this.getContext();this.activatedView.savedData=new Map(De.children.contexts);const ct=this.activatedView.savedData.get("primary");if(ct&&De.route&&(ct.route={...De.route}),this.activatedView.savedExtras={},De.route){const At=De.route.snapshot;this.activatedView.savedExtras.queryParams=At.queryParams,this.activatedView.savedExtras.fragment=At.fragment}}const W=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(W)}}activateWith(W,De){var ct;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=W;let At,Kt=this.stackCtrl.getExistingView(W);if(Kt){At=this.activated=Kt.ref;const kn=Kt.savedData;kn&&(this.getContext().children.contexts=kn),this.updateActivatedRouteProxy(At.instance,W)}else{var rn;const kn=W._futureSnapshot,Wr=this.parentContexts.getOrCreateContext(this.name).children,vt=new Tt.g(null),U=this.createActivatedRouteProxy(vt,W),Q=new Xn(U,Wr,this.location.injector),He=null!==(rn=kn.routeConfig.component)&&void 0!==rn?rn:kn.component;At=this.activated=this.location.createComponent(He,{index:this.location.length,injector:Q,environmentInjector:null!=De?De:this.environmentInjector}),vt.next(At.instance),Kt=this.stackCtrl.createView(this.activated,W),this.proxyMap.set(At.instance,U),this.currentActivatedRoute$.next({component:At.instance,activatedRoute:W})}null===(ct=this.inputBinder)||void 0===ct||ct.bindActivatedRouteToOutletComponent(this),this.activatedView=Kt,this.navCtrl.setTopOutlet(this);const Yt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Kt,tabSwitch:Ze(Kt,Yt)}),this.stackCtrl.setActive(Kt).then(kn=>{this.activateEvents.emit(At.instance),this.stackDidChange.emit(kn)})}canGoBack(W=1,De){return this.stackCtrl.canGoBack(W,De)}pop(W=1,De){return this.stackCtrl.pop(W,De)}getLastUrl(W){const De=this.stackCtrl.getLastUrl(W);return De?De.url:void 0}getLastRouteView(W){return this.stackCtrl.getLastUrl(W)}getRootView(W){return this.stackCtrl.getRootUrl(W)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(W,De){const ct=new B.gV;return ct._futureSnapshot=De._futureSnapshot,ct._routerState=De._routerState,ct.snapshot=De.snapshot,ct.outlet=De.outlet,ct.component=De.component,ct._paramMap=this.proxyObservable(W,"paramMap"),ct._queryParamMap=this.proxyObservable(W,"queryParamMap"),ct.url=this.proxyObservable(W,"url"),ct.params=this.proxyObservable(W,"params"),ct.queryParams=this.proxyObservable(W,"queryParams"),ct.fragment=this.proxyObservable(W,"fragment"),ct.data=this.proxyObservable(W,"data"),ct}proxyObservable(W,De){return W.pipe((0,nn.I)(ct=>!!ct),(0,Dn.G)(ct=>this.currentActivatedRoute$.pipe((0,nn.I)(At=>null!==At&&At.component===ct),(0,Dn.G)(At=>At&&At.activatedRoute[De]),(0,Tn.a)())))}updateActivatedRouteProxy(W,De){const ct=this.proxyMap.get(W);if(!ct)throw new Error("Could not find activated route proxy for view");ct._futureSnapshot=De._futureSnapshot,ct._routerState=De._routerState,ct.snapshot=De.snapshot,ct.outlet=De.outlet,ct.component=De.component,this.currentActivatedRoute$.next({component:W,activatedRoute:De})}}return we.\u0275fac=function(W){return new(W||we)(F.gJ8("name"),F.gJ8("tabs"),F.GI1(K.oB),F.GI1(F.GMv),F.GI1(B.E5),F.GI1(F.WW2),F.GI1(B.gV),F.GI1(we,12))},we.\u0275dir=F.Sc5({type:we,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),we})();class Xn{constructor(Se,W,De){this.route=Se,this.childContexts=W,this.parent=De}get(Se,W){return Se===B.gV?this.route:Se===B.O4?this.childContexts:this.parent.get(Se,W)}}const fr=new F.UbH("");let zr=(()=>{class we{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(W){this.unsubscribeFromRouteData(W),this.subscribeToRouteData(W)}unsubscribeFromRouteData(W){var De;null===(De=this.outletDataSubscriptions.get(W))||void 0===De||De.unsubscribe(),this.outletDataSubscriptions.delete(W)}subscribeToRouteData(W){const{activatedRoute:De}=W,ct=(0,Gt.E)([De.queryParams,De.params,De.data]).pipe((0,Dn.G)(([At,Kt,rn],Yt)=>(rn={...At,...Kt,...rn},0===Yt?(0,Ft.of)(rn):Promise.resolve(rn)))).subscribe(At=>{if(!W.isActivated||!W.activatedComponentRef||W.activatedRoute!==De||null===De.component)return void this.unsubscribeFromRouteData(W);const Kt=(0,F.o9M)(De.component);if(Kt)for(const{templateName:rn}of Kt.inputs)W.activatedComponentRef.setInput(rn,At[rn]);else this.unsubscribeFromRouteData(W)});this.outletDataSubscriptions.set(W,ct)}}return we.\u0275fac=function(W){return new(W||we)},we.\u0275prov=F.wxM({token:we,factory:we.\u0275fac}),we})();const St=()=>({provide:fr,useFactory:yt,deps:[B.E5]});function yt(we){return null!=we&&we.componentInputBindingEnabled?new zr:null}const Mt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let In=(()=>{let we=class{constructor(W,De,ct,At,Kt,rn){this.routerOutlet=W,this.navCtrl=De,this.config=ct,this.r=At,this.z=Kt,rn.detach(),this.el=this.r.nativeElement}onClick(W){var De;const ct=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(De=this.routerOutlet)&&void 0!==De&&De.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),W.preventDefault()):null!=ct&&(this.navCtrl.navigateBack(ct,{animation:this.routerAnimation}),W.preventDefault())}};return we.\u0275fac=function(W){return new(W||we)(F.GI1(mn,8),F.GI1(An),F.GI1(fn),F.GI1(F.GMv),F.GI1(F.WW2),F.GI1(F.kD9))},we.\u0275dir=F.Sc5({type:we,hostBindings:function(W,De){1&W&&F.qCj("click",function(At){return De.onClick(At)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),we=(0,It.UN)([Lt({inputs:Mt})],we),we})(),Qn=(()=>{class we{constructor(W,De,ct,At,Kt){this.locationStrategy=W,this.navCtrl=De,this.elementRef=ct,this.router=At,this.routerLink=Kt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var W;if(null!==(W=this.routerLink)&&void 0!==W&&W.urlTree){const De=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=De}}onClick(W){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),W.preventDefault()}}return we.\u0275fac=function(W){return new(W||we)(F.GI1(K.Qd),F.GI1(An),F.GI1(F.GMv),F.GI1(B.E5),F.GI1(B.ER,8))},we.\u0275dir=F.Sc5({type:we,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(W,De){1&W&&F.qCj("click",function(At){return De.onClick(At)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.SYr]}),we})(),Gn=(()=>{class we{constructor(W,De,ct,At,Kt){this.locationStrategy=W,this.navCtrl=De,this.elementRef=ct,this.router=At,this.routerLink=Kt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var W;if(null!==(W=this.routerLink)&&void 0!==W&&W.urlTree){const De=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=De}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return we.\u0275fac=function(W){return new(W||we)(F.GI1(K.Qd),F.GI1(An),F.GI1(F.GMv),F.GI1(B.E5),F.GI1(B.ER,8))},we.\u0275dir=F.Sc5({type:we,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(W,De){1&W&&F.qCj("click",function(){return De.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.SYr]}),we})();const Zn=["animated","animation","root","rootParams","swipeGesture"],Pr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Er=(()=>{let we=class{constructor(W,De,ct,At,Kt,rn){this.z=Kt,rn.detach(),this.el=W.nativeElement,W.nativeElement.delegate=At.create(De,ct),Sn(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return we.\u0275fac=function(W){return new(W||we)(F.GI1(F.GMv),F.GI1(F.SIe),F.GI1(F.zZn),F.GI1(or),F.GI1(F.WW2),F.GI1(F.kD9))},we.\u0275dir=F.Sc5({type:we,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),we=(0,It.UN)([Lt({inputs:Zn,methods:Pr})],we),we})(),Ar=(()=>{class we{constructor(W){this.navCtrl=W,this.ionTabsWillChange=new F._w7,this.ionTabsDidChange=new F._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:W,tabSwitch:De}){const ct=W.stackId;De&&void 0!==ct&&this.ionTabsWillChange.emit({tab:ct})}onStackDidChange({enteringView:W,tabSwitch:De}){const ct=W.stackId;De&&void 0!==ct&&(this.tabBar&&(this.tabBar.selectedTab=ct),this.ionTabsDidChange.emit({tab:ct}))}select(W){const De="string"==typeof W,ct=De?W:W.detail.tab,At=this.outlet.getActiveStackId()===ct,Kt=`${this.outlet.tabsPrefix}/${ct}`;if(De||W.stopPropagation(),At){const rn=this.outlet.getActiveStackId(),Yt=this.outlet.getLastRouteView(rn);if((null==Yt?void 0:Yt.url)===Kt)return;const kn=this.outlet.getRootView(ct);return this.navCtrl.navigateRoot(Kt,{...kn&&Kt===kn.url&&kn.savedExtras,animated:!0,animationDirection:"back"})}{const rn=this.outlet.getLastRouteView(ct);return this.navCtrl.navigateRoot((null==rn?void 0:rn.url)||Kt,{...null==rn?void 0:rn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(W=>{const De=W.el.getAttribute("slot");De!==this.tabBarSlot&&(this.tabBarSlot=De,this.relocateTabBar())})}relocateTabBar(){const W=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(W):this.tabsInner.nativeElement.after(W)}}return we.\u0275fac=function(W){return new(W||we)(F.GI1(An))},we.\u0275dir=F.Sc5({type:we,selectors:[["ion-tabs"]],viewQuery:function(W,De){if(1&W&&F.CC$(gt,7,F.GMv),2&W){let ct;F.wto(ct=F.Gqi())&&(De.tabsInner=ct.first)}},hostBindings:function(W,De){1&W&&F.qCj("ionTabButtonClick",function(At){return De.select(At)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),we})();const ni=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we);let Ci=(()=>{class we{constructor(W,De){this.injector=W,this.elementRef=De,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(W){this.elementRef.nativeElement.value=this.lastValue=W,sr(this.elementRef)}handleValueChange(W,De){W===this.elementRef.nativeElement&&(De!==this.lastValue&&(this.lastValue=De,this.onChange(De)),sr(this.elementRef))}_handleBlurEvent(W){W===this.elementRef.nativeElement&&(this.onTouched(),sr(this.elementRef))}registerOnChange(W){this.onChange=W}registerOnTouched(W){this.onTouched=W}setDisabledState(W){this.elementRef.nativeElement.disabled=W}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let W;try{W=this.injector.get(Ct.eq)}catch{}if(!W)return;W.statusChanges&&(this.statusChanges=W.statusChanges.subscribe(()=>sr(this.elementRef)));const De=W.control;De&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(At=>{if(typeof De[At]<"u"){const Kt=De[At].bind(De);De[At]=(...rn)=>{Kt(...rn),sr(this.elementRef)}}})}}return we.\u0275fac=function(W){return new(W||we)(F.GI1(F.zZn),F.GI1(F.GMv))},we.\u0275dir=F.Sc5({type:we,hostBindings:function(W,De){1&W&&F.qCj("ionBlur",function(At){return De._handleBlurEvent(At.target)})}}),we})();const sr=we=>{ni(()=>{const Se=we.nativeElement,W=null!=Se.value&&Se.value.toString().length>0,De=Di(Se);Yn(Se,De);const ct=Se.closest("ion-item");ct&&Yn(ct,W?[...De,"item-has-value"]:De)})},Di=we=>{const Se=we.classList,W=[];for(let De=0;De<Se.length;De++){const ct=Se.item(De);null!==ct&&Cr(ct,"ng-")&&W.push(`ion-${ct.substring(3)}`)}return W},Yn=(we,Se)=>{const W=we.classList;W.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),W.add(...Se)},Cr=(we,Se)=>we.substring(0,Se.length)===Se;class $n{shouldDetach(Se){return!1}shouldAttach(Se){return!1}store(Se,W){}retrieve(Se){return null}shouldReuseRoute(Se,W){if(Se.routeConfig!==W.routeConfig)return!1;const De=Se.params,ct=W.params,At=Object.keys(De),Kt=Object.keys(ct);if(At.length!==Kt.length)return!1;for(const rn of At)if(ct[rn]!==De[rn])return!1;return!0}}class Gi{constructor(Se){this.ctrl=Se}create(Se){return this.ctrl.create(Se||{})}dismiss(Se,W,De){return this.ctrl.dismiss(Se,W,De)}getTop(){return this.ctrl.getTop()}}},2112:(tn,Qe,A)=>{"use strict";A.d(Qe,{qk:()=>nn,Im:()=>ct,sn:()=>Wt,GS:()=>yn,KC:()=>Ot,Gg:()=>gn,YY:()=>hn,MN:()=>An,Kk:()=>fn,_i:()=>Pn,q8:()=>or,Wq:()=>Bn,YP:()=>bt,wB:()=>ln,Ko:()=>xt,Eh:()=>Cn,A5:()=>Sn,Yb:()=>Lt,OC:()=>J,Cg:()=>W,qo:()=>Mt,Wg:()=>Di,gP:()=>Yn,tM:()=>$n,Md:()=>Se,wZ:()=>Vr,Kg:()=>Bt,mY:()=>Kt,mI:()=>rn,qG:()=>Re,Gq:()=>qt});var l=A(4496),F=A(4716),B=A(304),K=A(1316),ye=A(800),he=A(1368),te=A(9148),Me=(A(388),A(6256),A(8512),A(6556),A(2528),A(8523)),Le=A(9637),tt=(A(3452),A(3816)),Ne=(A(4829),A(2992));A(6560),A(2784);var Ye=A(1528);const Xe=Me.i,ge=function(){var C=(0,Ye.c)(function*(oe,x){if(!(typeof window>"u"))return yield Xe(),(0,Ne.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),x)});return function(x,ue){return C.apply(this,arguments)}}(),$=["*"];let Re=(()=>{class C extends B.uU{constructor(x,ue){super(x,ue)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.zZn),l.GI1(l.GMv))},C.\u0275dir=l.Sc5({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(x,ue){1&x&&l.qCj("ionInput",function(Un){return ue._handleInputEvent(Un.target)})},features:[l.M5G([{provide:F.Y6,useExisting:C,multi:!0}]),l.eg9]}),C})();const Ie=(C,oe)=>{const x=C.prototype;oe.forEach(ue=>{Object.defineProperty(x,ue,{get(){return this.el[ue]},set(it){this.z.runOutsideAngular(()=>this.el[ue]=it)},configurable:!0})})},ke=(C,oe)=>{const x=C.prototype;oe.forEach(ue=>{x[ue]=function(){const it=arguments;return this.z.runOutsideAngular(()=>this.el[ue].apply(this.el,it))}})},me=(C,oe,x)=>{x.forEach(ue=>C[ue]=(0,ye.w)(oe,ue))};function Te(C){return function(x){const{defineCustomElementFn:ue,inputs:it,methods:Un}=C;return void 0!==ue&&ue(),it&&Ie(x,it),Un&&ke(x,Un),x}}let nn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-app"]],ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({})],C),C})(),Wt=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),yn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["collapse"]})],C),C})(),Ot=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),gn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["mode"]})],C),C})(),hn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","mode","translucent"]})],C),C})(),An=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","mode"]})],C),C})(),fn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],C),C})(),Pn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),or=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],C),C})(),Bn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],C),C})(),bt=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["fixed"]})],C),C})(),ln=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["collapse","mode","translucent"]})],C),C})(),xt=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})(),Cn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["alt","src"]})],C),C})(),Sn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),Lt=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],C),C})(),J=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),Mt=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-row"]],ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({})],C),C})(),Di=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","mode"]})],C),C})(),Yn=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement,me(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],C),C})(),$n=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","size"]})],C),C})(),Se=(()=>{let C=class{constructor(x,ue,it){this.z=it,x.detach(),this.el=ue.nativeElement}};return C.\u0275fac=function(x){return new(x||C)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C=(0,K.UN)([Te({inputs:["color","mode"]})],C),C})(),W=(()=>{class C extends B.Cg{constructor(x,ue,it,Un,Xr,gi,yi,Ri){super(x,ue,it,Un,Xr,gi,yi,Ri),this.parentOutlet=Ri}}return C.\u0275fac=function(x){return new(x||C)(l.gJ8("name"),l.gJ8("tabs"),l.GI1(he.oB),l.GI1(l.GMv),l.GI1(te.E5),l.GI1(l.WW2),l.GI1(te.gV),l.GI1(C,12))},C.\u0275dir=l.Sc5({type:C,selectors:[["ion-router-outlet"]],features:[l.eg9]}),C})(),ct=(()=>{class C extends B.Im{constructor(x,ue,it,Un,Xr,gi){super(x,ue,it,Un,Xr,gi)}}return C.\u0275fac=function(x){return new(x||C)(l.GI1(W,8),l.GI1(B.wX),l.GI1(B._U),l.GI1(l.GMv),l.GI1(l.WW2),l.GI1(l.kD9))},C.\u0275cmp=l.In1({type:C,selectors:[["ion-back-button"]],features:[l.eg9],ngContentSelectors:$,decls:1,vars:0,template:function(x,ue){1&x&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),C})(),Kt=(()=>{class C extends B.g5{}return C.\u0275fac=(()=>{let oe;return function(ue){return(oe||(oe=l.otF(C)))(ue||C)}})(),C.\u0275dir=l.Sc5({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.eg9]}),C})(),rn=(()=>{class C extends B.GY{}return C.\u0275fac=(()=>{let oe;return function(ue){return(oe||(oe=l.otF(C)))(ue||C)}})(),C.\u0275dir=l.Sc5({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[l.eg9]}),C})();const Wr={provide:F.WM,useExisting:(0,l.wd)(()=>vt),multi:!0};let vt=(()=>{class C extends F._t{}return C.\u0275fac=(()=>{let oe;return function(ue){return(oe||(oe=l.otF(C)))(ue||C)}})(),C.\u0275dir=l.Sc5({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,ue){2&x&&l.e48("max",ue._enabled?ue.max:null)},features:[l.M5G([Wr]),l.eg9]}),C})();const U={provide:F.WM,useExisting:(0,l.wd)(()=>Q),multi:!0};let Q=(()=>{class C extends F.Gu{}return C.\u0275fac=(()=>{let oe;return function(ue){return(oe||(oe=l.otF(C)))(ue||C)}})(),C.\u0275dir=l.Sc5({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ue){2&x&&l.e48("min",ue._enabled?ue.min:null)},features:[l.M5G([U]),l.eg9]}),C})(),Bt=(()=>{class C extends B.gk{constructor(){super(tt.l)}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=l.wxM({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Qt=(()=>{class C extends B.gk{constructor(){super(tt.m),this.angularDelegate=(0,l.uUt)(B.kh),this.injector=(0,l.uUt)(l.zZn),this.environmentInjector=(0,l.uUt)(l.SIe)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=l.wxM({token:C,factory:C.\u0275fac}),C})();class vn extends B.gk{constructor(){super(tt.c),this.angularDelegate=(0,l.uUt)(B.kh),this.injector=(0,l.uUt)(l.zZn),this.environmentInjector=(0,l.uUt)(l.SIe)}create(oe){return super.create({...oe,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let qt=(()=>{class C extends B.gk{constructor(){super(tt.t)}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=l.wxM({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Vn=(C,oe,x)=>()=>{const ue=oe.defaultView;if(ue&&typeof window<"u"){(0,Le.s)({...C,_zoneGate:Un=>x.run(Un)});const it="__zone_symbol__addEventListener"in oe.body?"__zone_symbol__addEventListener":"addEventListener";return function Ke(){var C=[];if(typeof window<"u"){var oe=window;(!oe.customElements||oe.Element&&(!oe.Element.prototype.closest||!oe.Element.prototype.matches||!oe.Element.prototype.remove||!oe.Element.prototype.getRootNode))&&C.push(A.e(4448).then(A.t.bind(A,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||oe.NodeList&&!oe.NodeList.prototype.forEach||!oe.fetch||!function(){try{var ue=new URL("b","http://a");return ue.pathname="c%20d","http://a/c%20d"===ue.href&&ue.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(A.e(488).then(A.t.bind(A,6304,23)))}return Promise.all(C)}().then(()=>ge(ue,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:B.cl,jmp:Un=>x.runOutsideAngular(Un),ael(Un,Xr,gi,yi){Un[it](Xr,gi,yi)},rel(Un,Xr,gi,yi){Un.removeEventListener(Xr,gi,yi)}}))}};let Vr=(()=>{class C{static forRoot(x){return{ngModule:C,providers:[{provide:B.m2,useValue:x},{provide:l.kZF,useFactory:Vn,multi:!0,deps:[B.m2,he.Ud,l.WW2]},(0,B.Al)()]}}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275mod=l.a4G({type:C}),C.\u0275inj=l.s3X({providers:[B.kh,Qt,vn],imports:[he.MD]}),C})()},3680:(tn,Qe,A)=>{"use strict";A.d(Qe,{UH:()=>l.getApps,WE:()=>l.getApp});var l=A(9360);(0,l.registerVersion)("firebase","10.8.0","app")},9252:(tn,Qe,A)=>{"use strict";A.d(Qe,{c:()=>l.c});var l=A(8368);l.c.registerVersion("firebase","10.8.0","app-compat")},6858:(tn,Qe,A)=>{"use strict";A.r(Qe);var l=A(1528),F=A(8368),B=A(1944),K=A(7144),te=(A(9360),A(5976),A(4920));function de(){return window}function Y(){return Y=(0,l.c)(function*(z,X,q){var Ze;const{BuildInfo:wt}=de();(0,B.au)(X.sessionId,"AuthEvent did not contain a session ID");const pn=yield function Ne(z){return Ve.apply(this,arguments)}(X.sessionId),Nn={};return(0,B.av)()?Nn.ibi=wt.packageName:(0,B.aw)()?Nn.apn=wt.packageName:(0,B.ax)(z,"operation-not-supported-in-this-environment"),wt.displayName&&(Nn.appDisplayName=wt.displayName),Nn.sessionId=pn,(0,B.ay)(z,q,X.type,void 0,null!==(Ze=X.eventId)&&void 0!==Ze?Ze:void 0,Nn)}),Y.apply(this,arguments)}function Me(){return(Me=(0,l.c)(function*(z){const{BuildInfo:X}=de(),q={};(0,B.av)()?q.iosBundleId=X.packageName:(0,B.aw)()?q.androidPackageName=X.packageName:(0,B.ax)(z,"operation-not-supported-in-this-environment"),yield(0,B.az)(z,q)})).apply(this,arguments)}function tt(){return(tt=(0,l.c)(function*(z,X,q){const{cordova:Ze}=de();let wt=()=>{};try{yield new Promise((pn,Nn)=>{let Wn=null;function hr(){var Xn;pn();const fr=null===(Xn=Ze.plugins.browsertab)||void 0===Xn?void 0:Xn.close;"function"==typeof fr&&fr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function On(){Wn||(Wn=window.setTimeout(()=>{Nn((0,B.aB)(z,"redirect-cancelled-by-user"))},2e3))}function mn(){"visible"===(null==document?void 0:document.visibilityState)&&On()}X.addPassiveListener(hr),document.addEventListener("resume",On,!1),(0,B.aw)()&&document.addEventListener("visibilitychange",mn,!1),wt=()=>{X.removePassiveListener(hr),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",mn,!1),Wn&&window.clearTimeout(Wn)}})}finally{wt()}})).apply(this,arguments)}function Ve(){return(Ve=(0,l.c)(function*(z){const X=function rt(z){if((0,B.au)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const X=new ArrayBuffer(z.length),q=new Uint8Array(X);for(let Ze=0;Ze<z.length;Ze++)q[Ze]=z.charCodeAt(Ze);return q}(z),q=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(q)).map(wt=>wt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ke extends B.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(X)),super.onEvent(X)}initialized(){var X=this;return(0,l.c)(function*(){yield X.initPromise})()}}function ge(z){return $.apply(this,arguments)}function $(){return($=(0,l.c)(function*(z){const X=yield ze()._get(et(z));return X&&(yield ze()._remove(et(z))),X})).apply(this,arguments)}function Ue(){const z=[];for(let q=0;q<20;q++){const Ze=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ze))}return z.join("")}function ze(){return(0,B.aE)(B.b)}function et(z){return(0,B.aF)("authEvent",z.config.apiKey,z.name)}function cn(z){if(null==z||!z.includes("?"))return{};const[X,...q]=z.split("?");return(0,K.aw)(q.join("?"))}const Re=class lt{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(X){var q=this;return(0,l.c)(function*(){const Ze=X._key();let wt=q.eventManagers.get(Ze);return wt||(wt=new Ke(X),q.eventManagers.set(Ze,wt),q.attachCallbackListeners(X,wt)),wt})()}_openPopup(X){(0,B.ax)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,q,Ze,wt){var pn=this;return(0,l.c)(function*(){!function We(z){var X,q,Ze,wt,pn,Nn,Wn,hr,On,mn;const Xn=de();(0,B.aC)("function"==typeof(null===(X=null==Xn?void 0:Xn.universalLinks)||void 0===X?void 0:X.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aC)(typeof(null===(q=null==Xn?void 0:Xn.BuildInfo)||void 0===q?void 0:q.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aC)("function"==typeof(null===(pn=null===(wt=null===(Ze=null==Xn?void 0:Xn.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===pn?void 0:pn.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(hr=null===(Wn=null===(Nn=null==Xn?void 0:Xn.cordova)||void 0===Nn?void 0:Nn.plugins)||void 0===Wn?void 0:Wn.browsertab)||void 0===hr?void 0:hr.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(mn=null===(On=null==Xn?void 0:Xn.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===mn?void 0:mn.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Nn=yield pn._initialize(X);yield Nn.initialized(),Nn.resetRedirect(),(0,B.aI)(),yield pn._originValidation(X);const Wn=function Ye(z,X,q=null){return{type:X,eventId:q,urlResponse:null,sessionId:Ue(),postBody:null,tenantId:z.tenantId,error:(0,B.aB)(z,"no-auth-event")}}(X,Ze,wt);yield function Xe(z,X){return ze()._set(et(z),X)}(X,Wn);const hr=yield function se(z,X,q){return Y.apply(this,arguments)}(X,Wn,q),On=yield function Le(z){const{cordova:X}=de();return new Promise(q=>{X.plugins.browsertab.isAvailable(Ze=>{let wt=null;Ze?X.plugins.browsertab.openUrl(z):wt=X.InAppBrowser.open(z,(0,B.aA)()?"_blank":"_system","location=yes"),q(wt)})})}(hr);return function Fe(z,X,q){return tt.apply(this,arguments)}(X,Nn,On)})()}_isIframeWebStorageSupported(X,q){throw new Error("Method not implemented.")}_originValidation(X){const q=X._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function xe(z){return Me.apply(this,arguments)}(X)),this.originValidationPromises[q]}attachCallbackListeners(X,q){const{universalLinks:Ze,handleOpenURL:wt,BuildInfo:pn}=de(),Nn=setTimeout((0,l.c)(function*(){yield ge(X),q.onEvent(Ie())}),500),Wn=function(){var mn=(0,l.c)(function*(Xn){clearTimeout(Nn);const fr=yield ge(X);let zr=null;fr&&null!=Xn&&Xn.url&&(zr=function be(z,X){var q,Ze;const wt=function Ut(z){const X=cn(z),q=X.link?decodeURIComponent(X.link):void 0,Ze=cn(q).link,wt=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return cn(wt).link||wt||Ze||q||z}(X);if(wt.includes("/__/auth/callback")){const pn=cn(wt),Nn=pn.firebaseError?function dt(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(pn.firebaseError)):null,Wn=null===(Ze=null===(q=null==Nn?void 0:Nn.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ze?void 0:Ze[1],hr=Wn?(0,B.aB)(Wn):null;return hr?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:hr,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:wt,postBody:null}}return null}(fr,Xn.url)),q.onEvent(zr||Ie())});return function(fr){return mn.apply(this,arguments)}}();typeof Ze<"u"&&"function"==typeof Ze.subscribe&&Ze.subscribe(null,Wn);const hr=wt,On=`${pn.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var mn=(0,l.c)(function*(Xn){if(Xn.toLowerCase().startsWith(On)&&Wn({url:Xn}),"function"==typeof hr)try{hr(Xn)}catch(fr){console.error(fr)}});return function(Xn){return mn.apply(this,arguments)}}()}};function Ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aB)("no-auth-event")}}function Tt(){var z;return(null===(z=null==self?void 0:self.location)||void 0===z?void 0:z.protocol)||null}function Ft(z=(0,K.Su)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ct(){try{const z=self.localStorage,X=B.aN();if(z)return z.setItem(X,"1"),z.removeItem(X),!function Tn(z=(0,K.Su)()){return function nn(){return(0,K.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function Dn(z=(0,K.Su)()){return/Edge\/\d+/.test(z)}(z)}()||(0,K.yy)()}catch{return gt()&&(0,K.yy)()}return!1}function gt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ht(){return(function Gt(){return"http:"===Tt()||"https:"===Tt()}()||(0,K.Cc)()||Ft())&&!function It(){return(0,K.AL)()||(0,K.yW)()}()&&Ct()&&!gt()}function Wt(){return Ft()&&typeof document<"u"}function Ot(){return(Ot=(0,l.c)(function*(){return!!Wt()&&new Promise(z=>{const X=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),z(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},An=B.aC,nr="persistence";function qn(z){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.c)(function*(z){yield z._initializationPromise;const X=pr(),q=B.aF(nr,z.config.apiKey,z.name);X&&X.setItem(q,z._getPersistence())})).apply(this,arguments)}function pr(){var z;try{return(null===(z=function gn(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const br=B.aC;class or{constructor(){this.browserResolver=B.aE(B.k),this.cordovaResolver=B.aE(Re),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(X){var q=this;return(0,l.c)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,q,Ze,wt){var pn=this;return(0,l.c)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openPopup(X,q,Ze,wt)})()}_openRedirect(X,q,Ze,wt){var pn=this;return(0,l.c)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openRedirect(X,q,Ze,wt)})()}_isIframeWebStorageSupported(X,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,q)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return br(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,l.c)(function*(){if(X.underlyingResolver)return;const q=yield function yn(){return Ot.apply(this,arguments)}();X.underlyingResolver=q?X.cordovaResolver:X.browserResolver})()}}function Bn(z){return z.unwrap()}function kt(z){return ln(z)}function ln(z){const{_tokenResponse:X}=z instanceof K.kx?z.customData:z;if(!X)return null;if(!(z instanceof K.kx)&&"temporaryProof"in X&&"phoneNumber"in X)return B.P.credentialFromResult(z);const q=X.providerId;if(!q||q===B.p.PASSWORD)return null;let Ze;switch(q){case B.p.GOOGLE:Ze=B.X;break;case B.p.FACEBOOK:Ze=B.W;break;case B.p.GITHUB:Ze=B.Y;break;case B.p.TWITTER:Ze=B.$;break;default:const{oauthIdToken:wt,oauthAccessToken:pn,oauthTokenSecret:Nn,pendingToken:Wn,nonce:hr}=X;return pn||Nn||wt||Wn?Wn?q.startsWith("saml.")?B.aQ._create(q,Wn):B.N._fromParams({providerId:q,signInMethod:q,pendingToken:Wn,idToken:wt,accessToken:pn}):new B.Z(q).credential({idToken:wt,accessToken:pn,rawNonce:hr}):null}return z instanceof K.kx?Ze.credentialFromError(z):Ze.credentialFromResult(z)}function xt(z,X){return X.catch(q=>{throw q instanceof K.kx&&function bt(z,X){var q;const Ze=null===(q=X.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null==X?void 0:X.code))X.resolver=new Mn(z,B.as(z,X));else if(Ze){const wt=ln(X),pn=X;wt&&(pn.credential=wt,pn.tenantId=Ze.tenantId||void 0,pn.email=Ze.email||void 0,pn.phoneNumber=Ze.phoneNumber||void 0)}}(z,q),q}).then(q=>{const wt=q.user;return{operationType:q.operationType,credential:kt(q),additionalUserInfo:B.aq(q),user:Sn.getOrCreate(wt)}})}function Cn(z,X){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.c)(function*(z,X){const q=yield X;return{verificationId:q.verificationId,confirm:Ze=>xt(z,q.confirm(Ze))}})).apply(this,arguments)}class Mn{constructor(X,q){this.resolver=q,this.auth=function dr(z){return z.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return xt(Bn(this.auth),this.resolver.resolveSignIn(X))}}class Sn{constructor(X){this._delegate=X,this.multiFactor=B.at(X)}static getOrCreate(X){return Sn.USER_MAP.has(X)||Sn.USER_MAP.set(X,new Sn(X)),Sn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var q=this;return(0,l.c)(function*(){return xt(q.auth,B.a2(q._delegate,X))})()}linkWithPhoneNumber(X,q){var Ze=this;return(0,l.c)(function*(){return Cn(Ze.auth,B.l(Ze._delegate,X,q))})()}linkWithPopup(X){var q=this;return(0,l.c)(function*(){return xt(q.auth,B.d(q._delegate,X,or))})()}linkWithRedirect(X){var q=this;return(0,l.c)(function*(){return yield qn(B.aJ(q.auth)),B.g(q._delegate,X,or)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var q=this;return(0,l.c)(function*(){return xt(q.auth,B.a3(q._delegate,X))})()}reauthenticateWithPhoneNumber(X,q){return Cn(this.auth,B.r(this._delegate,X,q))}reauthenticateWithPopup(X){return xt(this.auth,B.e(this._delegate,X,or))}reauthenticateWithRedirect(X){var q=this;return(0,l.c)(function*(){return yield qn(B.aJ(q.auth)),B.h(q._delegate,X,or)})()}sendEmailVerification(X){return B.ag(this._delegate,X)}unlink(X){var q=this;return(0,l.c)(function*(){return yield B.ap(q._delegate,X),q})()}updateEmail(X){return B.al(this._delegate,X)}updatePassword(X){return B.am(this._delegate,X)}updatePhoneNumber(X){return B.u(this._delegate,X)}updateProfile(X){return B.ak(this._delegate,X)}verifyBeforeUpdateEmail(X,q){return B.ah(this._delegate,X,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sn.USER_MAP=new WeakMap;const Lt=B.aC;let ie=(()=>{class z{constructor(q,Ze){if(this.app=q,Ze.isInitialized())return this._delegate=Ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:wt}=q.options;Lt(wt,"invalid-api-key",{appName:q.name}),Lt(wt,"invalid-api-key",{appName:q.name});const pn=typeof window<"u"?or:void 0;this._delegate=Ze.initialize({options:{persistence:pe(wt,q.name),popupRedirectResolver:pn}}),this._delegate._updateErrorMap(B.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ze){B.K(this._delegate,q,Ze)}applyActionCode(q){return B.a7(this._delegate,q)}checkActionCode(q){return B.a8(this._delegate,q)}confirmPasswordReset(q,Ze){return B.a6(this._delegate,q,Ze)}createUserWithEmailAndPassword(q,Ze){var wt=this;return(0,l.c)(function*(){return xt(wt._delegate,B.aa(wt._delegate,q,Ze))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return B.af(this._delegate,q)}isSignInWithEmailLink(q){return B.ad(this._delegate,q)}getRedirectResult(){var q=this;return(0,l.c)(function*(){Lt(ht(),q._delegate,"operation-not-supported-in-this-environment");const Ze=yield B.j(q._delegate,or);return Ze?xt(q._delegate,Promise.resolve(Ze)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function ke(z,X){(0,B.aJ)(z)._logFramework(X)}(this._delegate,q)}onAuthStateChanged(q,Ze,wt){const{next:pn,error:Nn,complete:Wn}=Ge(q,Ze,wt);return this._delegate.onAuthStateChanged(pn,Nn,Wn)}onIdTokenChanged(q,Ze,wt){const{next:pn,error:Nn,complete:Wn}=Ge(q,Ze,wt);return this._delegate.onIdTokenChanged(pn,Nn,Wn)}sendSignInLinkToEmail(q,Ze){return B.ac(this._delegate,q,Ze)}sendPasswordResetEmail(q,Ze){return B.a5(this._delegate,q,Ze||void 0)}setPersistence(q){var Ze=this;return(0,l.c)(function*(){let wt;switch(function Ln(z,X){An(Object.values(hn).includes(X),z,"invalid-persistence-type"),(0,K.AL)()?An(X!==hn.SESSION,z,"unsupported-persistence-type"):(0,K.yW)()?An(X===hn.NONE,z,"unsupported-persistence-type"):gt()?An(X===hn.NONE||X===hn.LOCAL&&(0,K.yy)(),z,"unsupported-persistence-type"):An(X===hn.NONE||Ct(),z,"unsupported-persistence-type")}(Ze._delegate,q),q){case hn.SESSION:wt=B.a;break;case hn.LOCAL:wt=(yield B.aE(B.i)._isAvailable())?B.i:B.b;break;case hn.NONE:wt=B.U;break;default:return B.ax("argument-error",{appName:Ze._delegate.name})}return Ze._delegate.setPersistence(wt)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return xt(this._delegate,B.a0(this._delegate))}signInWithCredential(q){return xt(this._delegate,B.a1(this._delegate,q))}signInWithCustomToken(q){return xt(this._delegate,B.a4(this._delegate,q))}signInWithEmailAndPassword(q,Ze){return xt(this._delegate,B.ab(this._delegate,q,Ze))}signInWithEmailLink(q,Ze){return xt(this._delegate,B.ae(this._delegate,q,Ze))}signInWithPhoneNumber(q,Ze){return Cn(this._delegate,B.s(this._delegate,q,Ze))}signInWithPopup(q){var Ze=this;return(0,l.c)(function*(){return Lt(ht(),Ze._delegate,"operation-not-supported-in-this-environment"),xt(Ze._delegate,B.c(Ze._delegate,q,or))})()}signInWithRedirect(q){var Ze=this;return(0,l.c)(function*(){return Lt(ht(),Ze._delegate,"operation-not-supported-in-this-environment"),yield qn(Ze._delegate),B.f(Ze._delegate,q,or)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return B.a9(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=hn,z})();function Ge(z,X,q){let Ze=z;"function"!=typeof z&&({next:Ze,error:X,complete:q}=z);const wt=Ze;return{next:Nn=>wt(Nn&&Sn.getOrCreate(Nn)),error:X,complete:q}}function pe(z,X){const q=function Pn(z,X){const q=pr();if(!q)return[];const Ze=B.aF(nr,z,X);switch(q.getItem(Ze)){case hn.NONE:return[B.U];case hn.LOCAL:return[B.i,B.a];case hn.SESSION:return[B.a];default:return[]}}(z,X);if(typeof self<"u"&&!q.includes(B.i)&&q.push(B.i),typeof window<"u")for(const Ze of[B.b,B.a])q.includes(Ze)||q.push(Ze);return q.includes(B.U)||q.push(B.U),q}class Ae{constructor(){this.providerId="phone",this._delegate=new B.P(Bn(F.c.auth()))}static credential(X,q){return B.P.credential(X,q)}verifyPhoneNumber(X,q){return this._delegate.verifyPhoneNumber(X,q)}unwrap(){return this._delegate}}Ae.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Ae.PROVIDER_ID=B.P.PROVIDER_ID;const ot=B.aC;class qe{constructor(X,q,Ze=F.c.app()){var wt;ot(null===(wt=Ze.options)||void 0===wt?void 0:wt.apiKey,"invalid-api-key",{appName:Ze.name}),this._delegate=new B.R(Ze.auth(),X,q),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae(z){z.INTERNAL.registerComponent(new te.Yl("auth-compat",X=>{const q=X.getProvider("app-compat").getImmediate(),Ze=X.getProvider("auth");return new ie(q,Ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.V,FacebookAuthProvider:B.W,GithubAuthProvider:B.Y,GoogleAuthProvider:B.X,OAuthProvider:B.Z,SAMLAuthProvider:B._,PhoneAuthProvider:Ae,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:qe,TwitterAuthProvider:B.$,Auth:ie,AuthCredential:B.L,Error:K.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.5.2")}(F.c)},1528:(tn,Qe,A)=>{"use strict";function l(B,K,ye,he,te,de,$e){try{var se=B[de]($e),Y=se.value}catch(xe){return void ye(xe)}se.done?K(Y):Promise.resolve(Y).then(he,te)}function F(B){return function(){var K=this,ye=arguments;return new Promise(function(he,te){var de=B.apply(K,ye);function $e(Y){l(de,he,te,$e,se,"next",Y)}function se(Y){l(de,he,te,$e,se,"throw",Y)}$e(void 0)})}}A.d(Qe,{c:()=>F})},4580:(tn,Qe,A)=>{"use strict";function l(ye){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(ye)}function K(ye,he,te){return(he=function B(ye){var he=function F(ye,he){if("object"!=l(ye)||!ye)return ye;var te=ye[Symbol.toPrimitive];if(void 0!==te){var de=te.call(ye,he||"default");if("object"!=l(de))return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===he?String:Number)(ye)}(ye,"string");return"symbol"==l(he)?he:String(he)}(he))in ye?Object.defineProperty(ye,he,{value:te,enumerable:!0,configurable:!0,writable:!0}):ye[he]=te,ye}A.d(Qe,{c:()=>K})},1316:(tn,Qe,A)=>{"use strict";function K(Re,Ie){var ke={};for(var me in Re)Object.prototype.hasOwnProperty.call(Re,me)&&Ie.indexOf(me)<0&&(ke[me]=Re[me]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(me=Object.getOwnPropertySymbols(Re);je<me.length;je++)Ie.indexOf(me[je])<0&&Object.prototype.propertyIsEnumerable.call(Re,me[je])&&(ke[me[je]]=Re[me[je]])}return ke}function ye(Re,Ie,ke,me){var Tt,je=arguments.length,Te=je<3?Ie:null===me?me=Object.getOwnPropertyDescriptor(Ie,ke):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(Re,Ie,ke,me);else for(var Gt=Re.length-1;Gt>=0;Gt--)(Tt=Re[Gt])&&(Te=(je<3?Tt(Te):je>3?Tt(Ie,ke,Te):Tt(Ie,ke))||Te);return je>3&&Te&&Object.defineProperty(Ie,ke,Te),Te}function xe(Re,Ie,ke,me){return new(ke||(ke=Promise))(function(Te,Tt){function Gt(nn){try{It(me.next(nn))}catch(Dn){Tt(Dn)}}function Ft(nn){try{It(me.throw(nn))}catch(Dn){Tt(Dn)}}function It(nn){nn.done?Te(nn.value):function je(Te){return Te instanceof ke?Te:new ke(function(Tt){Tt(Te)})}(nn.value).then(Gt,Ft)}It((me=me.apply(Re,Ie||[])).next())})}function fe(Re){return this instanceof fe?(this.v=Re,this):new fe(Re)}function Ke(Re,Ie,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,me=ke.apply(Re,Ie||[]),Te=[];return je={},Tt("next"),Tt("throw"),Tt("return"),je[Symbol.asyncIterator]=function(){return this},je;function Tt(Tn){me[Tn]&&(je[Tn]=function(Ct){return new Promise(function(gt,ht){Te.push([Tn,Ct,gt,ht])>1||Gt(Tn,Ct)})})}function Gt(Tn,Ct){try{!function Ft(Tn){Tn.value instanceof fe?Promise.resolve(Tn.value.v).then(It,nn):Dn(Te[0][2],Tn)}(me[Tn](Ct))}catch(gt){Dn(Te[0][3],gt)}}function It(Tn){Gt("next",Tn)}function nn(Tn){Gt("throw",Tn)}function Dn(Tn,Ct){Tn(Ct),Te.shift(),Te.length&&Gt(Te[0][0],Te[0][1])}}function Xe(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ie=Re[Symbol.asyncIterator];return Ie?Ie.call(Re):(Re=function tt(Re){var Ie="function"==typeof Symbol&&Symbol.iterator,ke=Ie&&Re[Ie],me=0;if(ke)return ke.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&me>=Re.length&&(Re=void 0),{value:Re&&Re[me++],done:!Re}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),ke={},me("next"),me("throw"),me("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function me(Te){ke[Te]=Re[Te]&&function(Tt){return new Promise(function(Gt,Ft){!function je(Te,Tt,Gt,Ft){Promise.resolve(Ft).then(function(It){Te({value:It,done:Gt})},Tt)}(Gt,Ft,(Tt=Re[Te](Tt)).done,Tt.value)})}}}A.d(Qe,{U1:()=>fe,UN:()=>ye,kH:()=>xe,mA:()=>Xe,o7:()=>Ke,sX:()=>K}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=472)}]);