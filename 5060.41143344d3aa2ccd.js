"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5060],{5060:(E,y,n)=>{n.r(y),n.d(y,{AuthPageModule:()=>D});var t=n(1368),l=n(4716),c=n(2112),m=n(9148),f=n(1528),o=n(4496),v=n(9008),u=n(6088),C=n(6964),p=n(416),h=n(8208);function g(e,a){1&e&&(o.I0R(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1")(5,"em",6),o.OEk(6,"Developer Support"),o.C$Y()()(),o.I0R(7,"div")(8,"div",7)(9,"span",8),o.OEk(10,"Loading..."),o.C$Y()()()()()())}function T(e,a){1&e&&(o.I0R(0,"div"),o.OEk(1,"El correo es requerido"),o.C$Y())}function O(e,a){1&e&&(o.I0R(0,"div"),o.OEk(1,"Ingrese un correo v\xe1lido"),o.C$Y())}function R(e,a){if(1&e&&(o.I0R(0,"div",24),o.yuY(1,T,2,0,"div",25)(2,O,2,0,"div",25),o.C$Y()),2&e){const s=o.GaO(2);o.yG2(),o.E7m("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.required),o.yG2(),o.E7m("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.email)}}function A(e,a){1&e&&(o.I0R(0,"div"),o.OEk(1,"La contrase\xf1a es requerida"),o.C$Y())}function G(e,a){if(1&e&&(o.I0R(0,"div",24),o.yuY(1,A,2,0,"div",25),o.C$Y()),2&e){const s=o.GaO(2);o.yG2(),o.E7m("ngIf",null==s.form.controls.password.errors?null:s.form.controls.password.errors.required)}}const S=()=>["/auth","forgot-password"],x=()=>["/auth","sign-up"];function M(e,a){if(1&e){const s=o.KQA();o.I0R(0,"div",9)(1,"div",10)(2,"div",11),o.wR5(3,"img",12),o.C$Y(),o.I0R(4,"div",13)(5,"form",14),o.qCj("ngSubmit",function(){o.usT(s);const r=o.GaO();return o.CGJ(r.submit())})("Keypress.enter",function(){o.usT(s);const r=o.GaO();return o.CGJ(r.submit())}),o.wR5(6,"app-logo")(7,"app-custom-input",15),o.yuY(8,R,3,2,"div",16),o.wR5(9,"app-custom-input",17),o.yuY(10,G,2,1,"div",16),o.I0R(11,"p",18)(12,"a",19),o.OEk(13,"\xbfOlvidaste tu contrase\xf1a?"),o.C$Y()(),o.I0R(14,"ion-button",20),o.OEk(15," Ingresar "),o.wR5(16,"ion-icon",21),o.C$Y(),o.I0R(17,"ion-button",22),o.OEk(18," Reg\xedstrate "),o.wR5(19,"ion-icon",23),o.C$Y()()()()()}if(2&e){const s=o.GaO();o.yG2(3),o.E7m("src",s.imagen1,o.K6U),o.yG2(2),o.E7m("formGroup",s.form),o.yG2(2),o.E7m("control",s.form.controls.email),o.yG2(),o.E7m("ngIf",s.form.controls.email.errors&&s.form.controls.email.touched),o.yG2(),o.E7m("control",s.form.controls.password),o.yG2(),o.E7m("ngIf",s.form.controls.email.errors&&s.form.controls.password.touched),o.yG2(2),o.E7m("routerLink",o.q4q(9,S)),o.yG2(2),o.E7m("disabled",s.form.invalid),o.yG2(3),o.E7m("routerLink",o.q4q(10,x))}}const _=[{path:"",component:(()=>{var e;class a{constructor(i){this.router=i,this.imagen1="../assets/icon/img_1.jpeg",this.imagen2="../assets/icon/img_2.jpeg",this.imagen3="../assets/icon/img_3.jpeg",this.bootstrapjs="../assets/js/bootstrap.js",this.form=new l.WC({email:new l.Ku("",[l.AQ.required,l.AQ.email]),password:new l.Ku("",[l.AQ.required])}),this.showWelcome=!0,this.firebaseSvc=(0,o.uUt)(v.R),this.utilsSvc=(0,o.uUt)(u.e),this.dataService=(0,o.uUt)(C.A)}ngOnInit(){setTimeout(()=>{this.endTime=performance.now(),this.calculateDynamicWaitTime()},3e3)}submit(){var i=this;return(0,f.c)(function*(){if(i.form.valid){const r=yield i.utilsSvc.loading();yield r.present();try{i.utilsSvc.isOnline()?i.firebaseSvc.signIn(i.form.value).then(d=>{console.log(d),i.getUserInfo(d.user.uid)}).catch(d=>{i.utilsSvc.presentToast({message:"Ocurrio un error, credenciales incorrectas",duration:2500,color:"danger",position:"middle",icon:"alert-circle-outline"})}):i.dataService.checkUser(i.form.value)?(console.log("Usuario encontrado localmente"),i.utilsSvc.routerLink("/main/home"),i.utilsSvc.presentToast({message:"Bienvenido",duration:2500,color:"success",position:"middle",icon:"alert-circle-outline"})):i.utilsSvc.presentToast({message:"No se encontr\xf3 el usuario localmente",duration:2500,color:"danger",position:"middle",icon:"alert-circle-outline"})}catch(d){console.log(d),i.utilsSvc.presentToast({message:"Ocurrio un error, favor de intentar nuevamente.",duration:2500,color:"danger",position:"middle",icon:"alert-circle-outline"})}finally{r.dismiss()}}})()}getUserInfo(i){var r=this;return(0,f.c)(function*(){const d=yield r.utilsSvc.loading();yield d.present();try{if(r.utilsSvc.isOnline()){let I=`users/${i}`;console.log(I);const P=yield r.firebaseSvc.getDocument(I);r.utilsSvc.saveInLocalStorage("user",P),r.utilsSvc.routerLink("/main/home"),r.form.reset(),r.utilsSvc.presentToast({message:`Te damos la bienvenida ${P.name}`,duration:2500,color:"success",position:"middle",icon:"person-circle-outline"})}else r.dataService.checkUser(r.form.value)||r.utilsSvc.presentToast({message:"No se encontr\xf3 el usuario localmente, intentar nuevamente",duration:2500,color:"danger",position:"middle",icon:"alert-circle-outline"})}catch(I){console.log(I),r.utilsSvc.presentToast({message:I.message,duration:2500,color:"danger",position:"middle",icon:"alert-circle-outline"})}finally{d.dismiss()}})()}calculateDynamicWaitTime(){let d=3e3-(this.endTime-this.startTime);d<0&&(d=0),setTimeout(()=>{this.showWelcome=!1},d)}}return(e=a).\u0275fac=function(i){return new(i||e)(o.GI1(m.E5))},e.\u0275cmp=o.In1({type:e,selectors:[["app-auth"]],decls:3,vars:2,consts:[["class","welcome-screen",4,"ngIf"],["class","d-flex-center",4,"ngIf"],[1,"welcome-screen"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","background-color","green"],[1,"text-center"],[1,"text-center",2,"color","white"],[1,"font-italic"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"d-flex-center"],[1,"row"],[1,"col-6","d-none","d-md-block",2,"padding-left","60px","padding-top","70px"],["alt","...",1,"d-block","w-100",2,"border-radius","25%",3,"src"],[1,"col-md-6"],[1,"auth-form",3,"formGroup","ngSubmit","Keypress.enter"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],[1,"ion-text-end"],["href","#",3,"routerLink"],["expand","block","color","#057400","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","log-in-outline"],["expand","block","mode","ios","fill","outline",1,"ion-margin-top",2,"color","#057400",3,"routerLink"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(i,r){1&i&&(o.I0R(0,"ion-content"),o.yuY(1,g,11,0,"div",0)(2,M,20,11,"div",1),o.C$Y()),2&i&&(o.yG2(),o.E7m("ngIf",r.showWelcome),o.yG2(),o.E7m("ngIf",!r.showWelcome))},dependencies:[t.u_,l.sz,l.u,c.sn,c._i,c.Ko,c.mY,c.mI,m.ER,p.y,l.uW,h.w]}),a})()},{path:"sign-up",loadChildren:()=>Promise.all([n.e(9312),n.e(1784)]).then(n.bind(n,1784)).then(e=>e.SignUpPageModule)},{path:"forgot-password",loadChildren:()=>Promise.all([n.e(9312),n.e(2448)]).then(n.bind(n,64)).then(e=>e.ForgotPasswordPageModule)},{path:"home",loadChildren:()=>n.e(3609).then(n.bind(n,3609)).then(e=>e.HomePageModule)}];let Y=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.a4G({type:e}),e.\u0275inj=o.s3X({imports:[m.qQ.forChild(_),m.qQ]}),a})();var w=n(9280);let D=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.a4G({type:e}),e.\u0275inj=o.s3X({imports:[t.MD,l.y,c.wZ,Y,w.k]}),a})()},416:(E,y,n)=>{n.d(y,{y:()=>v});var t=n(4496),l=n(1368),c=n(2112),m=n(4716);function f(u,C){if(1&u&&t.wR5(0,"ion-icon",4),2&u){const p=t.GaO();t.E7m("name",p.icon)}}function o(u,C){if(1&u){const p=t.KQA();t.I0R(0,"ion-button",5),t.qCj("click",function(){t.usT(p);const g=t.GaO();return t.CGJ(g.showOrHidePassword())}),t.wR5(1,"ion-icon",6),t.C$Y()}if(2&u){const p=t.GaO();t.yG2(),t.E7m("name",p.hide?"eye-outline":"eye-off-outline")}}let v=(()=>{var u;class C{constructor(){this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}showOrHidePassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}}return(u=C).\u0275fac=function(h){return new(h||u)},u.\u0275cmp=t.In1({type:u,selectors:[["app-custom-input"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon"},decls:4,vars:6,consts:[["lines","none",1,"custom-input"],["slot","start","color","primary",3,"name",4,"ngIf"],["label-placement","floating",3,"type","autocomplete","label","formControl"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["slot","start","color","primary",3,"name"],["slot","end","fill","clear","shape","round",3,"click"],["slot","icon-only",3,"name"]],template:function(h,g){1&h&&(t.I0R(0,"ion-item",0),t.yuY(1,f,1,1,"ion-icon",1),t.wR5(2,"ion-input",2),t.yuY(3,o,2,1,"ion-button",3),t.C$Y()),2&h&&(t.yG2(),t.E7m("ngIf",g.icon),t.yG2(),t.E7m("type",g.type)("autocomplete",g.autocomplete)("label",g.label)("formControl",g.control),t.yG2(),t.E7m("ngIf",g.isPassword))},dependencies:[l.u_,c.sn,c.Ko,c.A5,c.Yb,c.qG,m.ue,m.ug]}),C})()},8208:(E,y,n)=>{n.d(y,{w:()=>c});var t=n(4496),l=n(2112);let c=(()=>{var m;class f{constructor(){this.rutaImagen="../assets/icon/logo_dev.jpeg"}ngOnInit(){}}return(m=f).\u0275fac=function(v){return new(v||m)},m.\u0275cmp=t.In1({type:m,selectors:[["app-logo"]],decls:8,vars:0,consts:[[2,"color","#057400"],[1,"row"],["name","shield-outline",1,"shield-icon",2,"color","#057400"]],template:function(v,u){1&v&&(t.I0R(0,"ion-text",0)(1,"div",1)(2,"div"),t.wR5(3,"ion-icon",2),t.C$Y(),t.I0R(4,"div")(5,"h1")(6,"strong"),t.OEk(7,"DevSupo"),t.C$Y()()()()())},dependencies:[l.Ko,l.Wg],styles:[".shield-icon[_ngcontent-%COMP%]{font-size:80px;margin-top:20px}h1[_ngcontent-%COMP%]{margin-top:0}.borderPhoto[_ngcontent-%COMP%]{margin-top:30px;--border-radius: 15px}"]}),f})()}}]);